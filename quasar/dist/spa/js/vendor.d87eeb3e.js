(self["webpackChunkballstreet_bitcoin_bay"]=self["webpackChunkballstreet_bitcoin_bay"]||[]).push([[736],{9619:(e,t,n)=>{"use strict";n.d(t,{$:()=>Bt,A:()=>c,B:()=>d,G:()=>Me,H:()=>qe,J:()=>tt,L:()=>fe,M:()=>ht,N:()=>gt,P:()=>Mi,Q:()=>mt,R:()=>Ti,T:()=>vt,U:()=>pt,V:()=>wt,W:()=>_t,X:()=>At,Y:()=>Mt,Z:()=>Dt,_:()=>Ft,a:()=>Mn,a0:()=>Ut,a1:()=>jt,a2:()=>Yt,a3:()=>Wt,a4:()=>Xt,a5:()=>$t,a6:()=>Gt,a7:()=>Kt,a8:()=>Zt,a9:()=>Qt,aA:()=>dr,aB:()=>cr,aC:()=>Ji,aD:()=>Qi,aE:()=>Ne,aI:()=>zn,aL:()=>bt,aa:()=>en,ab:()=>tn,ac:()=>nn,af:()=>sn,ag:()=>on,ah:()=>an,ak:()=>Pt,al:()=>mn,an:()=>xn,ao:()=>An,ap:()=>Ce,aq:()=>k,ar:()=>ke,as:()=>we,at:()=>v,au:()=>Ur,av:()=>mr,aw:()=>y,ax:()=>_,ay:()=>A,az:()=>pe,b:()=>Nn,c:()=>Ui,d:()=>Yi,e:()=>ji,f:()=>nr,g:()=>or,h:()=>rr,i:()=>oi,j:()=>lr,k:()=>Xr,l:()=>Ri,m:()=>Kr,n:()=>ns,o:()=>l,r:()=>Li,s:()=>Pi,u:()=>Oi,y:()=>vn});var i=n(5505),r=n(8897);function s(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;var o=n(9795),a=n(3513);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},c={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",["timeout"]:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function h(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d=u,f=h,p=new i.LL("auth","Firebase",h()),g=new o.Yd("@firebase/auth");function m(e,...t){g.logLevel<=o["in"].ERROR&&g.error(`Auth (${r.SDK_VERSION}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(e,...t){throw w(e,...t)}function y(e,...t){return w(e,...t)}function b(e,t,n){const r=Object.assign(Object.assign({},f()),{[t]:n}),s=new i.LL("auth","Firebase",r);return s.create(t,{appName:e.name})}function x(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&v(e,"argument-error"),b(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w(e,...t){if("string"!==typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return p.create(e,...t)}function _(e,t,...n){if(!e)throw w(t,...n)}function S(e){const t="INTERNAL ASSERTION FAILED: "+e;throw m(t),new Error(t)}function k(e,t){e||S(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C=new Map;function A(e){k(e instanceof Function,"Expected a class definition");let t=C.get(e);return t?(k(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,C.set(e,t),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(e,t){const n=(0,r._getProvider)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.vZ)(r,null!==t&&void 0!==t?t:{}))return e;v(e,"already-initialized")}const s=n.initialize({options:t});return s}function I(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(A);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function P(){return"http:"===R()||"https:"===R()}function R(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(P()||(0,i.ru)()||"connection"in navigator))||navigator.onLine}function N(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e,t){this.shortDelay=e,this.longDelay=t,k(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return L()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e,t){k(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void S("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void S("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void S("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"internal-error",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error"},z=new O(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function q(e,t,n,r,s={}){return V(e,s,(async()=>{let s={},o={};r&&("GET"===t?o=r:s={body:JSON.stringify(r)});const a=(0,i.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),D.fetch()(U(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))}))}async function V(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},F),t);try{const t=new j(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Y(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Y(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Y(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Y(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw b(e,a,o);v(e,a)}}catch(s){if(s instanceof i.ZR)throw s;v(e,"network-request-failed")}}async function H(e,t,n,i,r={}){const s=await q(e,t,n,i,r);return"mfaPendingCredential"in s&&v(e,"multi-factor-auth-required",{_serverResponse:s}),s}function U(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?M(e.config,r):`${e.config.apiScheme}://${r}`}class j{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(y(this.auth,"network-request-failed"))),z.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Y(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=y(e,t,i);return r.customData._tokenResponse=n,r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W(e,t){return q(e,"POST","/v1/accounts:delete",t)}async function X(e,t){return q(e,"POST","/v1/accounts:update",t)}async function $(e,t){return q(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K(e,t=!1){const n=(0,i.m9)(e),r=await n.getIdToken(t),s=Q(r);_(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"===typeof s.firebase?s.firebase:void 0,a=null===o||void 0===o?void 0:o["sign_in_provider"];return{claims:s,token:r,authTime:G(Z(s.auth_time)),issuedAtTime:G(Z(s.iat)),expirationTime:G(Z(s.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o["sign_in_second_factor"])||null}}function Z(e){return 1e3*Number(e)}function Q(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return m("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.tV)(n);return e?JSON.parse(e):(m("Failed to decode base64 JWT payload"),null)}catch(s){return m("Caught error parsing JWT payload as JSON",s),null}}function J(e){const t=Q(e);return _(t,"internal-error"),_("undefined"!==typeof t.exp,"internal-error"),_("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ee(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof i.ZR&&te(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function te({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function re(e){var t;const n=e.auth,i=await e.getIdToken(),r=await ee(e,$(n,{idToken:i}));_(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ae(s.providerUserInfo):[],a=oe(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ie(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,h)}async function se(e){const t=(0,i.m9)(e);await re(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oe(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}function ae(e){return e.map((e=>{var{providerId:t}=e,n=s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function le(e,t){const n=await V(e,{},(async()=>{const n=(0,i.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=U(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",D.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_(e.idToken,"internal-error"),_("undefined"!==typeof e.idToken,"internal-error"),_("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):J(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return _(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await le(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new ce;return n&&(_("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(_("string"===typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(_("number"===typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ce,this.toJSON())}_performRefresh(){return S("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(e,t){_("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class he{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=s(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ie(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await ee(this,this.stsTokenManager.getToken(this.auth,e));return _(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return K(this,e)}reload(){return se(this)}_assign(e){this!==e&&(_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new he(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await re(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ee(this,W(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:S}=t;_(y&&S,e,"internal-error");const k=ce.fromJSON(this.name,S);_("string"===typeof y,e,"internal-error"),ue(u,e.name),ue(h,e.name),_("boolean"===typeof b,e,"internal-error"),_("boolean"===typeof x,e,"internal-error"),ue(d,e.name),ue(f,e.name),ue(p,e.name),ue(g,e.name),ue(m,e.name),ue(v,e.name);const C=new he({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(C.providerData=w.map((e=>Object.assign({},e)))),g&&(C._redirectEventId=g),C}static async _fromIdTokenResponse(e,t,n=!1){const i=new ce;i.updateFromServerResponse(t);const r=new he({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await re(r),r}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}de.type="NONE";const fe=de;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(e,t,n){return`firebase:${e}:${t}:${n}`}class ge{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=pe(this.userKey,i.apiKey,r),this.fullPersistenceKey=pe("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?he._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ge(A(fe),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||A(fe);const s=pe(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=he._fromJSON(e,t);c!==r&&(o=n),r=c;break}}catch(l){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(s)}catch(l){}}))),new ge(r,e,n)):new ge(r,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ve(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_e(t))return"Blackberry";if(Se(t))return"Webos";if(ye(t))return"Safari";if((t.includes("chrome/")||be(t))&&!t.includes("edge/"))return"Chrome";if(we(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ve(e=(0,i.z$)()){return/firefox\//i.test(e)}function ye(e=(0,i.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function be(e=(0,i.z$)()){return/crios\//i.test(e)}function xe(e=(0,i.z$)()){return/iemobile/i.test(e)}function we(e=(0,i.z$)()){return/android/i.test(e)}function _e(e=(0,i.z$)()){return/blackberry/i.test(e)}function Se(e=(0,i.z$)()){return/webos/i.test(e)}function ke(e=(0,i.z$)()){return/iphone|ipad|ipod/i.test(e)}function Ce(e=(0,i.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function Ae(e=(0,i.z$)()){var t;return ke(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}function Te(){return(0,i.w1)()&&10===document.documentMode}function Ie(e=(0,i.z$)()){return ke(e)||we(e)||Se(e)||_e(e)||/windows phone/i.test(e)||xe(e)}function Ee(){try{return!(!window||window===window.top)}catch(e){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(e,t=[]){let n;switch(e){case"Browser":n=me((0,i.z$)());break;case"Worker":n=`${me((0,i.z$)())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${r.SDK_VERSION}/${s}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{const i=e(t);n(i)}catch(r){i(r)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oe(this),this.idTokenSubscription=new Oe(this),this.beforeStateQueue=new Re(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=A(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await ge.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await re(e)}catch(t){if("auth/network-request-failed"!==t.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,i.m9)(e):null;return t&&_(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(A(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&A(e)||this._popupRedirectResolver;_(t,this,"argument-error"),this.redirectPersistenceManager=await ge.create(this,[A(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return _(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"===typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function Ne(e){return(0,i.m9)(e)}class Oe{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.ne)((e=>this.observer=e))}get next(){return _(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Me(e,t,n){const i=Ne(e);_(i._canInitEmulator,i,"emulator-config-failed"),_(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=De(t),{host:o,port:a}=Fe(t),l=null===a?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Be()}function De(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Fe(e){const t=De(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:ze(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:ze(t)}}}function ze(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Be(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return S("not implemented")}_getIdTokenResponse(e){return S("not implemented")}_linkToIdToken(e,t){return S("not implemented")}_getReauthenticationResolver(e){return S("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ve(e,t){return q(e,"POST","/v1/accounts:resetPassword",B(e,t))}async function He(e,t){return q(e,"POST","/v1/accounts:update",t)}async function Ue(e,t){return q(e,"POST","/v1/accounts:update",B(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function je(e,t){return H(e,"POST","/v1/accounts:signInWithPassword",B(e,t))}async function Ye(e,t){return q(e,"POST","/v1/accounts:sendOobCode",B(e,t))}async function We(e,t){return Ye(e,t)}async function Xe(e,t){return Ye(e,t)}async function $e(e,t){return Ye(e,t)}async function Ge(e,t){return Ye(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ke(e,t){return H(e,"POST","/v1/accounts:signInWithEmailLink",B(e,t))}async function Ze(e,t){return H(e,"POST","/v1/accounts:signInWithEmailLink",B(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe extends qe{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Qe(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Qe(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return je(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ke(e,{email:this._email,oobCode:this._password});default:v(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return He(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ze(e,{idToken:t,email:this._email,oobCode:this._password});default:v(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Je(e,t){return H(e,"POST","/v1/accounts:signInWithIdp",B(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et="http://localhost";class tt extends qe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new tt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):v("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=s(t,["providerId","signInMethod"]);if(!n||!i)return null;const o=new tt(n,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Je(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}buildRequest(){const e={requestUri:et,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t["id_token"]=this.idToken),this.accessToken&&(t["access_token"]=this.accessToken),this.secret&&(t["oauth_token_secret"]=this.secret),t["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(t["nonce"]=this.nonce),e.postBody=(0,i.xO)(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nt(e,t){return q(e,"POST","/v1/accounts:sendVerificationCode",B(e,t))}async function it(e,t){return H(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,t))}async function rt(e,t){const n=await H(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,t));if(n.temporaryProof)throw Y(e,"account-exists-with-different-credential",n);return n}const st={["USER_NOT_FOUND"]:"user-not-found"};async function ot(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return H(e,"POST","/v1/accounts:signInWithPhoneNumber",B(e,n),st)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at extends qe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new at({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new at({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return it(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return rt(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return ot(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new at({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ct(e){const t=(0,i.zd)((0,i.pd)(e))["link"],n=t?(0,i.zd)((0,i.pd)(t))["deep_link_id"]:null,r=(0,i.zd)((0,i.pd)(e))["deep_link_id"],s=r?(0,i.zd)((0,i.pd)(r))["link"]:null;return s||r||n||t||e}class ut{constructor(e){var t,n,r,s,o,a;const l=(0,i.zd)((0,i.pd)(e)),c=null!==(t=l["apiKey"])&&void 0!==t?t:null,u=null!==(n=l["oobCode"])&&void 0!==n?n:null,h=lt(null!==(r=l["mode"])&&void 0!==r?r:null);_(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(s=l["continueUrl"])&&void 0!==s?s:null,this.languageCode=null!==(o=l["languageCode"])&&void 0!==o?o:null,this.tenantId=null!==(a=l["tenantId"])&&void 0!==a?a:null}static parseLink(e){const t=ct(e);try{return new ut(t)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ht{constructor(){this.providerId=ht.PROVIDER_ID}static credential(e,t){return Qe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ut.parseLink(t);return _(n,"argument-error"),Qe._fromEmailAndCode(e,n.code,n.tenantId)}}ht.PROVIDER_ID="password",ht.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ht.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class dt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft extends dt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pt extends ft{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return _("providerId"in t&&"signInMethod"in t,"argument-error"),tt._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return _(e.idToken||e.accessToken,"argument-error"),tt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return pt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return pt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:r,nonce:s,providerId:o}=e;if(!n&&!i&&!t&&!r)return null;if(!o)return null;try{return new pt(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:r})}catch(a){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends ft{constructor(){super("facebook.com")}static credential(e){return tt._fromParams({providerId:gt.PROVIDER_ID,signInMethod:gt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gt.credentialFromTaggedObject(e)}static credentialFromError(e){return gt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return gt.credential(e.oauthAccessToken)}catch(t){return null}}}gt.FACEBOOK_SIGN_IN_METHOD="facebook.com",gt.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mt extends ft{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tt._fromParams({providerId:mt.PROVIDER_ID,signInMethod:mt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return mt.credentialFromTaggedObject(e)}static credentialFromError(e){return mt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return mt.credential(t,n)}catch(i){return null}}}mt.GOOGLE_SIGN_IN_METHOD="google.com",mt.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vt extends ft{constructor(){super("github.com")}static credential(e){return tt._fromParams({providerId:vt.PROVIDER_ID,signInMethod:vt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vt.credentialFromTaggedObject(e)}static credentialFromError(e){return vt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return vt.credential(e.oauthAccessToken)}catch(t){return null}}}vt.GITHUB_SIGN_IN_METHOD="github.com",vt.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const yt="http://localhost";class bt extends qe{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Je(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:r}=t;return n&&i&&r&&n===i?new bt(n,r):null}static _create(e,t){return new bt(e,t)}buildRequest(){return{requestUri:yt,returnSecureToken:!0,pendingToken:this.pendingToken}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="saml.";class wt extends dt{constructor(e){_(e.startsWith(xt),"argument-error"),super(e)}static credentialFromResult(e){return wt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return wt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=bt.fromJSON(e);return _(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return bt._create(n,t)}catch(i){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t extends ft{constructor(){super("twitter.com")}static credential(e,t){return tt._fromParams({providerId:_t.PROVIDER_ID,signInMethod:_t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _t.credentialFromTaggedObject(e)}static credentialFromError(e){return _t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return _t.credential(t,n)}catch(i){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function St(e,t){return H(e,"POST","/v1/accounts:signUp",B(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_t.TWITTER_SIGN_IN_METHOD="twitter.com",_t.PROVIDER_ID="twitter.com";class kt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const r=await he._fromIdTokenResponse(e,n,i),s=Ct(n),o=new kt({user:r,providerId:s,_tokenResponse:n,operationType:t});return o}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Ct(n);return new kt({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Ct(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function At(e){var t;const n=Ne(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new kt({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await St(n,{returnSecureToken:!0}),r=await kt._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends i.ZR{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Tt.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Tt(e,t,n,i)}}function It(e,t,n,i){const r="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return r.catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Tt._fromErrorAndOperation(e,n,t,i);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pt(e,t){const n=(0,i.m9)(e);await Lt(!0,n,t);const{providerUserInfo:r}=await X(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),s=Et(r||[]);return n.providerData=n.providerData.filter((e=>s.has(e.providerId))),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Rt(e,t,n=!1){const i=await ee(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return kt._forOperation(e,"link",i)}async function Lt(e,t,n){await re(t);const i=Et(t.providerData),r=!1===e?"provider-already-linked":"no-such-provider";_(i.has(n)===e,t.auth,r)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nt(e,t,n=!1){const{auth:i}=e,r="reauthenticate";try{const s=await ee(e,It(i,r,t,e),n);_(s.idToken,i,"internal-error");const o=Q(s.idToken);_(o,i,"internal-error");const{sub:a}=o;return _(e.uid===a,i,"user-mismatch"),kt._forOperation(e,r,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&v(i,"user-mismatch"),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ot(e,t,n=!1){const i="signIn",r=await It(e,i,t),s=await kt._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function Mt(e,t){return Ot(Ne(e),t)}async function Dt(e,t){const n=(0,i.m9)(e);return await Lt(!1,n,t.providerId),Rt(n,t)}async function Ft(e,t){return Nt((0,i.m9)(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zt(e,t){return H(e,"POST","/v1/accounts:signInWithCustomToken",B(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bt(e,t){const n=Ne(e),i=await zt(n,{token:t,returnSecureToken:!0}),r=await kt._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Vt._fromServerResponse(e,t):v(e,"internal-error")}}class Vt extends qt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Vt(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(e,t,n){var i;_((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),_("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(_(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ut(e,t,n){const r=(0,i.m9)(e),s={requestType:"PASSWORD_RESET",email:t};n&&Ht(r,s,n),await Xe(r,s)}async function jt(e,t,n){await Ve((0,i.m9)(e),{oobCode:t,newPassword:n})}async function Yt(e,t){await Ue((0,i.m9)(e),{oobCode:t})}async function Wt(e,t){const n=(0,i.m9)(e),r=await Ve(n,{oobCode:t}),s=r.requestType;switch(_(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_(r.mfaInfo,n,"internal-error");default:_(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=qt._fromServerResponse(Ne(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}}async function Xt(e,t){const{data:n}=await Wt((0,i.m9)(e),t);return n.email}async function $t(e,t,n){const i=Ne(e),r=await St(i,{returnSecureToken:!0,email:t,password:n}),s=await kt._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(s.user),s}function Gt(e,t,n){return Mt((0,i.m9)(e),ht.credential(t,n))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kt(e,t,n){const r=(0,i.m9)(e),s={requestType:"EMAIL_SIGNIN",email:t};_(n.handleCodeInApp,r,"argument-error"),n&&Ht(r,s,n),await $e(r,s)}function Zt(e,t){const n=ut.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}async function Qt(e,t,n){const r=(0,i.m9)(e),s=ht.credentialWithLink(t,n||E());return _(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Mt(r,s)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jt(e,t){return q(e,"POST","/v1/accounts:createAuthUri",B(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function en(e,t){const n=P()?E():"http://localhost",r={identifier:t,continueUri:n},{signinMethods:s}=await Jt((0,i.m9)(e),r);return s||[]}async function tn(e,t){const n=(0,i.m9)(e),r=await e.getIdToken(),s={requestType:"VERIFY_EMAIL",idToken:r};t&&Ht(n.auth,s,t);const{email:o}=await We(n.auth,s);o!==e.email&&await e.reload()}async function nn(e,t,n){const r=(0,i.m9)(e),s=await e.getIdToken(),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:t};n&&Ht(r.auth,o,n);const{email:a}=await Ge(r.auth,o);a!==e.email&&await e.reload()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rn(e,t){return q(e,"POST","/v1/accounts:update",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sn(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,i.m9)(e),s=await r.getIdToken(),o={idToken:s,displayName:t,photoUrl:n,returnSecureToken:!0},a=await ee(r,rn(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find((({providerId:e})=>"password"===e));l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function on(e,t){return ln((0,i.m9)(e),t,null)}function an(e,t){return ln((0,i.m9)(e),null,t)}async function ln(e,t,n){const{auth:i}=e,r=await e.getIdToken(),s={idToken:r,returnSecureToken:!0};t&&(s.email=t),n&&(s.password=n);const o=await ee(e,He(i,s));await e._updateTokensIfNecessary(o,!0)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!i&&(null===e||void 0===e?void 0:e.idToken)){const i=null===(n=null===(t=Q(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n["sign_in_provider"];if(i){const e="anonymous"!==i&&"custom"!==i?i:null;return new un(s,e)}}if(!i)return null;switch(i){case"facebook.com":return new dn(s,r);case"github.com":return new fn(s,r);case"google.com":return new pn(s,r);case"twitter.com":return new gn(s,r,e.screenName||null);case"custom":case"anonymous":return new un(s,null);default:return new un(s,i,r)}}class un{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class hn extends un{constructor(e,t,n,i){super(e,t,n),this.username=i}}class dn extends un{constructor(e,t){super(e,"facebook.com",t)}}class fn extends hn{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class pn extends un{constructor(e,t){super(e,"google.com",t)}}class gn extends hn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function mn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:cn(n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(e){return(0,i.m9)(e).signOut()}class yn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new yn("enroll",e)}static _fromMfaPendingCredential(e){return new yn("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return yn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return yn._fromIdtoken(e.multiFactorSession.idToken)}return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ne(e),i=t.customData._serverResponse,r=(i.mfaInfo||[]).map((e=>qt._fromServerResponse(n,e)));_(i.mfaPendingCredential,n,"internal-error");const s=yn._fromMfaPendingCredential(i.mfaPendingCredential);return new bn(s,r,(async e=>{const r=await e._process(n,s);delete i.mfaInfo,delete i.mfaPendingCredential;const o=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await kt._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return _(t.user,n,"internal-error"),kt._forOperation(t.user,t.operationType,o);default:v(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function xn(e,t){var n;const r=(0,i.m9)(e),s=t;return _(t.customData.operationType,r,"argument-error"),_(null===(n=s.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),bn._fromError(r,s)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(e,t){return q(e,"POST","/v2/accounts/mfaEnrollment:start",B(e,t))}function _n(e,t){return q(e,"POST","/v2/accounts/mfaEnrollment:finalize",B(e,t))}function Sn(e,t){return q(e,"POST","/v2/accounts/mfaEnrollment:withdraw",B(e,t))}class kn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>qt._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new kn(e)}async getSession(){return yn._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,i=await this.getSession(),r=await ee(this.user,n._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken(),i=await ee(this.user,Sn(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(i);try{await this.user.reload()}catch(r){if("auth/user-token-expired"!==r.code)throw r}}}const Cn=new WeakMap;function An(e){const t=(0,i.m9)(e);return Cn.has(t)||Cn.set(t,kn._fromUser(t)),Cn.get(t)}const Tn="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tn,"1"),this.storage.removeItem(Tn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){const e=(0,i.z$)();return ye(e)||ke(e)}const Pn=1e3,Rn=10;class Ln extends In{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=En()&&Ee(),this.fallbackToPolling=Ie(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Te()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Rn):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),Pn)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ln.type="LOCAL";const Nn=Ln;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On extends In{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}On.type="SESSION";const Mn=On;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(e){return Promise.all(e.map((async e=>{try{const t=await e;return{fulfilled:!0,value:t}}catch(t){return{fulfilled:!1,reason:t}}})))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Fn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async e=>e(t.origin,r))),a=await Dn(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function zn(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.receivers=[];class Bn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const l=zn("",20);i.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(t.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return window}function Vn(e){qn().location.href=e}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return"undefined"!==typeof qn()["WorkerGlobalScope"]&&"function"===typeof qn()["importScripts"]}async function Un(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}function jn(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}function Yn(){return Hn()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="firebaseLocalStorageDb",Xn=1,$n="firebaseLocalStorage",Gn="fbase_key";class Kn{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Zn(e,t){return e.transaction([$n],t?"readwrite":"readonly").objectStore($n)}function Qn(){const e=indexedDB.deleteDatabase(Wn);return new Kn(e).toPromise()}function Jn(){const e=indexedDB.open(Wn,Xn);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore($n,{keyPath:Gn})}catch(i){n(i)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains($n)?t(n):(n.close(),await Qn(),t(await Jn()))}))}))}async function ei(e,t,n){const i=Zn(e,!0).put({[Gn]:t,value:n});return new Kn(i).toPromise()}async function ti(e,t){const n=Zn(e,!1).get(t),i=await new Kn(n).toPromise();return void 0===i?null:i.value}function ni(e,t){const n=Zn(e,!0).delete(t);return new Kn(n).toPromise()}const ii=800,ri=3;class si{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Jn()),this.db}async _withRetries(e){let t=0;while(1)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>ri)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fn._getInstance(Yn()),this.receiver._subscribe("keyChanged",(async(e,t)=>{const n=await this._poll();return{keyProcessed:n.includes(t.key)}})),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await Un(),!this.activeServiceWorker)return;this.sender=new Bn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&jn()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jn();return await ei(e,Tn,"1"),await ni(e,Tn),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ei(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>ti(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ni(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Zn(e,!1).getAll();return new Kn(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),ii)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}si.type="LOCAL";const oi=si;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(e,t){return q(e,"POST","/v2/accounts/mfaSignIn:start",B(e,t))}function li(e,t){return q(e,"POST","/v2/accounts/mfaSignIn:finalize",B(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ci(e){return(await q(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}function hi(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=y("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",ui().appendChild(i)}))}function di(e){return`__${e}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=500,pi=6e4,gi=1e12;class mi{constructor(e){this.auth=e,this.counter=gi,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new vi(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||gi;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||gi;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||gi;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class vi{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"===typeof e?document.getElementById(e):e;_(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=yi(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),pi)}),fi))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function yi(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=di("rcb"),xi=new O(3e4,6e4),wi="https://www.google.com/recaptcha/api.js?";class _i{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!qn().grecaptcha}load(e,t=""){return _(Si(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(qn().grecaptcha):new Promise(((n,r)=>{const s=qn().setTimeout((()=>{r(y(e,"network-request-failed"))}),xi.get());qn()[bi]=()=>{qn().clearTimeout(s),delete qn()[bi];const i=qn().grecaptcha;if(!i)return void r(y(e,"internal-error"));const o=i.render;i.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(i)};const o=`${wi}?${(0,i.xO)({onload:bi,render:"explicit",hl:t})}`;hi(o).catch((()=>{clearTimeout(s),r(y(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!qn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Si(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}class ki{async load(e){return new mi(e)}clearedOneInstance(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="recaptcha",Ai={theme:"light",type:"image"};class Ti{constructor(e,t=Object.assign({},Ai),n){this.parameters=t,this.type=Ci,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ne(n),this.isInvisible="invisible"===this.parameters.size,_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"===typeof e?document.getElementById(e):e;_(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ki:new _i,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const i=e=>{e&&(this.tokenChangeListeners.delete(i),n(e))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){_(!this.parameters.sitekey,this.auth,"argument-error"),_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=qn()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){_(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){_(P()&&!Hn(),this.auth,"internal-error"),await Ii(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await ci(this.auth);_(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return _(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function Ii(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=at._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Pi(e,t,n){const r=Ne(e),s=await Ni(r,t,(0,i.m9)(n));return new Ei(s,(e=>Mt(r,e)))}async function Ri(e,t,n){const r=(0,i.m9)(e);await Lt(!1,r,"phone");const s=await Ni(r.auth,t,(0,i.m9)(n));return new Ei(s,(e=>Dt(r,e)))}async function Li(e,t,n){const r=(0,i.m9)(e),s=await Ni(r.auth,t,(0,i.m9)(n));return new Ei(s,(e=>Ft(r,e)))}async function Ni(e,t,n){var i;const r=await n.verify();try{let s;if(_("string"===typeof r,e,"argument-error"),_(n.type===Ci,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){_("enroll"===t.type,e,"internal-error");const n=await wn(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{_("signin"===t.type,e,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;_(n,e,"missing-multi-factor-info");const o=await ai(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await nt(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}async function Oi(e,t){await Rt((0,i.m9)(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.providerId=Mi.PROVIDER_ID,this.auth=Ne(e)}verifyPhoneNumber(e,t){return Ni(this.auth,e,(0,i.m9)(t))}static credential(e,t){return at._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Mi.credentialFromTaggedObject(t)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?at._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Di(e,t){return t?A(t):(_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi.PROVIDER_ID="phone",Mi.PHONE_SIGN_IN_METHOD="phone";class Fi extends qe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Je(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Je(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Je(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zi(e){return Ot(e.auth,new Fi(e),e.bypassAuthState)}function Bi(e){const{auth:t,user:n}=e;return _(n,t,"internal-error"),Nt(n,new Fi(e),e.bypassAuthState)}async function qi(e){const{auth:t,user:n}=e;return _(n,t,"internal-error"),Rt(n,new Fi(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zi;case"linkViaPopup":case"linkViaRedirect":return qi;case"reauthViaPopup":case"reauthViaRedirect":return Bi;default:v(this.auth,"internal-error")}}resolve(e){k(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){k(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new O(2e3,1e4);async function Ui(e,t,n){const i=Ne(e);x(e,t,dt);const r=Di(i,n),s=new Wi(i,"signInViaPopup",t,r);return s.executeNotNull()}async function ji(e,t,n){const r=(0,i.m9)(e);x(r.auth,t,dt);const s=Di(r.auth,n),o=new Wi(r.auth,"reauthViaPopup",t,s,r);return o.executeNotNull()}async function Yi(e,t,n){const r=(0,i.m9)(e);x(r.auth,t,dt);const s=Di(r.auth,n),o=new Wi(r.auth,"linkViaPopup",t,s,r);return o.executeNotNull()}class Wi extends Vi{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,Wi.currentPopupAction&&Wi.currentPopupAction.cancel(),Wi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _(e,this.auth,"internal-error"),e}async onExecution(){k(1===this.filter.length,"Popup operations only handle one event");const e=zn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(y(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(y(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(y(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Hi.get())};e()}}Wi.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Xi="pendingRedirect",$i=new Map;class Gi extends Vi{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=$i.get(this.auth._key());if(!e){try{const t=await Ki(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}$i.set(this.auth._key(),e)}return this.bypassAuthState||$i.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Ki(e,t){const n=tr(t),i=er(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}async function Zi(e,t){return er(e)._set(tr(t),"true")}function Qi(){$i.clear()}function Ji(e,t){$i.set(e._key(),t)}function er(e){return A(e._redirectPersistence)}function tr(e){return pe(Xi,e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(e,t,n){return ir(e,t,n)}async function ir(e,t,n){const i=Ne(e);x(e,t,dt);const r=Di(i,n);return await Zi(r,i),r._openRedirect(i,t,"signInViaRedirect")}function rr(e,t,n){return sr(e,t,n)}async function sr(e,t,n){const r=(0,i.m9)(e);x(r.auth,t,dt);const s=Di(r.auth,n);await Zi(s,r.auth);const o=await ur(r);return s._openRedirect(r.auth,t,"reauthViaRedirect",o)}function or(e,t,n){return ar(e,t,n)}async function ar(e,t,n){const r=(0,i.m9)(e);x(r.auth,t,dt);const s=Di(r.auth,n);await Lt(!1,r,t.providerId),await Zi(s,r.auth);const o=await ur(r);return s._openRedirect(r.auth,t,"linkViaRedirect",o)}async function lr(e,t){return await Ne(e)._initializationPromise,cr(e,t,!1)}async function cr(e,t,n=!1){const i=Ne(e),r=Di(i,t),s=new Gi(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}async function ur(e){const t=zn(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=6e5;class dr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!gr(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!pr(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(y(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hr&&this.cachedEventUids.clear(),this.cachedEventUids.has(fr(e))}saveEventToCache(e){this.cachedEventUids.add(fr(e)),this.lastProcessedEventTime=Date.now()}}function fr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function pr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}function gr(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pr(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mr(e,t={}){return q(e,"GET","/v1/projects",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^https?/;async function br(e){if(e.config.emulator)return;const{authorizedDomains:t}=await mr(e);for(const i of t)try{if(xr(i))return}catch(n){}v(e,"unauthorized-domain")}function xr(e){const t=E(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!yr.test(n))return!1;if(vr.test(e))return i===e;const r=e.replace(/\./g,"\\."),s=new RegExp("^(.+\\."+r+"|"+r+")$","i");return s.test(i)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new O(3e4,6e4);function _r(){const e=qn().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Sr(e){return new Promise(((t,n)=>{var i,r,s;function o(){_r(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_r(),n(y(e,"network-request-failed"))},timeout:wr.get()})}if(null===(r=null===(i=qn().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=qn().gapi)||void 0===s?void 0:s.load)){const t=di("iframefcb");return qn()[t]=()=>{gapi.load?o():n(y(e,"network-request-failed"))},hi(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw kr=null,e}))}let kr=null;function Cr(e){return kr=kr||Sr(e),kr}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new O(5e3,15e3),Tr="__/auth/iframe",Ir="emulator/auth/iframe",Er={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rr(e){const t=e.config;_(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?M(t,Ir):`https://${e.config.authDomain}/${Tr}`,s={apiKey:t.apiKey,appName:e.name,v:r.SDK_VERSION},o=Pr.get(e.config.apiHost);o&&(s.eid=o);const a=e._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${(0,i.xO)(s).slice(1)}`}async function Lr(e){const t=await Cr(e),n=qn().gapi;return _(n,e,"internal-error"),t.open({where:document.body,url:Rr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Er,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=y(e,"network-request-failed"),s=qn().setTimeout((()=>{i(r)}),Ar.get());function o(){qn().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{i(r)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Or=500,Mr=600,Dr="_blank",Fr="http://localhost";class zr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Br(e,t,n,r=Or,s=Mr){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Nr),{width:r.toString(),height:s.toString(),top:o,left:a}),u=(0,i.z$)().toLowerCase();n&&(l=be(u)?Dr:n),ve(u)&&(t=t||Fr,c.scrollbars="yes");const h=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(Ae(u)&&"_self"!==l)return qr(t||"",l),new zr(null);const d=window.open(t||"",l,h);_(d,e,"popup-blocked");try{d.focus()}catch(f){}return new zr(d)}function qr(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="__/auth/handler",Hr="emulator/auth/handler";function Ur(e,t,n,s,o,a){_(e.config.authDomain,e,"auth-domain-config-required"),_(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:r.SDK_VERSION,eventId:o};if(t instanceof dt){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof ft){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const i of Object.keys(c))void 0===c[i]&&delete c[i];return`${jr(e)}?${(0,i.xO)(c).slice(1)}`}function jr({config:e}){return e.emulator?M(e,Hr):`https://${e.authDomain}/${Vr}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="webStorageSupport";class Wr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mn,this._completeRedirectFn=cr,this._overrideRedirectResult=Ji}async _openPopup(e,t,n,i){var r;k(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const s=Ur(e,t,n,E(),i);return Br(e,s,zn())}async _openRedirect(e,t,n,i){return await this._originValidation(e),Vn(Ur(e,t,n,E(),i)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(k(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Lr(e),n=new dr(e);return t.register("authEvent",(t=>{_(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");const i=n.onEvent(t.authEvent);return{status:i?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){const n=this.iframes[e._key()];n.send(Yr,{type:Yr},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[Yr];void 0!==r&&t(!!r),v(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=br(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ie()||ye()||ke()}}const Xr=Wr;class $r{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return S("unexpected MultiFactorSessionType")}}}class Gr extends $r{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Gr(e)}_finalizeEnroll(e,t,n){return _n(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return li(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Kr{constructor(){}static assertion(e){return Gr._fromCredential(e)}}Kr.FACTOR_ID="phone";var Zr="@firebase/auth",Qr="0.20.2";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Jr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function ts(e){(0,r._registerComponent)(new a.wA("auth",((t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),{apiKey:s,authDomain:o}=i.options;return((t,i)=>{_(s&&!s.includes(":"),"invalid-api-key",{appName:t.name}),_(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:t.name});const r={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pe(e)},a=new Le(t,i,r);return I(a,n),a})(i,r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{const i=e.getProvider("auth-internal");i.initialize()}))),(0,r._registerComponent)(new a.wA("auth-internal",(e=>{const t=Ne(e.getProvider("auth").getImmediate());return(e=>new Jr(e))(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.registerVersion)(Zr,Qr,es(e)),(0,r.registerVersion)(Zr,Qr,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e=(0,r.getApp)()){const t=(0,r._getProvider)(e,"auth");return t.isInitialized()?t.getImmediate():T(e,{popupRedirectResolver:Xr,persistence:[oi,Nn,Mn]})}ts("Browser")},7574:(e,t,n)=>{"use strict";n.d(t,{u7:()=>tg,Jj:()=>Kf,IX:()=>Of,my:()=>Sf,xU:()=>Ep,Lz:()=>Gf,WA:()=>er,F8:()=>Qf,$q:()=>Pp,W:()=>Rp,EK:()=>mr,PU:()=>rg,l7:()=>Dr,Ky:()=>qr,Xb:()=>kr,Cf:()=>yf,K9:()=>Zi,Me:()=>Ar,yq:()=>Xi,Wi:()=>pf,ET:()=>mg,Ab:()=>Ag,vr:()=>Cg,Fc:()=>Hf,hJ:()=>Af,B$:()=>Tf,at:()=>_f,oe:()=>gg,AK:()=>Sg,TF:()=>Yf,JU:()=>If,ST:()=>Bf,fH:()=>qf,Ix:()=>jf,Wu:()=>Gp,Lx:()=>$p,qY:()=>Ff,GL:()=>bg,QT:()=>og,kl:()=>lg,Xk:()=>cg,PL:()=>ug,UQ:()=>hg,zN:()=>dg,ad:()=>Df,nP:()=>Tg,b9:()=>Hp,vh:()=>Up,Pb:()=>Wf,L$:()=>Xf,cf:()=>vg,sc:()=>yg,Xo:()=>qp,IO:()=>Dp,iE:()=>Pf,Eo:()=>Ef,i3:()=>_g,Bt:()=>kg,pl:()=>fg,Ub:()=>ji,qK:()=>Np,TQ:()=>Wp,e0:()=>Yp,r7:()=>pg,Mx:()=>Uf,ar:()=>zp});var i,r=n(8897),s=n(3513),o=n(9795),a=n(5505),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},c={},u=u||{},h=l||self;function d(){}function f(e){var t=typeof e;return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++v)}var m="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function x(e,t,n){return x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b,x.apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function S(){this.s=this.s,this.o=this.o}var k=0,C={};S.prototype.s=!1,S.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=k)){var e=g(this);delete C[e]}},S.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const A=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const i=e.length,r="string"===typeof e?e.split(""):e;for(let s=0;s<i;s++)s in r&&t.call(n,r[s],s,e)};function I(e){e:{var t=Wn;const n=e.length,i="string"===typeof e?e.split(""):e;for(let r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}function E(e){return Array.prototype.concat.apply([],arguments)}function P(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function R(e){return/^[\s\xa0]*$/.test(e)}var L,N=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function O(e,t){return-1!=e.indexOf(t)}function M(e,t){return e<t?-1:e>t?1:0}e:{var D=h.navigator;if(D){var F=D.userAgent;if(F){L=F;break e}}L=""}function z(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function B(e){const t={};for(const n in e)t[n]=e[n];return t}var q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<q.length;t++)n=q[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function H(e){return H[" "](e),e}function U(e){var t=ne;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}H[" "]=d;var j,Y=O(L,"Opera"),W=O(L,"Trident")||O(L,"MSIE"),X=O(L,"Edge"),$=X||W,G=O(L,"Gecko")&&!(O(L.toLowerCase(),"webkit")&&!O(L,"Edge"))&&!(O(L,"Trident")||O(L,"MSIE"))&&!O(L,"Edge"),K=O(L.toLowerCase(),"webkit")&&!O(L,"Edge");function Z(){var e=h.document;return e?e.documentMode:void 0}e:{var Q="",J=function(){var e=L;return G?/rv:([^\);]+)(\)|;)/.exec(e):X?/Edge\/([\d\.]+)/.exec(e):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):K?/WebKit\/(\S+)/.exec(e):Y?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(J&&(Q=J?J[1]:""),W){var ee=Z();if(null!=ee&&ee>parseFloat(Q)){j=String(ee);break e}}j=Q}var te,ne={};function ie(){return U((function(){let e=0;const t=N(String(j)).split("."),n=N("9").split("."),i=Math.max(t.length,n.length);for(let o=0;0==e&&o<i;o++){var r=t[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;e=M(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||M(0==r[2].length,0==s[2].length)||M(r[2],s[2]),r=r[3],s=s[3]}while(0==e)}return 0<=e}))}if(h.document&&W){var re=Z();te=re||(parseInt(j,10)||void 0)}else te=void 0;var se=te,oe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",d,t),h.removeEventListener("test",d,t)}catch(n){}return e}();function ae(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function le(e,t){if(ae.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(G){e:{try{H(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ce[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&le.Z.h.call(this)}}ae.prototype.h=function(){this.defaultPrevented=!0},_(le,ae);var ce={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),he=0;function de(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=r,this.key=++he,this.ca=this.fa=!1}function fe(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function pe(e){this.src=e,this.g={},this.h=0}function ge(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],s=A(r,t);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(fe(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function me(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return r}return-1}pe.prototype.add=function(e,t,n,i,r){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=me(e,t,i,r);return-1<o?(t=e[o],n||(t.fa=!1)):(t=new de(t,this.src,s,!!i,r),t.fa=n,e.push(t)),t};var ve="closure_lm_"+(1e6*Math.random()|0),ye={};function be(e,t,n,i,r){if(i&&i.once)return _e(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)be(e,t[s],n,i,r);return null}return n=Ee(n),e&&e[ue]?e.N(t,n,p(i)?!!i.capture:!!i,r):xe(e,t,n,!1,i,r)}function xe(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var o=p(r)?!!r.capture:!!r,a=Te(e);if(a||(e[ve]=a=new pe(e)),n=a.add(t,n,i,o,s),n.proxy)return n;if(i=we(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)oe||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(Ce(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function we(){function e(n){return t.call(e.src,e.listener,n)}var t=Ae;return e}function _e(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)_e(e,t[s],n,i,r);return null}return n=Ee(n),e&&e[ue]?e.O(t,n,p(i)?!!i.capture:!!i,r):xe(e,t,n,!0,i,r)}function Se(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)Se(e,t[s],n,i,r);else i=p(i)?!!i.capture:!!i,n=Ee(n),e&&e[ue]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=me(s,n,i,r),-1<n&&(fe(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Te(e))&&(t=e.g[t.toString()],e=-1,t&&(e=me(t,n,i,r)),(n=-1<e?t[e]:null)&&ke(n))}function ke(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ue])ge(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Ce(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Te(t))?(ge(n,e),0==n.h&&(n.src=null,t[ve]=null)):fe(e)}}}function Ce(e){return e in ye?ye[e]:ye[e]="on"+e}function Ae(e,t){if(e.ca)e=!0;else{t=new le(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&ke(e),e=n.call(i,t)}return e}function Te(e){return e=e[ve],e instanceof pe?e:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(e){return"function"===typeof e?e:(e[Ie]||(e[Ie]=function(t){return e.handleEvent(t)}),e[Ie])}function Pe(){S.call(this),this.i=new pe(this),this.P=this,this.I=null}function Re(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,"string"===typeof t)t=new ae(t,e);else if(t instanceof ae)t.target=t.target||e;else{var r=t;t=new ae(i,e),V(t,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=Le(o,i,!0,t)&&r}if(o=t.g=e,r=Le(o,i,!0,t)&&r,r=Le(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)o=t.g=n[s],r=Le(o,i,!1,t)&&r}function Le(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&ge(e.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}_(Pe,S),Pe.prototype[ue]=!0,Pe.prototype.removeEventListener=function(e,t,n,i){Se(this,e,t,n,i)},Pe.prototype.M=function(){if(Pe.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)fe(n[i]);delete t.g[e],t.h--}}this.I=null},Pe.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},Pe.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var Ne=h.JSON.stringify;function Oe(){var e=Ue;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Me{constructor(){this.h=this.g=null}add(e,t){const n=Fe.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var De,Fe=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new ze),(e=>e.reset()));class ze{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Be(e){h.setTimeout((()=>{throw e}),0)}function qe(e,t){De||Ve(),He||(De(),He=!0),Ue.add(e,t)}function Ve(){var e=h.Promise.resolve(void 0);De=function(){e.then(je)}}var He=!1,Ue=new Me;function je(){for(var e;e=Oe();){try{e.h.call(e.g)}catch(n){Be(n)}var t=Fe;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}He=!1}function Ye(e,t){Pe.call(this),this.h=e||1,this.g=t||h,this.j=x(this.kb,this),this.l=Date.now()}function We(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Xe(e,t,n){if("function"===typeof e)n&&(e=x(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=x(e.handleEvent,e)}return 2147483647<Number(t)?-1:h.setTimeout(e,t||0)}function $e(e){e.g=Xe((()=>{e.g=null,e.i&&(e.i=!1,$e(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}_(Ye,Pe),i=Ye.prototype,i.da=!1,i.S=null,i.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Re(this,"tick"),this.da&&(We(this),this.start()))}},i.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.M=function(){Ye.Z.M.call(this),We(this),delete this.g};class Ge extends S{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$e(this)}M(){super.M(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(e){S.call(this),this.h=e,this.g={}}_(Ke,S);var Ze=[];function Qe(e,t,n,i){Array.isArray(n)||(n&&(Ze[0]=n.toString()),n=Ze);for(var r=0;r<n.length;r++){var s=be(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Je(e){z(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ke(e)}),e),e.g={}}function et(){this.g=!0}function tt(e,t,n,i,r,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+o}))}function nt(e,t,n,i,r,s,o){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+o}))}function it(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+st(e,n)+(i?" "+i:"")}))}function rt(e,t){e.info((function(){return"TIMEOUT: "+t}))}function st(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return Ne(n)}catch(a){return t}}Ke.prototype.M=function(){Ke.Z.M.call(this),Je(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},et.prototype.Aa=function(){this.g=!1},et.prototype.info=function(){};var ot={},at=null;function lt(){return at=at||new Pe}function ct(e){ae.call(this,ot.Ma,e)}function ut(e){const t=lt();Re(t,new ct(t,e))}function ht(e,t){ae.call(this,ot.STAT_EVENT,e),this.stat=t}function dt(e){const t=lt();Re(t,new ht(t,e))}function ft(e,t){ae.call(this,ot.Na,e),this.size=t}function pt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){e()}),t)}ot.Ma="serverreachability",_(ct,ae),ot.STAT_EVENT="statevent",_(ht,ae),ot.Na="timingevent",_(ft,ae);var gt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vt(){}function yt(e){return e.h||(e.h=e.i())}function bt(){}vt.prototype.h=null;var xt,wt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function _t(){ae.call(this,"d")}function St(){ae.call(this,"c")}function kt(){}function Ct(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new Ke(this),this.P=Tt,e=$?125:void 0,this.W=new Ye(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}_(_t,ae),_(St,ae),_(kt,vt),kt.prototype.g=function(){return new XMLHttpRequest},kt.prototype.i=function(){return{}},xt=new kt;var Tt=45e3,It={},Et={};function Pt(e,t,n){e.K=1,e.v=tn(Gt(t)),e.s=n,e.U=!0,Rt(e,null)}function Rt(e,t){e.F=Date.now(),Mt(e),e.A=Gt(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),vn(n.h,"t",i),e.C=0,n=e.l.H,e.h=new At,e.g=Si(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ge(x(e.Ia,e,e.g),e.O)),Qe(e.V,e.g,"readystatechange",e.gb),t=e.H?B(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ut(1),tt(e.j,e.u,e.A,e.m,e.X,e.s)}function Lt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Nt(e,t,n){let i,r=!0;for(;!e.I&&e.C<n.length;){if(i=Ot(e,n),i==Et){4==t&&(e.o=4,dt(14),r=!1),it(e.j,e.m,null,"[Incomplete Response]");break}if(i==It){e.o=4,dt(15),it(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}it(e.j,e.m,i,null),qt(e,i)}Lt(e)&&i!=Et&&i!=It&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,dt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gi(t),t.L=!0,dt(11))):(it(e.j,e.m,n,"[Invalid Chunked Response]"),Bt(e),zt(e))}function Ot(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?Et:(n=Number(t.substring(n,i)),isNaN(n)?It:(i+=1,i+n>t.length?Et:(t=t.substr(i,n),e.C=i+n,t)))}function Mt(e){e.Y=Date.now()+e.P,Dt(e,e.P)}function Dt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=pt(x(e.eb,e),t)}function Ft(e){e.B&&(h.clearTimeout(e.B),e.B=null)}function zt(e){0==e.l.G||e.I||yi(e.l,e)}function Bt(e){Ft(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,We(e.W),Je(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function qt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Cn(n.i,e)))if(n.I=e.N,!e.J&&Cn(n.i,e)&&3==n.G){try{var i=n.Ca.g.parse(t)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vi(n),si(n)}pi(n),dt(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=pt(x(n.ab,n),6e3));if(1>=kn(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else xi(n,11)}else if((e.J||n.g==e)&&vi(n),!R(t))for(r=n.Ca.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const r=c[4];null!=r&&(n.za=r,n.h.info("SVER="+n.za));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.i;!s.g&&(O(e,"spdy")||O(e,"quic")||O(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(An(s,s.h),s.h=null))}if(i.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.sa=e,en(i.F,i.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var o=e;if(i.oa=_i(i,i.H?i.la:null,i.W),o.J){Tn(i.i,o);var a=o,l=i.K;l&&a.setTimeout(l),a.B&&(Ft(a),Mt(a)),i.g=o}else fi(i);0<n.l.length&&li(n)}else"stop"!=c[0]&&"close"!=c[0]||xi(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?xi(n,7):ri(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}ut(4)}catch(c){}}function Vt(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}function Ht(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"===typeof e)T(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(f(e)||"string"===typeof e){n=[];for(var i=e.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,e)n[i++]=r;i=Vt(e),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}}function Ut(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Ut)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function jt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Yt(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var r={};for(n=t=0;t<e.g.length;)i=e.g[t],Yt(r,i)||(e.g[n++]=i,r[i]=1),t++;e.g.length=n}}function Yt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i=Ct.prototype,i.setTimeout=function(e){this.P=e},i.gb=function(e){e=e.target;const t=this.L;t&&3==Qn(e)?t.l():this.Ia(e)},i.Ia=function(e){try{if(e==this.g)e:{const u=Qn(this.g);var t=this.g.Da();const d=this.g.ba();if(!(3>u)&&(3!=u||$||this.g&&(this.h.h||this.g.ga()||Jn(this.g)))){this.I||4!=u||7==t||ut(8==t||0>=d?3:2),Ft(this);var n=this.g.ba();this.N=n;t:if(Lt(this)){var i=Jn(this.g);e="";var r=i.length,s=4==Qn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Bt(this),zt(this);var o="";break t}this.h.i=new h.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,nt(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,dt(12),Bt(this),zt(this);break e}it(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qt(this,n)}this.U?(Nt(this,u,o),$&&this.i&&3==u&&(Qe(this.V,this.W,"tick",this.fb),this.W.start())):(it(this.j,this.m,o,null),qt(this,o)),4==u&&Bt(this),this.i&&!this.I&&(4==u?yi(this.l,this):(this.i=!1,Mt(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,dt(12)):(this.o=0,dt(13)),Bt(this),zt(this)}}}catch(u){}},i.fb=function(){if(this.g){var e=Qn(this.g),t=this.g.ga();this.C<t.length&&(Ft(this),Nt(this,e,t),this.i&&4!=e&&Mt(this))}},i.cancel=function(){this.I=!0,Bt(this)},i.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(rt(this.j,this.A),2!=this.K&&(ut(3),dt(17)),Bt(this),this.o=2,zt(this)):Dt(this,this.Y-e)},i=Ut.prototype,i.R=function(){jt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},i.T=function(){return jt(this),this.g.concat()},i.get=function(e,t){return Yt(this.h,e)?this.h[e]:t},i.set=function(e,t){Yt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},i.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);e.call(t,s,r,this)}};var Wt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function $t(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof $t){this.g=void 0!==t?t:e.g,Kt(this,e.j),this.s=e.s,Zt(this,e.i),Qt(this,e.m),this.l=e.l,t=e.h;var n=new fn;n.i=t.i,t.g&&(n.g=new Ut(t.g),n.h=t.h),Jt(this,n),this.o=e.o}else e&&(n=String(e).match(Wt))?(this.g=!!t,Kt(this,n[1]||"",!0),this.s=sn(n[2]||""),Zt(this,n[3]||"",!0),Qt(this,n[4]),this.l=sn(n[5]||"",!0),Jt(this,n[6]||"",!0),this.o=sn(n[7]||"")):(this.g=!!t,this.h=new fn(null,this.g))}function Gt(e){return new $t(e)}function Kt(e,t,n){e.j=n?sn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Zt(e,t,n){e.i=n?sn(t,!0):t}function Qt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Jt(e,t,n){t instanceof fn?(e.h=t,bn(e.h,e.g)):(n||(t=on(t,hn)),e.h=new fn(t,e.g))}function en(e,t,n){e.h.set(t,n)}function tn(e){return en(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nn(e){return e instanceof $t?Gt(e):new $t(e,void 0)}function rn(e,t,n,i){var r=new $t(null,void 0);return e&&Kt(r,e),t&&Zt(r,t),n&&Qt(r,n),i&&(r.l=i),r}function sn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function on(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,an),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function an(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}$t.prototype.toString=function(){var e=[],t=this.j;t&&e.push(on(t,ln,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(on(t,ln,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(on(n,"/"==n.charAt(0)?un:cn,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",on(n,dn)),e.join("")};var ln=/[#\/\?@]/g,cn=/[#\?:]/g,un=/[#\?]/g,hn=/[#\?@]/g,dn=/#/g;function fn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pn(e){e.g||(e.g=new Ut,e.h=0,e.i&&Xt(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function gn(e,t){pn(e),t=yn(e,t),Yt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Yt(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&jt(e)))}function mn(e,t){return pn(e),t=yn(e,t),Yt(e.g.h,t)}function vn(e,t,n){gn(e,t),0<n.length&&(e.i=null,e.g.set(yn(e,t),P(n)),e.h+=n.length)}function yn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function bn(e,t){t&&!e.j&&(pn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(gn(this,t),vn(this,n,e))}),e)),e.j=t}i=fn.prototype,i.add=function(e,t){pn(this),this.i=null,e=yn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},i.forEach=function(e,t){pn(this),this.g.forEach((function(n,i){T(n,(function(n){e.call(t,n,i,this)}),this)}),this)},i.T=function(){pn(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var r=e[i],s=0;s<r.length;s++)n.push(t[i]);return n},i.R=function(e){pn(this);var t=[];if("string"===typeof e)mn(this,e)&&(t=E(t,this.g.get(yn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=E(t,e[n])}return t},i.set=function(e,t){return pn(this),this.i=null,e=yn(this,e),mn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},i.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),e.push(o)}}return this.i=e.join("&")};var xn=class{constructor(e,t){this.h=e,this.g=t}};function wn(e){this.l=e||_n,h.PerformanceNavigationTiming?(e=h.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(h.g&&h.g.Ea&&h.g.Ea()&&h.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _n=10;function Sn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function kn(e){return e.h?1:e.g?e.g.size:0}function Cn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function An(e,t){e.g?e.g.add(t):e.h=t}function Tn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function In(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return P(e.i)}function En(){}function Pn(){this.g=new En}function Rn(e,t,n){const i=n||"";try{Ht(e,(function(e,n){let r=e;p(e)&&(r=Ne(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Ln(e,t){const n=new et;if(h.Image){const i=new Image;i.onload=w(Nn,n,i,"TestLoadImage: loaded",!0,t),i.onerror=w(Nn,n,i,"TestLoadImage: error",!1,t),i.onabort=w(Nn,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=w(Nn,n,i,"TestLoadImage: timeout",!1,t),h.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}function Nn(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function On(e){this.l=e.$b||null,this.j=e.ib||!1}function Mn(e,t){Pe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Dn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wn.prototype.cancel=function(){if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},En.prototype.stringify=function(e){return h.JSON.stringify(e,void 0)},En.prototype.parse=function(e){return h.JSON.parse(e,void 0)},_(On,vt),On.prototype.g=function(){return new Mn(this.l,this.j)},On.prototype.i=function(e){return function(){return e}}({}),_(Mn,Pe);var Dn=0;function Fn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function zn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bn(e)}function Bn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}i=Mn.prototype,i.open=function(e,t){if(this.readyState!=Dn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bn(this)},i.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||h).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zn(this)),this.readyState=Dn},i.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},i.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zn(this):Bn(this),3==this.readyState&&Fn(this)}},i.Ua=function(e){this.g&&(this.response=this.responseText=e,zn(this))},i.Ta=function(e){this.g&&(this.response=e,zn(this))},i.ha=function(){this.g&&zn(this)},i.setRequestHeader=function(e,t){this.v.append(e,t)},i.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var qn=h.JSON.parse;function Vn(e){Pe.call(this),this.headers=new Ut,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hn,this.K=this.L=!1}_(Vn,Pe);var Hn="",Un=/^https?$/i,jn=["POST","PUT"];function Yn(e){return W&&ie()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function Wn(e){return"content-type"==e.toLowerCase()}function Xn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$n(e),Kn(e)}function $n(e){e.D||(e.D=!0,Re(e,"complete"),Re(e,"error"))}function Gn(e){if(e.h&&"undefined"!=typeof u&&(!e.C[1]||4!=Qn(e)||2!=e.ba()))if(e.v&&4==Qn(e))Xe(e.Fa,0,e);else if(Re(e,"readystatechange"),4==Qn(e)){e.h=!1;try{const l=e.ba();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===l){var r=String(e.H).match(Wt)[1]||null;if(!r&&h.self&&h.self.location){var s=h.self.location.protocol;r=s.substr(0,s.length-1)}i=!Un.test(r?r.toLowerCase():"")}n=i}if(n)Re(e,"complete"),Re(e,"success");else{e.m=6;try{var o=2<Qn(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",$n(e)}}finally{Kn(e)}}}function Kn(e,t){if(e.g){Zn(e);const i=e.g,r=e.C[0]?d:null;e.g=null,e.C=null,t||Re(e,"ready");try{i.onreadystatechange=r}catch(n){}}}function Zn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(h.clearTimeout(e.A),e.A=null)}function Qn(e){return e.g?e.g.readyState:0}function Jn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Hn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ei(e){let t="";return z(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ti(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=ei(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):en(e,t,n))}function ni(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ii(e){this.za=0,this.l=[],this.h=new et,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ni("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ni("baseRetryDelayMs",5e3,e),this.$a=ni("retryDelaySeedMs",1e4,e),this.Ya=ni("forwardChannelMaxRetries",2,e),this.ra=ni("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new wn(e&&e.concurrentRequestLimit),this.Ca=new Pn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ri(e){if(oi(e),3==e.G){var t=e.V++,n=Gt(e.F);en(n,"SID",e.J),en(n,"RID",t),en(n,"TYPE","terminate"),hi(e,n),t=new Ct(e,e.h,t,void 0),t.K=2,t.v=tn(Gt(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(t.v.toString(),"")),!n&&h.Image&&((new Image).src=t.v,n=!0),n||(t.g=Si(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Mt(t)}wi(e)}function si(e){e.g&&(gi(e),e.g.cancel(),e.g=null)}function oi(e){si(e),e.u&&(h.clearTimeout(e.u),e.u=null),vi(e),e.i.cancel(),e.m&&("number"===typeof e.m&&h.clearTimeout(e.m),e.m=null)}function ai(e,t){e.l.push(new xn(e.Za++,t)),3==e.G&&li(e)}function li(e){Sn(e.i)||e.m||(e.m=!0,qe(e.Ha,e),e.C=0)}function ci(e,t){return!(kn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=pt(x(e.Ha,e,t),bi(e,e.C)),e.C++,!0))}function ui(e,t){var n;n=t?t.m:e.V++;const i=Gt(e.F);en(i,"SID",e.J),en(i,"RID",n),en(i,"AID",e.U),hi(e,i),e.o&&e.s&&ti(i,e.o,e.s),n=new Ct(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=di(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),An(e.i,n),Pt(n,i,t)}function hi(e,t){e.j&&Ht({},(function(e,n){en(t,n,e)}))}function di(e,t,n){n=Math.min(e.l.length,n);var i=e.j?x(e.j.Oa,e.j,e):null;e:{var r=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=r[o].h;const a=r[o].g;if(n-=t,0>n)t=Math.max(0,r[o].h-100),s=!1;else try{Rn(a,e,"req"+n+"_")}catch(Ji){i&&i(a)}}if(s){i=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,i}function fi(e){e.g||e.u||(e.Y=1,qe(e.Ga,e),e.A=0)}function pi(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=pt(x(e.Ga,e),bi(e,e.A)),e.A++,!0)}function gi(e){null!=e.B&&(h.clearTimeout(e.B),e.B=null)}function mi(e){e.g=new Ct(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Gt(e.oa);en(t,"RID","rpc"),en(t,"SID",e.J),en(t,"CI",e.N?"0":"1"),en(t,"AID",e.U),hi(e,t),en(t,"TYPE","xmlhttp"),e.o&&e.s&&ti(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=tn(Gt(t)),n.s=null,n.U=!0,Rt(n,e)}function vi(e){null!=e.v&&(h.clearTimeout(e.v),e.v=null)}function yi(e,t){var n=null;if(e.g==t){vi(e),gi(e),e.g=null;var i=2}else{if(!Cn(e.i,t))return;n=t.D,Tn(e.i,t),i=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==i){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;i=lt(),Re(i,new ft(i,n,t,r)),li(e)}else fi(e);else if(r=t.o,3==r||0==r&&0<e.I||!(1==i&&ci(e,t)||2==i&&pi(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:xi(e,5);break;case 4:xi(e,10);break;case 3:xi(e,6);break;default:xi(e,2)}}function bi(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function xi(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var i=x(e.jb,e);n||(n=new $t("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Kt(n,"https"),tn(n)),Ln(n.toString(),i)}else dt(2);e.G=0,e.j&&e.j.va(t),wi(e),oi(e)}function wi(e){e.G=0,e.I=-1,e.j&&(0==In(e.i).length&&0==e.l.length||(e.i.i.length=0,P(e.l),e.l.length=0),e.j.ua())}function _i(e,t,n){let i=nn(n);if(""!=i.i)t&&Zt(i,t+"."+i.i),Qt(i,i.m);else{const e=h.location;i=rn(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&z(e.aa,(function(e,t){en(i,t,e)})),t=e.D,n=e.sa,t&&n&&en(i,t,n),en(i,"VER",e.ma),hi(e,i),i}function Si(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Vn(new On({ib:!0})):new Vn(e.qa),t.L=e.H,t}function ki(){}function Ci(){if(W&&!(10<=Number(se)))throw Error("Environmental error: no available transport.")}function Ai(e,t){Pe.call(this),this.g=new ii(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!R(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!R(t)&&(this.g.D=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ei(this)}function Ti(e){_t.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ii(){St.call(this),this.status=1}function Ei(e){this.g=e}i=Vn.prototype,i.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xt.g(),this.C=this.u?yt(this.u):yt(xt),this.g.onreadystatechange=x(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Xn(this,s)}e=n||"";const r=new Ut(this.headers);i&&Ht(i,(function(e,t){r.set(t,e)})),i=I(r.T()),n=h.FormData&&e instanceof h.FormData,!(0<=A(jn,t))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zn(this),0<this.B&&((this.K=Yn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=x(this.pa,this)):this.A=Xe(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Xn(this,s)}},i.pa=function(){"undefined"!=typeof u&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Re(this,"timeout"),this.abort(8))},i.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Re(this,"complete"),Re(this,"abort"),Kn(this))},i.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kn(this,!0)),Vn.Z.M.call(this)},i.Fa=function(){this.s||(this.F||this.v||this.l?Gn(this):this.cb())},i.cb=function(){Gn(this)},i.ba=function(){try{return 2<Qn(this)?this.g.status:-1}catch(e){return-1}},i.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},i.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qn(t)}},i.Da=function(){return this.m},i.La=function(){return"string"===typeof this.j?this.j:String(this.j)},i=ii.prototype,i.ma=8,i.G=1,i.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},i.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const r=new Ct(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=B(s),V(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var i=this.l[n];if(i="__data__"in i.g&&(i=i.g.__data__,"string"===typeof i)?i.length:void 0,void 0===i)break;if(t+=i,4096<t){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=di(this,r,t),n=Gt(this.F),en(n,"RID",e),en(n,"CVER",22),this.D&&en(n,"X-HTTP-Session-Id",this.D),hi(this,n),this.o&&s&&ti(n,this.o,s),An(this.i,r),this.Ra&&en(n,"TYPE","init"),this.ja?(en(n,"$req",t),en(n,"SID","null"),r.$=!0,Pt(r,n,null)):Pt(r,n,t),this.G=2}}else 3==this.G&&(e?ui(this,e):0==this.l.length||Sn(this.i)||ui(this))},i.Ga=function(){if(this.u=null,mi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=pt(x(this.bb,this),e)}},i.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,dt(10),si(this),mi(this))},i.ab=function(){null!=this.v&&(this.v=null,si(this),pi(this),dt(19))},i.jb=function(e){e?(this.h.info("Successfully pinged google.com"),dt(2)):(this.h.info("Failed to ping google.com"),dt(1))},i=ki.prototype,i.xa=function(){},i.wa=function(){},i.va=function(){},i.ua=function(){},i.Oa=function(){},Ci.prototype.g=function(e,t){return new Ai(e,t)},_(Ai,Pe),Ai.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),qe(x(e.hb,e,t))),dt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=_i(e,null,e.W),li(e)},Ai.prototype.close=function(){ri(this.g)},Ai.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ai(this.g,t)}else this.v?(t={},t.__data__=Ne(e),ai(this.g,t)):ai(this.g,e)},Ai.prototype.M=function(){this.g.j=null,delete this.j,ri(this.g),delete this.g,Ai.Z.M.call(this)},_(Ti,_t),_(Ii,St),_(Ei,ki),Ei.prototype.xa=function(){Re(this.g,"a")},Ei.prototype.wa=function(e){Re(this.g,new Ti(e))},Ei.prototype.va=function(e){Re(this.g,new Ii(e))},Ei.prototype.ua=function(){Re(this.g,"b")},Ci.prototype.createWebChannel=Ci.prototype.g,Ai.prototype.send=Ai.prototype.u,Ai.prototype.open=Ai.prototype.m,Ai.prototype.close=Ai.prototype.close,gt.NO_ERROR=0,gt.TIMEOUT=8,gt.HTTP_ERROR=6,mt.COMPLETE="complete",bt.EventType=wt,wt.OPEN="a",wt.CLOSE="b",wt.ERROR="c",wt.MESSAGE="d",Pe.prototype.listen=Pe.prototype.N,Vn.prototype.listenOnce=Vn.prototype.O,Vn.prototype.getLastError=Vn.prototype.La,Vn.prototype.getLastErrorCode=Vn.prototype.Da,Vn.prototype.getStatus=Vn.prototype.ba,Vn.prototype.getResponseJson=Vn.prototype.Qa,Vn.prototype.getResponseText=Vn.prototype.ga,Vn.prototype.send=Vn.prototype.ea;var Pi=c.createWebChannelTransport=function(){return new Ci},Ri=c.getStatEventTarget=function(){return lt()},Li=c.ErrorCode=gt,Ni=c.EventType=mt,Oi=c.Event=ot,Mi=c.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Di=c.FetchXmlHttpFactory=On,Fi=c.WebChannel=bt,zi=c.XhrIo=Vn;const Bi="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qi.UNAUTHENTICATED=new qi(null),qi.GOOGLE_CREDENTIALS=new qi("google-credentials-uid"),qi.FIRST_PARTY=new qi("first-party-uid"),qi.MOCK_USER=new qi("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Vi="9.8.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new o.Yd("@firebase/firestore");function Ui(){return Hi.logLevel}function ji(e){Hi.setLogLevel(e)}function Yi(e,...t){if(Hi.logLevel<=o["in"].DEBUG){const n=t.map($i);Hi.debug(`Firestore (${Vi}): ${e}`,...n)}}function Wi(e,...t){if(Hi.logLevel<=o["in"].ERROR){const n=t.map($i);Hi.error(`Firestore (${Vi}): ${e}`,...n)}}function Xi(e,...t){if(Hi.logLevel<=o["in"].WARN){const n=t.map($i);Hi.warn(`Firestore (${Vi}): ${e}`,...n)}}function $i(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(e="Unexpected state"){const t=`FIRESTORE (${Vi}) INTERNAL ASSERTION FAILED: `+e;throw Wi(t),new Error(t)}function Ki(e,t){e||Gi()}function Zi(e,t){e||Gi()}function Qi(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class er extends a.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ir{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(qi.UNAUTHENTICATED)))}shutdown(){}}class rr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class sr{constructor(e){this.t=e,this.currentUser=qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new tr,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},o=e=>{Yi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Yi("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new tr)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Yi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ki("string"==typeof t.accessToken),new nr(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ki(null===e||"string"==typeof e),new qi(e)}}class or{constructor(e,t,n){this.type="FirstParty",this.user=qi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class ar{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new or(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(qi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cr{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&Yi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,Yi("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const i=e=>{Yi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>i(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?i(e):Yi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ki("string"==typeof e.token),this.p=e.token,new lr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ur{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.I(e),this.T=e=>t.writeSequenceNumber(e))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur.A=-1;class dr{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=hr(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%e.length))}return n}}function fr(e,t){return e<t?-1:e>t?1:0}function pr(e,t,n){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}function gr(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new er(Ji.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new er(Ji.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new er(Ji.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new er(Ji.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mr.fromMillis(Date.now())}static fromDate(e){return mr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new mr(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fr(this.nanoseconds,e.nanoseconds):fr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vr(e)}static min(){return new vr(new mr(0,0))}static max(){return new vr(new mr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function br(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xr(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t,n){void 0===t?t=0:t>e.length&&Gi(),void 0===n?n=e.length-t:n>e.length-t&&Gi(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===wr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wr?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _r extends wr{construct(e,t,n){return new _r(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new er(Ji.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new _r(t)}static emptyPath(){return new _r([])}}const Sr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kr extends wr{construct(e,t,n){return new kr(e,t,n)}static isValidIdentifier(e){return Sr.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kr(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new er(Ji.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new er(Ji.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new er(Ji.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(s=!s,i++):"."!==t||s?(n+=t,i++):(r(),i++)}if(r(),s)throw new er(Ji.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kr(t)}static emptyPath(){return new kr([])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.fields=e,e.sort(kr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pr(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Tr(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const Ir=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(e){if(Ki(!!e),"string"==typeof e){let t=0;const n=Ir.exec(e);if(Ki(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pr(e.seconds),nanos:Pr(e.nanos)}}function Pr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rr(e){return"string"==typeof e?Tr.fromBase64String(e):Tr.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Nr(e){const t=e.mapValue.fields.__previous_value__;return Lr(t)?Nr(t):t}function Or(e){const t=Er(e.mapValue.fields.__local_write_time__.timestampValue);return new mr(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,t,n,i,r,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Dr{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Dr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dr&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(e){return null==e}function zr(e){return 0===e&&1/e==-1/0}function Br(e){return"number"==typeof e&&Number.isInteger(e)&&!zr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.path=e}static fromPath(e){return new qr(_r.fromString(e))}static fromName(e){return new qr(_r.fromString(e).popFirst(5))}static empty(){return new qr(_r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_r.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _r.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qr(new _r(e.slice()))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hr={nullValue:"NULL_VALUE"};function Ur(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Lr(e)?4:is(e)?9007199254740991:10:Gi()}function jr(e,t){if(e===t)return!0;const n=Ur(e);if(n!==Ur(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Or(e).isEqual(Or(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Er(e.timestampValue),i=Er(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rr(e.bytesValue).isEqual(Rr(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Pr(e.geoPointValue.latitude)===Pr(t.geoPointValue.latitude)&&Pr(e.geoPointValue.longitude)===Pr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Pr(e.integerValue)===Pr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Pr(e.doubleValue),i=Pr(t.doubleValue);return n===i?zr(n)===zr(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return pr(e.arrayValue.values||[],t.arrayValue.values||[],jr);case 10:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(yr(n)!==yr(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!jr(n[r],i[r])))return!1;return!0}(e,t);default:return Gi()}}function Yr(e,t){return void 0!==(e.values||[]).find((e=>jr(e,t)))}function Wr(e,t){if(e===t)return 0;const n=Ur(e),i=Ur(t);if(n!==i)return fr(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return fr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Pr(e.integerValue||e.doubleValue),i=Pr(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return Xr(e.timestampValue,t.timestampValue);case 4:return Xr(Or(e),Or(t));case 5:return fr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Rr(e),i=Rr(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let r=0;r<n.length&&r<i.length;r++){const e=fr(n[r],i[r]);if(0!==e)return e}return fr(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=fr(Pr(e.latitude),Pr(t.latitude));return 0!==n?n:fr(Pr(e.longitude),Pr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const e=Wr(n[r],i[r]);if(e)return e}return fr(n.length,i.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Vr.mapValue&&t===Vr.mapValue)return 0;if(e===Vr.mapValue)return 1;if(t===Vr.mapValue)return-1;const n=e.fields||{},i=Object.keys(n),r=t.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const e=fr(i[o],s[o]);if(0!==e)return e;const t=Wr(n[i[o]],r[s[o]]);if(0!==t)return t}return fr(i.length,s.length)}(e.mapValue,t.mapValue);default:throw Gi()}}function Xr(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return fr(e,t);const n=Er(e),i=Er(t),r=fr(n.seconds,i.seconds);return 0!==r?r:fr(n.nanos,i.nanos)}function $r(e){return Gr(e)}function Gr(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Er(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Rr(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,qr.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=Gr(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+=`${r}:${Gr(e.fields[r])}`;return n+"}"}(e.mapValue):Gi();var t,n}function Kr(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Zr(e){return!!e&&"integerValue"in e}function Qr(e){return!!e&&"arrayValue"in e}function Jr(e){return!!e&&"nullValue"in e}function es(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ts(e){return!!e&&"mapValue"in e}function ns(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return br(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ns(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ns(e.arrayValue.values[n]);return t}return Object.assign({},e)}function is(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function rs(e){return"nullValue"in e?Hr:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Kr(Dr.empty(),qr.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Gi()}function ss(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Kr(Dr.empty(),qr.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Vr:Gi()}function os(e,t){const n=Wr(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function as(e,t){const n=Wr(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.value=e}static empty(){return new ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ts(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ns(t)}setAll(e){let t=kr.emptyPath(),n={},i=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=ns(e):i.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());ts(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];ts(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){br(t,((t,n)=>e[t]=n));for(const i of n)delete e[i]}clone(){return new ls(ns(this.value))}}function cs(e){const t=[];return br(e.fields,((e,n)=>{const i=new kr([e]);if(ts(n)){const e=cs(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)})),new Cr(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class us{constructor(e,t,n,i,r,s){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.data=r,this.documentState=s}static newInvalidDocument(e){return new us(e,0,vr.min(),vr.min(),ls.empty(),0)}static newFoundDocument(e,t,n){return new us(e,1,t,vr.min(),n,0)}static newNoDocument(e,t){return new us(e,2,t,vr.min(),ls.empty(),0)}static newUnknownDocument(e,t){return new us(e,3,t,vr.min(),ls.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof us&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new us(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hs{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}function ds(e){return e.fields.find((e=>2===e.kind))}function fs(e){return e.fields.filter((e=>2!==e.kind))}hs.UNKNOWN_ID=-1;class ps{constructor(e,t){this.fieldPath=e,this.kind=t}}class gs{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new gs(0,ys.min())}}function ms(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=vr.fromTimestamp(1e9===i?new mr(n+1,0):new mr(n,i));return new ys(r,qr.empty(),t)}function vs(e){return new ys(e.readTime,e.key,-1)}class ys{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ys(vr.min(),qr.empty(),-1)}static max(){return new ys(vr.max(),qr.empty(),-1)}}function bs(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=qr.comparator(e.documentKey,t.documentKey),0!==n?n:fr(e.largestBatchId,t.largestBatchId))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t){this.comparator=e,this.root=t||_s.EMPTY}insert(e,t){return new xs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_s.BLACK,null,null))}remove(e){return new xs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_s.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ws(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ws(this.root,e,this.comparator,!1)}getReverseIterator(){return new ws(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ws(this.root,e,this.comparator,!0)}}class ws{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _s{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:_s.RED,this.left=null!=i?i:_s.EMPTY,this.right=null!=r?r:_s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new _s(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return _s.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Gi();if(this.right.isRed())throw Gi();const e=this.left.check();if(e!==this.right.check())throw Gi();return e+(this.isRed()?0:1)}}_s.EMPTY=null,_s.RED=!0,_s.BLACK=!1,_s.EMPTY=new class{constructor(){this.size=0}get key(){throw Gi()}get value(){throw Gi()}get color(){throw Gi()}get left(){throw Gi()}get right(){throw Gi()}copy(e,t,n,i,r){return this}insert(e,t,n){return new _s(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ss{constructor(e){this.comparator=e,this.data=new xs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ks(this.data.getIterator())}getIteratorFrom(e){return new ks(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ss))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ss(this.comparator);return t.data=e,t}}class ks{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cs(e){return e.hasNext()?e.getNext():void 0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,t=null,n=[],i=[],r=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.P=null}}function Ts(e,t=null,n=[],i=[],r=null,s=null,o=null){return new As(e,t,n,i,r,s,o)}function Is(e){const t=Qi(e);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>{return(t=e).field.canonicalString()+t.op.toString()+$r(t.value);var t})).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Fr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>$r(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>$r(e))).join(",")),t.P=e}return t.P}function Es(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${$r(t.value)}`;var t})).join(", ")}]`),Fr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>$r(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>$r(e))).join(",")),`Target(${t})`}function Ps(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Ws(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(n=e.filters[r],i=t.filters[r],n.op!==i.op||!n.field.isEqual(i.field)||!jr(n.value,i.value))return!1;var n,i;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$s(e.startAt,t.startAt)&&$s(e.endAt,t.endAt)}function Rs(e){return qr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ls(e,t){return e.filters.filter((e=>e instanceof Ms&&e.field.isEqual(t)))}function Ns(e,t,n){let i=Hr,r=!0;for(const s of Ls(e,t)){let e=Hr,t=!0;switch(s.op){case"<":case"<=":e=rs(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Hr}os({value:i,inclusive:r},{value:e,inclusive:t})<0&&(i=e,r=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];os({value:i,inclusive:r},{value:e,inclusive:n.inclusive})<0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}function Os(e,t,n){let i=Vr,r=!0;for(const s of Ls(e,t)){let e=Vr,t=!0;switch(s.op){case">=":case">":e=ss(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Vr}as({value:i,inclusive:r},{value:e,inclusive:t})>0&&(i=e,r=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];as({value:i,inclusive:r},{value:e,inclusive:n.inclusive})>0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}class Ms extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,n):new Ds(e,t,n):"array-contains"===t?new qs(e,n):"in"===t?new Vs(e,n):"not-in"===t?new Hs(e,n):"array-contains-any"===t?new Us(e,n):new Ms(e,t,n)}static V(e,t,n){return"in"===t?new Fs(e,n):new zs(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Wr(t,this.value)):null!==t&&Ur(this.value)===Ur(t)&&this.v(Wr(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gi()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ds extends Ms{constructor(e,t,n){super(e,t,n),this.key=qr.fromName(n.referenceValue)}matches(e){const t=qr.comparator(e.key,this.key);return this.v(t)}}class Fs extends Ms{constructor(e,t){super(e,"in",t),this.keys=Bs("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class zs extends Ms{constructor(e,t){super(e,"not-in",t),this.keys=Bs("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Bs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>qr.fromName(e.referenceValue)))}class qs extends Ms{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qr(t)&&Yr(t.arrayValue,this.value)}}class Vs extends Ms{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yr(this.value.arrayValue,t)}}class Hs extends Ms{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Yr(this.value.arrayValue,t)}}class Us extends Ms{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qr(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Yr(this.value.arrayValue,e)))}}class js{constructor(e,t){this.position=e,this.inclusive=t}}class Ys{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ws(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Xs(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(i=s.field.isKeyField()?qr.comparator(qr.fromName(o.referenceValue),n.key):Wr(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function $s(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!jr(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t=null,n=[],i=[],r=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.D=null,this.C=null,this.startAt,this.endAt}}function Ks(e,t,n,i,r,s,o,a){return new Gs(e,t,n,i,r,s,o,a)}function Zs(e){return new Gs(e)}function Qs(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Js(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function eo(e){for(const t of e.filters)if(t.S())return t.field;return null}function to(e){return null!==e.collectionGroup}function no(e){const t=Qi(e);if(null===t.D){t.D=[];const e=eo(t),n=Js(t);if(null!==e&&null===n)e.isKeyField()||t.D.push(new Ys(e)),t.D.push(new Ys(kr.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.D.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Ys(kr.keyField(),e))}}}return t.D}function io(e){const t=Qi(e);if(!t.C)if("F"===t.limitType)t.C=Ts(t.path,t.collectionGroup,no(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const r of no(t)){const t="desc"===r.dir?"asc":"desc";e.push(new Ys(r.field,t))}const n=t.endAt?new js(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new js(t.startAt.position,t.startAt.inclusive):null;t.C=Ts(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}return t.C}function ro(e,t,n){return new Gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function so(e,t){return Ps(io(e),io(t))&&e.limitType===t.limitType}function oo(e){return`${Is(io(e))}|lt:${e.limitType}`}function ao(e){return`Query(target=${Es(io(e))}; limitType=${e.limitType})`}function lo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):qr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=Xs(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,no(e),t))&&!(e.endAt&&!function(e,t,n){const i=Xs(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,no(e),t))}(e,t)}function co(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function uo(e){return(t,n)=>{let i=!1;for(const r of no(e)){const e=ho(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function ho(e,t,n){const i=e.field.isKeyField()?qr.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?Wr(i,r):Gi()}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Gi()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zr(t)?"-0":t}}function po(e){return{integerValue:""+e}}function go(e,t){return Br(t)?po(t):fo(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this._=void 0}}function vo(e,t,n){return e instanceof xo?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wo?_o(e,t):e instanceof So?ko(e,t):function(e,t){const n=bo(e,t),i=Ao(n)+Ao(e.k);return Zr(n)&&Zr(e.k)?po(i):fo(e.M,i)}(e,t)}function yo(e,t,n){return e instanceof wo?_o(e,t):e instanceof So?ko(e,t):n}function bo(e,t){return e instanceof Co?Zr(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class xo extends mo{}class wo extends mo{constructor(e){super(),this.elements=e}}function _o(e,t){const n=To(t);for(const i of e.elements)n.some((e=>jr(e,i)))||n.push(i);return{arrayValue:{values:n}}}class So extends mo{constructor(e){super(),this.elements=e}}function ko(e,t){let n=To(t);for(const i of e.elements)n=n.filter((e=>!jr(e,i)));return{arrayValue:{values:n}}}class Co extends mo{constructor(e,t){super(),this.M=e,this.k=t}}function Ao(e){return Pr(e.integerValue||e.doubleValue)}function To(e){return Qr(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t){this.field=e,this.transform=t}}function Eo(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wo&&t instanceof wo||e instanceof So&&t instanceof So?pr(e.elements,t.elements,jr):e instanceof Co&&t instanceof Co?jr(e.k,t.k):e instanceof xo&&t instanceof xo}(e.transform,t.transform)}class Po{constructor(e,t){this.version=e,this.transformResults=t}}class Ro{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ro}static exists(e){return new Ro(void 0,e)}static updateTime(e){return new Ro(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lo(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class No{}function Oo(e,t,n){e instanceof Bo?function(e,t,n){const i=e.value.clone(),r=Ho(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof qo?function(e,t,n){if(!Lo(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=Ho(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Vo(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Mo(e,t,n){e instanceof Bo?function(e,t,n){if(!Lo(e.precondition,t))return;const i=e.value.clone(),r=Uo(e.fieldTransforms,n,t);i.setAll(r),t.convertToFoundDocument(zo(t),i).setHasLocalMutations()}(e,t,n):e instanceof qo?function(e,t,n){if(!Lo(e.precondition,t))return;const i=Uo(e.fieldTransforms,n,t),r=t.data;r.setAll(Vo(e)),r.setAll(i),t.convertToFoundDocument(zo(t),r).setHasLocalMutations()}(e,t,n):function(e,t){Lo(e.precondition,t)&&t.convertToNoDocument(vr.min())}(e,t)}function Do(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=bo(i.transform,e||null);null!=r&&(null==n&&(n=ls.empty()),n.set(i.field,r))}return n||null}function Fo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&pr(e,t,((e,t)=>Eo(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function zo(e){return e.isFoundDocument()?e.version:vr.min()}class Bo extends No{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}}class qo extends No{constructor(e,t,n,i,r=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}}function Vo(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function Ho(e,t,n){const i=new Map;Ki(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,yo(o,a,n[r]))}return i}function Uo(e,t,n){const i=new Map;for(const r of e){const e=r.transform,s=n.data.field(r.field);i.set(r.field,vo(e,s,t))}return i}class jo extends No{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Yo extends No{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.count=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xo,$o;function Go(e){switch(e){default:return Gi();case Ji.CANCELLED:case Ji.UNKNOWN:case Ji.DEADLINE_EXCEEDED:case Ji.RESOURCE_EXHAUSTED:case Ji.INTERNAL:case Ji.UNAVAILABLE:case Ji.UNAUTHENTICATED:return!1;case Ji.INVALID_ARGUMENT:case Ji.NOT_FOUND:case Ji.ALREADY_EXISTS:case Ji.PERMISSION_DENIED:case Ji.FAILED_PRECONDITION:case Ji.ABORTED:case Ji.OUT_OF_RANGE:case Ji.UNIMPLEMENTED:case Ji.DATA_LOSS:return!0}}function Ko(e){if(void 0===e)return Wi("GRPC error has no .code"),Ji.UNKNOWN;switch(e){case Xo.OK:return Ji.OK;case Xo.CANCELLED:return Ji.CANCELLED;case Xo.UNKNOWN:return Ji.UNKNOWN;case Xo.DEADLINE_EXCEEDED:return Ji.DEADLINE_EXCEEDED;case Xo.RESOURCE_EXHAUSTED:return Ji.RESOURCE_EXHAUSTED;case Xo.INTERNAL:return Ji.INTERNAL;case Xo.UNAVAILABLE:return Ji.UNAVAILABLE;case Xo.UNAUTHENTICATED:return Ji.UNAUTHENTICATED;case Xo.INVALID_ARGUMENT:return Ji.INVALID_ARGUMENT;case Xo.NOT_FOUND:return Ji.NOT_FOUND;case Xo.ALREADY_EXISTS:return Ji.ALREADY_EXISTS;case Xo.PERMISSION_DENIED:return Ji.PERMISSION_DENIED;case Xo.FAILED_PRECONDITION:return Ji.FAILED_PRECONDITION;case Xo.ABORTED:return Ji.ABORTED;case Xo.OUT_OF_RANGE:return Ji.OUT_OF_RANGE;case Xo.UNIMPLEMENTED:return Ji.UNIMPLEMENTED;case Xo.DATA_LOSS:return Ji.DATA_LOSS;default:return Gi()}}($o=Xo||(Xo={}))[$o.OK=0]="OK",$o[$o.CANCELLED=1]="CANCELLED",$o[$o.UNKNOWN=2]="UNKNOWN",$o[$o.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$o[$o.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$o[$o.NOT_FOUND=5]="NOT_FOUND",$o[$o.ALREADY_EXISTS=6]="ALREADY_EXISTS",$o[$o.PERMISSION_DENIED=7]="PERMISSION_DENIED",$o[$o.UNAUTHENTICATED=16]="UNAUTHENTICATED",$o[$o.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$o[$o.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$o[$o.ABORTED=10]="ABORTED",$o[$o.OUT_OF_RANGE=11]="OUT_OF_RANGE",$o[$o.UNIMPLEMENTED=12]="UNIMPLEMENTED",$o[$o.INTERNAL=13]="INTERNAL",$o[$o.UNAVAILABLE=14]="UNAVAILABLE",$o[$o.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Zo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,((t,n)=>{for(const[i,r]of n)e(i,r)}))}isEmpty(){return xr(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new xs(qr.comparator);function Jo(){return Qo}const ea=new xs(qr.comparator);function ta(...e){let t=ea;for(const n of e)t=t.insert(n.key,n);return t}function na(){return new Zo((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ia=new xs(qr.comparator),ra=new Ss(qr.comparator);function sa(...e){let t=ra;for(const n of e)t=t.add(n);return t}const oa=new Ss(fr);function aa(){return oa}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,ca.createSynthesizedTargetChangeForCurrentChange(e,t)),new la(vr.min(),n,aa(),Jo(),sa())}}class ca{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ca(Tr.EMPTY_BYTE_STRING,t,sa(),sa(),sa())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t,n,i){this.O=e,this.removedTargetIds=t,this.key=n,this.F=i}}class ha{constructor(e,t){this.targetId=e,this.$=t}}class da{constructor(e,t,n=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class fa{constructor(){this.B=0,this.L=ma(),this.U=Tr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=sa(),t=sa(),n=sa();return this.L.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Gi()}})),new ca(this.U,this.q,e,t,n)}J(){this.K=!1,this.L=ma()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class pa{constructor(e){this.nt=e,this.st=new Map,this.it=Jo(),this.rt=ga(),this.ot=new Ss(fr)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,(t=>{const n=this.lt(t);switch(e.state){case 0:this.ft(t)&&n.W(e.resumeToken);break;case 1:n.tt(),n.G||n.J(),n.W(e.resumeToken);break;case 2:n.tt(),n.G||this.removeTarget(t);break;case 3:this.ft(t)&&(n.et(),n.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),n.W(e.resumeToken));break;default:Gi()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach(((e,n)=>{this.ft(n)&&t(n)}))}_t(e){const t=e.targetId,n=e.$.count,i=this.wt(t);if(i){const e=i.target;if(Rs(e))if(0===n){const n=new qr(e.path);this.ct(t,n,us.newNoDocument(n,vr.min()))}else Ki(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach(((n,i)=>{const r=this.wt(i);if(r){if(n.current&&Rs(r.target)){const t=new qr(r.target.path);null!==this.it.get(t)||this.It(i,t)||this.ct(i,t,us.newNoDocument(t,e))}n.j&&(t.set(i,n.H()),n.J())}}));let n=sa();this.rt.forEach(((e,t)=>{let i=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(i=!1,!1)})),i&&(n=n.add(e))})),this.it.forEach(((t,n)=>n.setReadTime(e)));const i=new la(e,t,this.ot,this.it,n);return this.it=Jo(),this.rt=ga(),this.ot=new Ss(fr),i}at(e,t){if(!this.ft(e))return;const n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new fa,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Ss(fr),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Yi("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new fa),this.nt.getRemoteKeysForTarget(e).forEach((t=>{this.ct(e,t,null)}))}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function ga(){return new xs(qr.comparator)}function ma(){return new xs(qr.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=(()=>{const e={asc:"ASCENDING",desc:"DESCENDING"};return e})(),ya=(()=>{const e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e})();class ba{constructor(e,t){this.databaseId=e,this.N=t}}function xa(e,t){return e.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wa(e,t){return e.N?t.toBase64():t.toUint8Array()}function _a(e,t){return xa(e,t.toTimestamp())}function Sa(e){return Ki(!!e),vr.fromTimestamp(function(e){const t=Er(e);return new mr(t.seconds,t.nanos)}(e))}function ka(e,t){return function(e){return new _r(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ca(e){const t=_r.fromString(e);return Ki(Za(t)),t}function Aa(e,t){return ka(e.databaseId,t.path)}function Ta(e,t){const n=Ca(t);if(n.get(1)!==e.databaseId.projectId)throw new er(Ji.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new er(Ji.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new qr(Ra(n))}function Ia(e,t){return ka(e.databaseId,t)}function Ea(e){const t=Ca(e);return 4===t.length?_r.emptyPath():Ra(t)}function Pa(e){return new _r(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ra(e){return Ki(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function La(e,t,n){return{name:Aa(e,t),fields:n.value.mapValue.fields}}function Na(e,t,n){const i=Ta(e,t.name),r=Sa(t.updateTime),s=new ls({mapValue:{fields:t.fields}}),o=us.newFoundDocument(i,r,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Oa(e,t){return"found"in t?function(e,t){Ki(!!t.found),t.found.name,t.found.updateTime;const n=Ta(e,t.found.name),i=Sa(t.found.updateTime),r=new ls({mapValue:{fields:t.found.fields}});return us.newFoundDocument(n,i,r)}(e,t):"missing"in t?function(e,t){Ki(!!t.missing),Ki(!!t.readTime);const n=Ta(e,t.missing),i=Sa(t.readTime);return us.newNoDocument(n,i)}(e,t):Gi()}function Ma(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Gi()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(e,t){return e.N?(Ki(void 0===t||"string"==typeof t),Tr.fromBase64String(t||"")):(Ki(void 0===t||t instanceof Uint8Array),Tr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Ji.UNKNOWN:Ko(e.code);return new er(t,e.message||"")}(o);n=new da(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Ta(e,i.document.name),s=Sa(i.document.updateTime),o=new ls({mapValue:{fields:i.document.fields}}),a=us.newFoundDocument(r,s,o),l=i.targetIds||[],c=i.removedTargetIds||[];n=new ua(l,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Ta(e,i.document),s=i.readTime?Sa(i.readTime):vr.min(),o=us.newNoDocument(r,s),a=i.removedTargetIds||[];n=new ua([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Ta(e,i.document),s=i.removedTargetIds||[];n=new ua([],s,r,null)}else{if(!("filter"in t))return Gi();{t.filter;const e=t.filter;e.targetId;const i=e.count||0,r=new Wo(i),s=e.targetId;n=new ha(s,r)}}return n}function Da(e,t){let n;if(t instanceof Bo)n={update:La(e,t.key,t.value)};else if(t instanceof jo)n={delete:Aa(e,t.key)};else if(t instanceof qo)n={update:La(e,t.key,t.data),updateMask:Ka(t.fieldMask)};else{if(!(t instanceof Yo))return Gi();n={verify:Aa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof xo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof So)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Co)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Gi()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:_a(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Gi()}(e,t.precondition)),n}function Fa(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ro.updateTime(Sa(e.updateTime)):void 0!==e.exists?Ro.exists(e.exists):Ro.none()}(t.currentDocument):Ro.none(),i=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Ki("REQUEST_TIME"===t.setToServerValue),n=new xo;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new wo(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new So(e)}else"increment"in t?n=new Co(e,t.increment):Gi();const i=kr.fromServerFormat(t.fieldPath);return new Io(i,n)}(e,t))):[];if(t.update){t.update.name;const r=Ta(e,t.update.name),s=new ls({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Cr(t.map((e=>kr.fromServerFormat(e))))}(t.updateMask);return new qo(r,s,e,n,i)}return new Bo(r,s,n,i)}if(t.delete){const i=Ta(e,t.delete);return new jo(i,n)}if(t.verify){const i=Ta(e,t.verify);return new Yo(i,n)}return Gi()}function za(e,t){return e&&e.length>0?(Ki(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Sa(e.updateTime):Sa(t);return n.isEqual(vr.min())&&(n=Sa(t)),new Po(n,e.transformResults||[])}(e,t)))):[]}function Ba(e,t){return{documents:[Ia(e,t.path)]}}function qa(e,t){const n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n.parent=Ia(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ia(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(es(e.value))return{unaryFilter:{field:Wa(e.field),op:"IS_NAN"}};if(Jr(e.value))return{unaryFilter:{field:Wa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(es(e.value))return{unaryFilter:{field:Wa(e.field),op:"IS_NOT_NAN"}};if(Jr(e.value))return{unaryFilter:{field:Wa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(e.field),op:Ya(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);r&&(n.structuredQuery.where=r);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Wa(e.field),direction:ja(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.N||Fr(t)?t:{value:t}}(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Va(e){let t=Ea(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Ki(1===i);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Ua(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new Ys(Xa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Fr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new js(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new js(n,t)}(n.endAt)),Ks(t,r,o,s,a,"F",l,c)}function Ha(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Gi()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}function Ua(e){return e?void 0!==e.unaryFilter?[Ga(e)]:void 0!==e.fieldFilter?[$a(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>Ua(e))).reduce(((e,t)=>e.concat(t))):Gi():[]}function ja(e){return va[e]}function Ya(e){return ya[e]}function Wa(e){return{fieldPath:e.canonicalString()}}function Xa(e){return kr.fromServerFormat(e.fieldPath)}function $a(e){return Ms.create(Xa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Gi()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ga(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xa(e.unaryFilter.field);return Ms.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Xa(e.unaryFilter.field);return Ms.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xa(e.unaryFilter.field);return Ms.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Xa(e.unaryFilter.field);return Ms.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Gi()}}function Ka(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Za(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=el(t)),t=Ja(e.get(n),t);return el(t)}function Ja(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const t=e.charAt(r);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function el(e){return e+""}function tl(e){const t=e.length;if(Ki(t>=2),2===t)return Ki(""===e.charAt(0)&&""===e.charAt(1)),_r.emptyPath();const n=t-2,i=[];let r="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&Gi(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===r.length?o=n:(r+=n,o=r,r=""),i.push(o);break;case"":r+=e.substring(s,t),r+="\0";break;case"":r+=e.substring(s,t+1);break;default:Gi()}s=t+2}return new _r(i)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(e,t){return[e,Qa(t)]}function rl(e,t,n){return[e,Qa(t),n]}const sl={},ol=["prefixPath","collectionGroup","readTime","documentId"],al=["prefixPath","collectionGroup","documentId"],ll=["collectionGroup","readTime","prefixPath","documentId"],cl=["canonicalId","targetId"],ul=["targetId","path"],hl=["path","targetId"],dl=["collectionId","parent"],fl=["indexId","uid"],pl=["uid","sequenceNumber"],gl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ml=["indexId","uid","orderedDocumentKey"],vl=["userId","collectionPath","documentId"],yl=["userId","collectionPath","largestBatchId"],bl=["userId","collectionGroup","largestBatchId"],xl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wl=[...xl,"documentOverlays"],_l=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sl=[..._l,"indexConfiguration","indexState","indexEntries"],kl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Gi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Al(((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Al?t:Al.resolve(t)}catch(e){return Al.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Al.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Al.reject(t)}static resolve(e){return new Al(((t,n)=>{t(e)}))}static reject(e){return new Al(((t,n)=>{n(e)}))}static waitFor(e){return new Al(((t,n)=>{let i=0,r=0,s=!1;e.forEach((e=>{++i,e.next((()=>{++r,s&&r===i&&t()}),(e=>n(e)))})),s=!0,r===i&&t()}))}static or(e){let t=Al.resolve(!1);for(const n of e)t=t.next((e=>e?Al.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,i)=>{n.push(t.call(this,e,i))})),this.waitFor(n)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new tr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Pl(e,t.error)):this.At.resolve()},this.transaction.onerror=t=>{const n=Ml(t.target.error);this.At.reject(new Pl(e,n))}}static open(e,t,n,i){try{return new Tl(t,e.transaction(i,n))}catch(e){throw new Pl(t,e)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Yi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ll(t)}}class Il{constructor(e,t,n){this.name=e,this.version=t,this.Pt=n,12.2===Il.Vt((0,a.z$)())&&Wi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Yi("SimpleDb","Removing database:",e),Nl(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,a.hl)())return!1;if(Il.St())return!0;const e=(0,a.z$)(),t=Il.Vt(e),n=0<t&&t<10,i=Il.Dt(e),r=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||r)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Nt(e){return this.db||(Yi("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=e=>{const n=e.target.result;t(n)},i.onblocked=()=>{n(new Pl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const i=t.target.error;"VersionError"===i.name?n(new er(Ji.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new er(Ji.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new Pl(e,i))},i.onupgradeneeded=e=>{Yi("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.Pt.kt(t,i.transaction,e.oldVersion,this.version).next((()=>{Yi("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.Mt&&(this.db.onversionchange=e=>this.Mt(e)),this.db}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,i){const r="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Nt(e);const t=Tl.open(this.db,e,r?"readonly":"readwrite",n),s=i(t).next((e=>(t.bt(),e))).catch((e=>(t.abort(e),Al.reject(e)))).toPromise();return s.catch((()=>{})),await t.Rt,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(Yi("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class El{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Nl(this.Ft.delete())}}class Pl extends er{constructor(e,t){super(Ji.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Rl(e){return"IndexedDbTransactionError"===e.name}class Ll{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Yi("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Yi("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Nl(n)}add(e){return Yi("SimpleDb","ADD",this.store.name,e,e),Nl(this.store.add(e))}get(e){return Nl(this.store.get(e)).next((t=>(void 0===t&&(t=null),Yi("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Yi("SimpleDb","DELETE",this.store.name,e),Nl(this.store.delete(e))}count(){return Yi("SimpleDb","COUNT",this.store.name),Nl(this.store.count())}qt(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.Kt(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Al(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}Gt(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Al(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}Qt(e,t){Yi("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.jt=!1;const i=this.cursor(n);return this.Kt(i,((e,t,n)=>n.delete()))}Wt(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new Al(((n,i)=>{t.onerror=e=>{const t=Ml(e.target.error);i(t)},t.onsuccess=t=>{const i=t.target.result;i?e(i.primaryKey,i.value).next((e=>{e?i.continue():n()})):n()}}))}Kt(e,t){const n=[];return new Al(((i,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{const r=e.target.result;if(!r)return void i();const s=new El(r),o=t(r.primaryKey,r.value,s);if(o instanceof Al){const e=o.catch((e=>(s.done(),Al.reject(e))));n.push(e)}s.isDone?i():null===s.Lt?r.continue():r.continue(s.Lt)}})).next((()=>Al.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nl(e){return new Al(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ml(e.target.error);n(t)}}))}let Ol=!1;function Ml(e){const t=Il.Vt((0,a.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new er("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ol||(Ol=!0,setTimeout((()=>{throw e}),0)),e}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends Cl{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Fl(e,t){const n=Qi(e);return Il.xt(n.Ht,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&Oo(t,e,n[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Mo(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Mo(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),i=n;this.applyToLocalView(i),n.isValidDocument()||i.convertToNoDocument(vr.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),sa())}isEqual(e){return this.batchId===e.batchId&&pr(this.mutations,e.mutations,((e,t)=>Fo(e,t)))&&pr(this.baseMutations,e.baseMutations,((e,t)=>Fo(e,t)))}}class Bl{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Ki(e.mutations.length===n.length);let i=ia;const r=e.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new Bl(e,t,n,i)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,t,n,i,r=vr.min(),s=vr.min(),o=Tr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Vl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.Jt=e}}function Ul(e,t){let n;if(t.document)n=Na(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=qr.fromSegments(t.noDocument.path),i=Xl(t.noDocument.readTime);n=us.newNoDocument(e,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Gi();{const e=qr.fromSegments(t.unknownDocument.path),i=Xl(t.unknownDocument.version);n=us.newUnknownDocument(e,i)}}return t.readTime&&n.setReadTime(function(e){const t=new mr(e[0],e[1]);return vr.fromTimestamp(t)}(t.readTime)),n}function jl(e,t){const n=t.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Yl(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=function(e,t){return{name:Aa(e,t.key),fields:t.data.value.mapValue.fields,updateTime:xa(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Wl(t.version)};else{if(!t.isUnknownDocument())return Gi();i.unknownDocument={path:n.path.toArray(),version:Wl(t.version)}}return i}function Yl(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Wl(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Xl(e){const t=new mr(e.seconds,e.nanoseconds);return vr.fromTimestamp(t)}function $l(e,t){const n=(t.baseMutations||[]).map((t=>Fa(e.Jt,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const i=t.mutations.map((t=>Fa(e.Jt,t))),r=mr.fromMillis(t.localWriteTimeMs);return new zl(t.batchId,r,n,i)}function Gl(e){const t=Xl(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Xl(e.lastLimboFreeSnapshotVersion):vr.min();let i;var r;return void 0!==e.query.documents?(Ki(1===(r=e.query).documents.length),i=io(Zs(Ea(r.documents[0])))):i=function(e){return io(Va(e))}(e.query),new Vl(i,e.targetId,0,e.lastListenSequenceNumber,t,n,Tr.fromBase64String(e.resumeToken))}function Kl(e,t){const n=Wl(t.snapshotVersion),i=Wl(t.lastLimboFreeSnapshotVersion);let r;r=Rs(t.target)?Ba(e.Jt,t.target):qa(e.Jt,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Is(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Zl(e){const t=Va({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ro(t,t.limit,"L"):t}function Ql(e,t){return new ql(t.largestBatchId,Fa(e.Jt,t.overlayMutation))}function Jl(e,t){const n=t.path.lastSegment();return[e,Qa(t.path.popLast()),n]}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{getBundleMetadata(e,t){return tc(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Xl(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return tc(e).put({bundleId:(n=t).id,createTime:Wl(Sa(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return nc(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Zl(t.bundledQuery),readTime:Xl(t.readTime)};var t}))}saveNamedQuery(e,t){return nc(e).put(function(e){return{name:e.name,readTime:Wl(Sa(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function tc(e){return Fl(e,"bundles")}function nc(e){return Fl(e,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){const n=t.uid||"";return new ic(e,n)}getOverlay(e,t){return rc(e).get(Jl(this.userId,t)).next((e=>e?Ql(this.M,e):null))}saveOverlays(e,t,n){const i=[];return n.forEach(((n,r)=>{const s=new ql(t,r);i.push(this.Xt(e,s))})),Al.waitFor(i)}removeOverlaysForBatchId(e,t,n){const i=new Set;t.forEach((e=>i.add(Qa(e.getCollectionPath()))));const r=[];return i.forEach((t=>{const i=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);r.push(rc(e).Qt("collectionPathOverlayIndex",i))})),Al.waitFor(r)}getOverlaysForCollection(e,t,n){const i=na(),r=Qa(t),s=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return rc(e).qt("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Ql(this.M,t);i.set(e.getKey(),e)}return i}))}getOverlaysForCollectionGroup(e,t,n,i){const r=na();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return rc(e).Wt({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Ql(this.M,t);r.size()<i||o.largestBatchId===s?(r.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>r))}Xt(e,t){return rc(e).put(function(e,t,n){const[i,r,s]=Jl(t,n.mutation.key);return{userId:t,collectionPath:r,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Da(e.Jt,n.mutation)}}(this.M,this.userId,t))}}function rc(e){return Fl(e,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Pr(e.integerValue));else if("doubleValue"in e){const n=Pr(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),zr(n)?t.se(0):t.se(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ne(t,20),"string"==typeof n?t.ie(n):(t.ie(`${n.seconds||""}`),t.se(n.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Rr(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ne(t,45),t.se(n.latitude||0),t.se(n.longitude||0)}else"mapValue"in e?is(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Gi()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const n=e.fields||{};this.ne(t,55);for(const i of Object.keys(n))this.re(i,t),this.te(n[i],t)}he(e,t){const n=e.values||[];this.ne(t,50);for(const i of n)this.te(i,t)}ae(e,t){this.ne(t,37),qr.fromName(e).path.forEach((e=>{this.ne(t,60),this.le(e,t)}))}ne(e,t){e.se(t)}oe(e){e.se(2)}}function oc(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ac(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const i=oc(255&e[n]);if(t+=i,8!==i)break}return t}(e);return Math.ceil(t/8)}sc.fe=new sc;class lc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this._e(n.value),n=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.ge(n.value),n=t.next();this.ye()}pe(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this._e(e);else if(e<2048)this._e(960|e>>>6),this._e(128|63&e);else if(t<"\ud800"||"\udbff"<t)this._e(480|e>>>12),this._e(128|63&e>>>6),this._e(128|63&e);else{const e=t.codePointAt(0);this._e(240|e>>>18),this._e(128|63&e>>>12),this._e(128|63&e>>>6),this._e(128|63&e)}}this.we()}Ie(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.ge(e);else if(e<2048)this.ge(960|e>>>6),this.ge(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.ge(480|e>>>12),this.ge(128|63&e>>>6),this.ge(128|63&e);else{const e=t.codePointAt(0);this.ge(240|e>>>18),this.ge(128|63&e>>>12),this.ge(128|63&e>>>6),this.ge(128|63&e)}}this.ye()}Te(e){const t=this.Ee(e),n=ac(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),n=ac(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let i=1;i<t.length;++i)t[i]^=n?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class cc{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class uc{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class hc{constructor(){this.De=new lc,this.Ce=new cc(this.De),this.xe=new uc(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t,n,i){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new dc(this.indexId,this.documentKey,this.arrayValue,n)}}function fc(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=pc(e.arrayValue,t.arrayValue),0!==n?n:(n=pc(e.directionalValue,t.directionalValue),0!==n?n:qr.comparator(e.documentKey,t.documentKey)))}function pc(e,t){for(let n=0;n<e.length&&n<t.length;++n){const i=e[n]-t[n];if(0!==i)return i}return e.length-t.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const e=t;e.S()?this.Fe=e:this.Oe.push(e)}}$e(e){const t=ds(e);if(void 0!==t&&!this.Be(t))return!1;const n=fs(e);let i=0,r=0;for(;i<n.length&&this.Be(n[i]);++i);if(i===n.length)return!0;if(void 0!==this.Fe){const e=n[i];if(!this.Le(this.Fe,e)||!this.Ue(this.Me[r++],e))return!1;++i}for(;i<n.length;++i){const e=n[i];if(r>=this.Me.length||!this.Ue(this.Me[r++],e))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this.qe=new vc}addToCollectionParentIndex(e,t){return this.qe.add(t),Al.resolve()}getCollectionParents(e,t){return Al.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Al.resolve()}deleteFieldIndex(e,t){return Al.resolve()}getDocumentsMatchingTarget(e,t){return Al.resolve(null)}getIndexType(e,t){return Al.resolve(0)}getFieldIndexes(e,t){return Al.resolve([])}getNextCollectionGroupToUpdate(e){return Al.resolve(null)}getMinOffset(e,t){return Al.resolve(ys.min())}updateCollectionGroup(e,t,n){return Al.resolve()}updateIndexEntries(e,t){return Al.resolve()}}class vc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Ss(_r.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ss(_r.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new Uint8Array(0);class bc{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new vc,this.Ge=new Zo((e=>Is(e)),((e,t)=>Ps(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.Ke.add(t)}));const r={collectionId:n,parent:Qa(i)};return xc(e).put(r)}return Al.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[gr(t),""],!1,!0);return xc(e).qt(i).next((e=>{for(const i of e){if(i.collectionId!==t)break;n.push(tl(i.parent))}return n}))}addFieldIndex(e,t){const n=_c(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);return delete i.indexId,n.add(i).next()}deleteFieldIndex(e,t){const n=_c(e),i=Sc(e),r=wc(e);return n.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=wc(e);let i=!0;const r=new Map;return Al.forEach(this.Qe(t),(t=>this.je(e,t).next((e=>{i&&(i=!!e),r.set(t,e)})))).next((()=>{if(i){let e=sa();const i=[];return Al.forEach(r,((r,s)=>{var o;Yi("IndexedDbIndexManager",`Using index ${o=r,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`} to execute ${Is(t)}`);const a=function(e,t){const n=ds(t);if(void 0===n)return null;for(const i of Ls(e,n.fieldPath))switch(i.op){case"array-contains-any":return i.value.arrayValue.values||[];case"array-contains":return[i.value]}return null}(s,r),l=function(e,t){const n=new Map;for(const i of fs(t))for(const t of Ls(e,i.fieldPath))switch(t.op){case"==":case"in":n.set(i.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(i.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,r),c=function(e,t){const n=[];let i=!0;for(const r of fs(t)){const t=0===r.kind?Ns(e,r.fieldPath,e.startAt):Os(e,r.fieldPath,e.startAt);n.push(t.value),i&&(i=t.inclusive)}return new js(n,i)}(s,r),u=function(e,t){const n=[];let i=!0;for(const r of fs(t)){const t=0===r.kind?Os(e,r.fieldPath,e.endAt):Ns(e,r.fieldPath,e.endAt);n.push(t.value),i&&(i=t.inclusive)}return new js(n,i)}(s,r),h=this.We(r,s,c),d=this.We(r,s,u),f=this.ze(r,s,l),p=this.He(r.indexId,a,h,c.inclusive,d,u.inclusive,f);return Al.forEach(p,(r=>n.Gt(r,t.limit).next((t=>{t.forEach((t=>{const n=qr.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),i.push(n))}))}))))})).next((()=>i))}return Al.resolve(null)}))}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,n,i,r,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,r.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Je(t[u/l]):yc,h=this.Ye(e,a,n[u%l],i),d=this.Xe(e,a,r[u%l],s),f=o.map((t=>this.Ye(e,a,t,!0)));c.push(...this.createRange(h,d,f))}return c}Ye(e,t,n,i){const r=new dc(e,qr.empty(),t,n);return i?r:r.ke()}Xe(e,t,n,i){const r=new dc(e,qr.empty(),t,n);return i?r.ke():r}je(e,t){const n=new gc(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((e=>{let t=null;for(const i of e)n.$e(i)&&(!t||i.fields.length>t.fields.length)&&(t=i);return t}))}getIndexType(e,t){let n=2;return Al.forEach(this.Qe(t),(t=>this.je(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Ss(kr.comparator),n=!1;for(const i of e.filters){const e=i;e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field))}for(const i of e.orderBy)i.field.isKeyField()||(t=t.add(i.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>n))}Ze(e,t){const n=new hc;for(const i of fs(e)){const e=t.data.field(i.fieldPath);if(null==e)return null;const r=n.Ne(i.kind);sc.fe.Zt(e,r)}return n.Se()}Je(e){const t=new hc;return sc.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const n=new hc;return sc.fe.Zt(Kr(this.databaseId,t),n.Ne(function(e){const t=fs(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}ze(e,t,n){if(null===n)return[];let i=[];i.push(new hc);let r=0;for(const s of fs(e)){const e=n[r++];for(const n of i)if(this.en(t,s.fieldPath)&&Qr(e))i=this.nn(i,s,e);else{const t=n.Ne(s.kind);sc.fe.Zt(e,t)}}return this.sn(i)}We(e,t,n){return this.ze(e,t,n.position)}sn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Se();return t}nn(e,t,n){const i=[...e],r=[];for(const s of n.arrayValue.values||[])for(const e of i){const n=new hc;n.seed(e.Se()),sc.fe.Zt(s,n.Ne(t.kind)),r.push(n)}return r}en(e,t){return!!e.filters.find((e=>e instanceof Ms&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=_c(e),i=Sc(e);return(t?n.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.qt()).next((e=>{const t=[];return Al.forEach(e,(e=>i.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new gs(t.sequenceNumber,new ys(Xl(t.readTime),new qr(tl(t.documentKey)),t.largestBatchId)):gs.empty(),i=e.fields.map((([e,t])=>new ps(kr.fromServerFormat(e),t)));return new hs(e.indexId,e.collectionGroup,i,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:fr(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const i=_c(e),r=Sc(e);return this.rn(e).next((e=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Al.forEach(t,(t=>r.put(function(e,t,n,i){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Wl(i.readTime),documentKey:Qa(i.documentKey.path),largestBatchId:i.largestBatchId}}(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Al.forEach(t,((t,i)=>{const r=n.get(t.collectionGroup);return(r?Al.resolve(r):this.getFieldIndexes(e,t.collectionGroup)).next((r=>(n.set(t.collectionGroup,r),Al.forEach(r,(n=>this.on(e,t,n).next((t=>{const r=this.un(i,n);return t.isEqual(r)?Al.resolve():this.an(e,i,n,t,r)})))))))}))}cn(e,t,n,i){return wc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}hn(e,t,n,i){return wc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}on(e,t,n){const i=wc(e);let r=new Ss(fc);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},((e,i)=>{r=r.add(new dc(n.indexId,t,i.arrayValue,i.directionalValue))})).next((()=>r))}un(e,t){let n=new Ss(fc);const i=this.Ze(t,e);if(null==i)return n;const r=ds(t);if(null!=r){const s=e.data.field(r.fieldPath);if(Qr(s))for(const r of s.arrayValue.values||[])n=n.add(new dc(t.indexId,e.key,this.Je(r),i))}else n=n.add(new dc(t.indexId,e.key,yc,i));return n}an(e,t,n,i,r){Yi("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,i,r){const s=e.getIterator(),o=t.getIterator();let a=Cs(s),l=Cs(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const i=n(a,l);i<0?t=!0:i>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(i(l),l=Cs(o)):t?(r(a),a=Cs(s)):(a=Cs(s),l=Cs(o))}}(i,r,fc,(i=>{s.push(this.cn(e,t,n,i))}),(i=>{s.push(this.hn(e,t,n,i))})),Al.waitFor(s)}rn(e){let t=1;return Sc(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,i)=>{i.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>fc(e,t))).filter(((e,t,n)=>!t||0!==fc(e,n[t-1])));const i=[];i.push(e);for(const s of n){const n=fc(s,e),r=fc(s,t);if(0===n)i[0]=e.ke();else if(n>0&&r<0)i.push(s),i.push(s.ke());else if(r>0)break}i.push(t);const r=[];for(let s=0;s<i.length;s+=2)r.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,yc,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,yc,[]]));return r}getMinOffset(e,t){let n;return Al.forEach(this.Qe(t),(t=>this.je(e,t).next((e=>{e?(!n||bs(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=ys.min()})))).next((()=>n))}}function xc(e){return Fl(e,"collectionParents")}function wc(e){return Fl(e,"indexEntries")}function _c(e){return Fl(e,"indexConfiguration")}function Sc(e){return Fl(e,"indexState")}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Cc(e,Cc.DEFAULT_COLLECTION_PERCENTILE,Cc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(e,t,n){const i=e.store("mutations"),r=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=i.Wt({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{Ki(1===a)})));const c=[];for(const u of n.mutations){const e=rl(t,u.key.path,n.batchId);s.push(r.delete(e)),c.push(u.key)}return Al.waitFor(s).next((()=>c))}function Tc(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Gi();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cc.DEFAULT_COLLECTION_PERCENTILE=10,Cc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cc.DEFAULT=new Cc(41943040,Cc.DEFAULT_COLLECTION_PERCENTILE,Cc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cc.DISABLED=new Cc(-1,0,0);class Ic{constructor(e,t,n,i){this.userId=e,this.M=t,this.indexManager=n,this.referenceDelegate=i,this.ln={}}static Yt(e,t,n,i){Ki(""!==e.uid);const r=e.isAuthenticated()?e.uid:"";return new Ic(r,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pc(e).Wt({index:"userMutationsIndex",range:n},((e,n,i)=>{t=!1,i.done()})).next((()=>t))}addMutationBatch(e,t,n,i){const r=Rc(e),s=Pc(e);return s.add({}).next((o=>{Ki("number"==typeof o);const a=new zl(o,t,n,i),l=function(e,t,n){const i=n.baseMutations.map((t=>Da(e.Jt,t))),r=n.mutations.map((t=>Da(e.Jt,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:i,mutations:r}}(this.M,this.userId,a),c=[];let u=new Ss(((e,t)=>fr(e.canonicalString(),t.canonicalString())));for(const e of i){const t=rl(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(r.put(t,sl))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.ln[o]=a.keys()})),Al.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return Pc(e).get(t).next((e=>e?(Ki(e.userId===this.userId),$l(this.M,e)):null))}fn(e,t){return this.ln[t]?Al.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.ln[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return Pc(e).Wt({index:"userMutationsIndex",range:i},((e,t,i)=>{t.userId===this.userId&&(Ki(t.batchId>=n),r=$l(this.M,t)),i.done()})).next((()=>r))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Pc(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},((e,t,i)=>{n=t.batchId,i.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pc(e).qt("userMutationsIndex",t).next((e=>e.map((e=>$l(this.M,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=il(this.userId,t.path),i=IDBKeyRange.lowerBound(n),r=[];return Rc(e).Wt({range:i},((n,i,s)=>{const[o,a,l]=n,c=tl(a);if(o===this.userId&&t.path.isEqual(c))return Pc(e).get(l).next((e=>{if(!e)throw Gi();Ki(e.userId===this.userId),r.push($l(this.M,e))}));s.done()})).next((()=>r))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ss(fr);const i=[];return t.forEach((t=>{const r=il(this.userId,t.path),s=IDBKeyRange.lowerBound(r),o=Rc(e).Wt({range:s},((e,i,r)=>{const[s,o,a]=e,l=tl(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):r.done()}));i.push(o)})),Al.waitFor(i).next((()=>this.dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,r=il(this.userId,n),s=IDBKeyRange.lowerBound(r);let o=new Ss(fr);return Rc(e).Wt({range:s},((e,t,r)=>{const[s,a,l]=e,c=tl(a);s===this.userId&&n.isPrefixOf(c)?c.length===i&&(o=o.add(l)):r.done()})).next((()=>this.dn(e,o)))}dn(e,t){const n=[],i=[];return t.forEach((t=>{i.push(Pc(e).get(t).next((e=>{if(null===e)throw Gi();Ki(e.userId===this.userId),n.push($l(this.M,e))})))})),Al.waitFor(i).next((()=>n))}removeMutationBatch(e,t){return Ac(e.Ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this._n(t.batchId)})),Al.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Al.resolve();const n=IDBKeyRange.lowerBound([this.userId]),i=[];return Rc(e).Wt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=tl(e[1]);i.push(t)}else n.done()})).next((()=>{Ki(0===i.length)}))}))}containsKey(e,t){return Ec(e,this.userId,t)}wn(e){return Lc(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Ec(e,t,n){const i=il(t,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return Rc(e).Wt({range:s,jt:!0},((e,n,i)=>{const[s,a,l]=e;s===t&&a===r&&(o=!0),i.done()})).next((()=>o))}function Pc(e){return Fl(e,"mutations")}function Rc(e){return Fl(e,"documentMutations")}function Lc(e){return Fl(e,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Nc(0)}static yn(){return new Nc(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next((t=>{const n=new Nc(t.highestTargetId);return t.highestTargetId=n.next(),this.In(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.pn(e).next((e=>vr.fromTimestamp(new mr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.pn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.pn(e).next((i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i))))}addTargetData(e,t){return this.Tn(e,t).next((()=>this.pn(e).next((n=>(n.targetCount+=1,this.En(t,n),this.In(e,n))))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Mc(e).delete(t.targetId))).next((()=>this.pn(e))).next((t=>(Ki(t.targetCount>0),t.targetCount-=1,this.In(e,t))))}removeTargets(e,t,n){let i=0;const r=[];return Mc(e).Wt(((s,o)=>{const a=Gl(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(i++,r.push(this.removeTargetData(e,a)))})).next((()=>Al.waitFor(r))).next((()=>i))}forEachTarget(e,t){return Mc(e).Wt(((e,n)=>{const i=Gl(n);t(i)}))}pn(e){return Dc(e).get("targetGlobalKey").next((e=>(Ki(null!==e),e)))}In(e,t){return Dc(e).put("targetGlobalKey",t)}Tn(e,t){return Mc(e).put(Kl(this.M,t))}En(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.pn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Is(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return Mc(e).Wt({range:i,index:"queryTargetsIndex"},((e,n,i)=>{const s=Gl(n);Ps(t,s.target)&&(r=s,i.done())})).next((()=>r))}addMatchingKeys(e,t,n){const i=[],r=Fc(e);return t.forEach((t=>{const s=Qa(t.path);i.push(r.put({targetId:n,path:s})),i.push(this.referenceDelegate.addReference(e,n,t))})),Al.waitFor(i)}removeMatchingKeys(e,t,n){const i=Fc(e);return Al.forEach(t,(t=>{const r=Qa(t.path);return Al.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Fc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=Fc(e);let r=sa();return i.Wt({range:n,jt:!0},((e,t,n)=>{const i=tl(e[1]),s=new qr(i);r=r.add(s)})).next((()=>r))}containsKey(e,t){const n=Qa(t.path),i=IDBKeyRange.bound([n],[gr(n)],!1,!0);let r=0;return Fc(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},(([e,t],n,i)=>{0!==e&&(r++,i.done())})).next((()=>r>0))}Et(e,t){return Mc(e).get(t).next((e=>e?Gl(e):null))}}function Mc(e){return Fl(e,"targets")}function Dc(e){return Fl(e,"targetGlobal")}function Fc(e){return Fl(e,"targetDocuments")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(e){if(e.code!==Ji.FAILED_PRECONDITION||e.message!==kl)throw e;Yi("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc([e,t],[n,i]){const r=fr(e,n);return 0===r?fr(t,i):r}class qc{constructor(e){this.An=e,this.buffer=new Ss(Bc),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Bc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Vc{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){const t=this.Vn?3e5:6e4;Yi("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.vn=null,this.Vn=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){Rl(e)?Yi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await zc(e)}await this.Sn(e)}))}}class Hc{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Al.resolve(ur.A);const n=new qc(t);return this.Dn.forEachTarget(e,(e=>n.Pn(e.sequenceNumber))).next((()=>this.Dn.xn(e,(e=>n.Pn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Dn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Yi("LruGarbageCollector","Garbage collection skipped; disabled"),Al.resolve(kc)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Yi("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kc):this.Nn(e,t)))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let n,i,r,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Yi("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),i=this.params.maximumSequenceNumbersToCollect):i=t,s=Date.now(),this.nthSequenceNumber(e,i)))).next((i=>(n=i,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(r=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Ui()<=o["in"].DEBUG&&Yi("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${i} in `+(a-s)+"ms\n"+`\tRemoved ${r} targets in `+(l-a)+"ms\n"+`\tRemoved ${e} documents in `+(c-l)+"ms\n"+`Total Duration: ${c-u}ms`),Al.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:e}))))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Hc(e,t)}(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}kn(e){let t=0;return this.xn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,((e,n)=>t(n)))}addReference(e,t,n){return jc(e,n)}removeReference(e,t,n){return jc(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return jc(e,t)}On(e,t){return function(e,t){let n=!1;return Lc(e).zt((i=>Ec(e,i,t).next((e=>(e&&(n=!0),Al.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Mn(e,((s,o)=>{if(o<=t){const t=this.On(e,s).next((t=>{if(!t)return r++,n.getEntry(e,s).next((()=>(n.removeEntry(s,vr.min()),Fc(e).delete([0,Qa(s.path)]))))}));i.push(t)}})).next((()=>Al.waitFor(i))).next((()=>n.apply(e))).next((()=>r))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return jc(e,t)}Mn(e,t){const n=Fc(e);let i,r=ur.A;return n.Wt({index:"documentTargetsIndex"},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(r!==ur.A&&t(new qr(tl(i)),r),r=o,i=s):r=ur.A})).next((()=>{r!==ur.A&&t(new qr(tl(i)),r)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jc(e,t){return Fc(e).put(function(e,t){return{targetId:0,path:Qa(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.changes=new Zo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,us.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Al.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Gc(e).put(n)}removeEntry(e,t,n){return Gc(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Yl(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Fn(e,n))))}getEntry(e,t){let n=us.newInvalidDocument(t);return Gc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Kc(t))},((e,i)=>{n=this.$n(t,i)})).next((()=>n))}Bn(e,t){let n={size:0,document:us.newInvalidDocument(t)};return Gc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Kc(t))},((e,i)=>{n={document:this.$n(t,i),size:Tc(i)}})).next((()=>n))}getEntries(e,t){let n=Jo();return this.Ln(e,t,((e,t)=>{const i=this.$n(e,t);n=n.insert(e,i)})).next((()=>n))}Un(e,t){let n=Jo(),i=new xs(qr.comparator);return this.Ln(e,t,((e,t)=>{const r=this.$n(e,t);n=n.insert(e,r),i=i.insert(e,Tc(t))})).next((()=>({documents:n,qn:i})))}Ln(e,t,n){if(t.isEmpty())return Al.resolve();let i=new Ss(Qc);t.forEach((e=>i=i.add(e)));const r=IDBKeyRange.bound(Kc(i.first()),Kc(i.last())),s=i.getIterator();let o=s.getNext();return Gc(e).Wt({index:"documentKeyIndex",range:r},((e,t,i)=>{const r=qr.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Qc(o,r)<0;)n(o,null),o=s.getNext();o&&o.isEqual(r)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?i.Ut(Kc(o)):i.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getAllFromCollection(e,t,n){const i=[t.popLast().toArray(),t.lastSegment(),Yl(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],r=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gc(e).qt(IDBKeyRange.bound(i,r,!0)).next((e=>{let t=Jo();for(const n of e){const e=this.$n(qr.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);t=t.insert(e.key,e)}return t}))}getAllFromCollectionGroup(e,t,n,i){let r=Jo();const s=Zc(t,n),o=Zc(t,ys.max());return Gc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.$n(qr.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);r=r.insert(s.key,s),r.size===i&&n.done()})).next((()=>r))}newChangeBuffer(e){return new Xc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return $c(e).get("remoteDocumentGlobalKey").next((e=>(Ki(!!e),e)))}Fn(e,t){return $c(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const e=Ul(this.M,t);if(!e.isNoDocument()||!e.version.isEqual(vr.min()))return e}return us.newInvalidDocument(e)}}class Xc extends Yc{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Zo((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,i=new Ss(((e,t)=>fr(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((r,s)=>{const o=this.Gn.get(r);if(t.push(this.Kn.removeEntry(e,r,o.readTime)),s.isValidDocument()){const a=jl(this.Kn.M,s);i=i.add(r.path.popLast());const l=Tc(a);n+=l-o.size,t.push(this.Kn.addEntry(e,r,a))}else if(n-=o.size,this.trackRemovals){const n=jl(this.Kn.M,s.convertToNoDocument(vr.min()));t.push(this.Kn.addEntry(e,r,n))}})),i.forEach((n=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.Kn.updateMetadata(e,n)),Al.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next((e=>(this.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.Kn.Un(e,t).next((({documents:e,qn:t})=>(t.forEach(((t,n)=>{this.Gn.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function $c(e){return Fl(e,"remoteDocumentGlobal")}function Gc(e){return Fl(e,"remoteDocumentsV14")}function Kc(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Zc(e,t){const n=t.documentKey.path.toArray();return[e,Yl(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Qc(e,t){const n=e.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<n.length-2&&s<i.length-2;++s)if(r=fr(n[s],i[s]),r)return r;return r=fr(n.length,i.length),r||(r=fr(n[n.length-2],i[i.length-2]),r||fr(n[n.length-1],i[i.length-1]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this.M=e}kt(e,t,n,i){const r=new Tl("createOrUpgrade",t);n<1&&i>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nl,{unique:!0}),e.createObjectStore("documentMutations")}(e),eu(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Al.resolve();return n<3&&i>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),eu(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vr.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(r)))),n<4&&i>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").qt().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nl,{unique:!0});const i=t.store("mutations"),r=n.map((e=>i.put(e)));return Al.waitFor(r)}))}(e,r)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&i>=5&&(s=s.next((()=>this.Qn(r)))),n<6&&i>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.jn(r))))),n<7&&i>=7&&(s=s.next((()=>this.Wn(r)))),n<8&&i>=8&&(s=s.next((()=>this.zn(e,r)))),n<9&&i>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&i>=10&&(s=s.next((()=>this.Hn(r)))),n<11&&i>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&i>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:vl});t.createIndex("collectionPathOverlayIndex",yl,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",bl,{unique:!1})}(e)}))),n<13&&i>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:ol});t.createIndex("documentKeyIndex",al),t.createIndex("collectionGroupIndex",ll)}(e))).next((()=>this.Jn(e,r))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&i>=14&&(s=s.next((()=>{!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:fl}).createIndex("sequenceNumberIndex",pl,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:gl}).createIndex("documentKeyIndex",ml,{unique:!1})}(e)}))),s}jn(e){let t=0;return e.store("remoteDocuments").Wt(((e,n)=>{t+=Tc(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Qn(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.qt().next((t=>Al.forEach(t,(t=>{const i=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.qt("userMutationsIndex",i).next((n=>Al.forEach(n,(n=>{Ki(n.userId===t.userId);const i=$l(this.M,n);return Ac(e,t.userId,i).next((()=>{}))}))))}))))}Wn(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const i=[];return n.Wt(((n,r)=>{const s=new _r(n),o=function(e){return[0,Qa(e)]}(s);i.push(t.get(o).next((n=>n?Al.resolve():(n=>t.put({targetId:0,path:Qa(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Al.waitFor(i)))}))}zn(e,t){e.createObjectStore("collectionParents",{keyPath:dl});const n=t.store("collectionParents"),i=new vc,r=e=>{if(i.add(e)){const t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Qa(i)})}};return t.store("remoteDocuments").Wt({jt:!0},((e,t)=>{const n=new _r(e);return r(n.popLast())})).next((()=>t.store("documentMutations").Wt({jt:!0},(([e,t,n],i)=>{const s=tl(t);return r(s.popLast())}))))}Hn(e){const t=e.store("targets");return t.Wt(((e,n)=>{const i=Gl(n),r=Kl(this.M,i);return t.put(r)}))}Jn(e,t){const n=t.store("remoteDocuments"),i=[];return n.Wt(((e,n)=>{const r=t.store("remoteDocumentsV14"),s=(o=n,o.document?new qr(_r.fromString(o.document.name).popFirst(5)):o.noDocument?qr.fromSegments(o.noDocument.path):o.unknownDocument?qr.fromSegments(o.unknownDocument.path):Gi()).path.toArray();var o;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};i.push(r.put(a))})).next((()=>Al.waitFor(i)))}}function eu(e){e.createObjectStore("targetDocuments",{keyPath:ul}).createIndex("documentTargetsIndex",hl,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cl,{unique:!0}),e.createObjectStore("targetGlobal")}const tu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nu{constructor(e,t,n,i,r,s,o,a,l,c,u=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Yn=r,this.window=s,this.document=o,this.Xn=l,this.Zn=c,this.ts=u,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=e=>Promise.resolve(),!nu.vt())throw new er(Ji.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uc(this,i),this.hs=t+"main",this.M=new Hl(a),this.ls=new Il(this.hs,this.ts,new Jc(this.M)),this.fs=new Oc(this.referenceDelegate,this.M),this.ds=function(e){return new Wc(e)}(this.M),this._s=new ec,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===c&&Wi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new er(Ji.FAILED_PRECONDITION,tu);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.fs.getHighestSequenceNumber(e)))})).then((e=>{this.es=new ur(e,this.Xn)})).then((()=>{this.ns=!0})).catch((e=>(this.ls&&this.ls.close(),Promise.reject(e))))}Ts(e){return this.cs=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((async()=>{this.started&&await this.gs()})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>ru(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Es(e).next((e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable((()=>this.cs(!1))))}))})).next((()=>this.As(e))).next((t=>this.isPrimary&&!t?this.Rs(e).next((()=>!1)):!!t&&this.bs(e).next((()=>!0)))))).catch((e=>{if(Rl(e))return Yi("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Yi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable((()=>this.cs(e))),this.isPrimary=e}))}Es(e){return iu(e).get("owner").next((e=>Al.resolve(this.Ps(e))))}Vs(e){return ru(e).delete(this.clientId)}async vs(){if(this.isPrimary&&!this.Ss(this.us,18e5)){this.us=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Fl(e,"clientMetadata");return t.qt().next((e=>{const n=this.Ds(e,18e5),i=e.filter((e=>-1===n.indexOf(e)));return Al.forEach(i,(e=>t.delete(e.clientId))).next((()=>i))}))})).catch((()=>[]));if(this.ws)for(const t of e)this.ws.removeItem(this.Cs(t.clientId))}}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.gs().then((()=>this.vs())).then((()=>this.Is()))))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Al.resolve(!0):iu(e).get("owner").next((t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new er(Ji.FAILED_PRECONDITION,tu);return!1}}return!(!this.networkEnabled||!this.inForeground)||ru(e).qt().next((e=>void 0===this.Ds(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,i=this.networkEnabled===e.networkEnabled;if(t||n&&i)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Yi("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),await this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Dl(e,ur.A);return this.Rs(t).next((()=>this.Vs(t)))})),this.ls.close(),this.Os()}Ds(e,t){return e.filter((e=>this.Ss(e.updateTimeMs,t)&&!this.xs(e.clientId)))}Fs(){return this.runTransaction("getActiveClients","readonly",(e=>ru(e).qt().next((e=>this.Ds(e,18e5).map((e=>e.clientId))))))}get started(){return this.ns}getMutationQueue(e,t){return Ic.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new bc(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return ic.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,n){Yi("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",r=14===(s=this.ts)?Sl:13===s?_l:12===s?wl:11===s?xl:void Gi();var s;let o;return this.ls.runTransaction(e,i,r,(i=>(o=new Dl(i,this.es?this.es.next():ur.A),"readwrite-primary"===t?this.Es(o).next((e=>!!e||this.As(o))).next((t=>{if(!t)throw Wi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable((()=>this.cs(!1))),new er(Ji.FAILED_PRECONDITION,kl);return n(o)})).next((e=>this.bs(o).next((()=>e)))):this.$s(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}$s(e){return iu(e).get("owner").next((e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.Ps(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new er(Ji.FAILED_PRECONDITION,tu)}))}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return iu(e).put("owner",t)}static vt(){return Il.vt()}Rs(e){const t=iu(e);return t.get("owner").next((e=>this.Ps(e)?(Yi("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Al.resolve()))}Ss(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Wi(`Detected an update time that is in the future: ${e} > ${n}`),!1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.gs())))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,a.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Yi("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Wi("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(_){Wi("Failed to set zombie client id.",_)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(_){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function iu(e){return Fl(e,"owner")}function ru(e){return Fl(e,"clientMetadata")}function su(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class ou{constructor(e,t,n){this.ds=e,this.Bs=t,this.indexManager=n}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Us(e,t,n)))}Us(e,t,n){return this.ds.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}qs(e,t){e.forEach(((e,n)=>{for(const i of t)i.applyToLocalView(n)}))}Ks(e,t){return this.ds.getEntries(e,t).next((t=>this.Gs(e,t).next((()=>t))))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.qs(t,e)))}Qs(e,t,n){return function(e){return qr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):to(t)?this.Ws(e,t,n):this.zs(e,t,n)}js(e,t){return this.Ls(e,new qr(t)).next((e=>{let t=ta();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Ws(e,t,n){const i=t.collectionGroup;let r=ta();return this.indexManager.getCollectionParents(e,i).next((s=>Al.forEach(s,(s=>{const o=function(e,t){return new Gs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.zs(e,o,n).next((e=>{e.forEach(((e,t)=>{r=r.insert(e,t)}))}))})).next((()=>r))))}zs(e,t,n){let i;return this.ds.getAllFromCollection(e,t.path,n).next((n=>(i=n,this.Bs.getAllMutationBatchesAffectingQuery(e,t)))).next((e=>{for(const t of e)for(const e of t.mutations){const n=e.key;let r=i.get(n);null==r&&(r=us.newInvalidDocument(n),i=i.insert(n,r)),Mo(e,r,t.localWriteTime),r.isFoundDocument()||(i=i.remove(n))}})).next((()=>(i.forEach(((e,n)=>{lo(t,n)||(i=i.remove(e))})),i)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Hs=n,this.Js=i}static Ys(e,t){let n=sa(),i=sa();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new au(e,t.fromCache,n,i)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,n,i){return this.ti(e,t).next((r=>r||this.ei(e,t,i,n))).next((n=>n||this.ni(e,t)))}ti(e,t){return Al.resolve(null)}ei(e,t,n,i){return Qs(t)||i.isEqual(vr.min())?this.ni(e,t):this.Zs.Ks(e,n).next((r=>{const s=this.si(t,r);return this.ii(t,s,n,i)?this.ni(e,t):(Ui()<=o["in"].DEBUG&&Yi("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ao(t)),this.ri(e,s,t,ms(i,-1)))}))}si(e,t){let n=new Ss(uo(e));return t.forEach(((t,i)=>{lo(e,i)&&(n=n.add(i))})),n}ii(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}ni(e,t){return Ui()<=o["in"].DEBUG&&Yi("QueryEngine","Using full collection scan to execute query:",ao(t)),this.Zs.Qs(e,t,ys.min())}ri(e,t,n,i){return this.Zs.Qs(e,n,i).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t,n,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new xs(fr),this.ai=new Zo((e=>Is(e)),Ps),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(n)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new ou(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ui)))}}function uu(e,t,n,i){return new cu(e,t,n,i)}async function hu(e,t){const n=Qi(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let i;return n.Bs.getAllMutationBatches(e).next((r=>(i=r,n.li(t),n.Bs.getAllMutationBatches(e)))).next((t=>{const r=[],s=[];let o=sa();for(const e of i){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.fi.Ks(e,o).next((e=>({di:e,removedBatchIds:r,addedBatchIds:s})))}))}))}function du(e,t){const n=Qi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const i=t.batch.keys(),r=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,s=r.keys();let o=Al.resolve();return s.forEach((e=>{o=o.next((()=>i.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Ki(null!==s),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))}))})),o.next((()=>e.Bs.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.Bs.performConsistencyCheck(e))).next((()=>n.fi.Ks(e,i)))}))}function fu(e){const t=Qi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.fs.getLastRemoteSnapshotVersion(e)))}function pu(e,t){const n=Qi(e),i=t.snapshotVersion;let r=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.hi.newChangeBuffer({trackRemovals:!0});r=n.ui;const o=[];t.targetChanges.forEach(((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.fs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.fs.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?c=c.withResumeToken(Tr.EMPTY_BYTE_STRING,vr.min()).withLastLimboFreeSnapshotVersion(vr.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&o.push(n.fs.updateTargetData(e,c))}));let a=Jo();if(t.documentUpdates.forEach((i=>{t.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))})),o.push(gu(e,s,t.documentUpdates).next((e=>{a=e}))),!i.isEqual(vr.min())){const t=n.fs.getLastRemoteSnapshotVersion(e).next((t=>n.fs.setTargetsMetadata(e,e.currentSequenceNumber,i)));o.push(t)}return Al.waitFor(o).next((()=>s.apply(e))).next((()=>n.fi.Gs(e,a))).next((()=>a))})).then((e=>(n.ui=r,e)))}function gu(e,t,n){let i=sa();return n.forEach((e=>i=i.add(e))),t.getEntries(e,i).next((e=>{let i=Jo();return n.forEach(((n,r)=>{const s=e.get(n);r.isNoDocument()&&r.version.isEqual(vr.min())?(t.removeEntry(n,r.readTime),i=i.insert(n,r)):!s.isValidDocument()||r.version.compareTo(s.version)>0||0===r.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(r),i=i.insert(n,r)):Yi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",r.version)})),i}))}function mu(e,t){const n=Qi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t))))}function vu(e,t){const n=Qi(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let i;return n.fs.getTargetData(e,t).next((r=>r?(i=r,Al.resolve(i)):n.fs.allocateTargetId(e).next((r=>(i=new Vl(t,r,0,e.currentSequenceNumber),n.fs.addTargetData(e,i).next((()=>i)))))))})).then((e=>{const i=n.ui.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}async function yu(e,t,n){const i=Qi(e),r=i.ui.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(e=>i.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!Rl(e))throw e;Yi("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}i.ui=i.ui.remove(t),i.ai.delete(r.target)}function bu(e,t,n){const i=Qi(e);let r=vr.min(),s=sa();return i.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const i=Qi(e),r=i.ai.get(n);return void 0!==r?Al.resolve(i.ui.get(r)):i.fs.getTargetData(t,n)}(i,e,io(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>i.oi.Qs(e,t,n?r:vr.min(),n?s:sa()))).next((e=>(_u(i,co(t),e),{documents:e,_i:s})))))}function xu(e,t){const n=Qi(e),i=Qi(n.fs),r=n.ui.get(t);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",(e=>i.Et(e,t).next((e=>e?e.target:null))))}function wu(e,t){const n=Qi(e),i=n.ci.get(t)||vr.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.hi.getAllFromCollectionGroup(e,t,ms(i,-1),Number.MAX_SAFE_INTEGER))).then((e=>(_u(n,t,e),e)))}function _u(e,t,n){let i=vr.min();n.forEach(((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)})),e.ci.set(t,i)}async function Su(e,t,n,i){const r=Qi(e);let s=sa(),o=Jo();for(const c of n){const e=t.wi(c.metadata.name);c.document&&(s=s.add(e));const n=t.mi(c);n.setReadTime(t.gi(c.metadata.readTime)),o=o.insert(e,n)}const a=r.hi.newChangeBuffer({trackRemovals:!0}),l=await vu(r,function(e){return io(Zs(_r.fromString(`__bundle__/docs/${e}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",(e=>gu(e,a,o).next((t=>(a.apply(e),t))).next((t=>r.fs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>r.fs.addMatchingKeys(e,s,l.targetId))).next((()=>r.fi.Gs(e,t))).next((()=>t))))))}async function ku(e,t,n=sa()){const i=await vu(e,io(Zl(t.bundledQuery))),r=Qi(e);return r.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Sa(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r._s.saveNamedQuery(e,t);const o=i.withResumeToken(Tr.EMPTY_BYTE_STRING,s);return r.ui=r.ui.insert(o.targetId,o),r.fs.updateTargetData(e,o).next((()=>r.fs.removeMatchingKeysForTargetId(e,i.targetId))).next((()=>r.fs.addMatchingKeys(e,n,i.targetId))).next((()=>r._s.saveNamedQuery(e,t)))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Al.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:Sa(n.createTime)}),Al.resolve()}getNamedQuery(e,t){return Al.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:Zl(e.bundledQuery),readTime:Sa(e.readTime)}}(t)),Al.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(){this.overlays=new xs(qr.comparator),this.Ii=new Map}getOverlay(e,t){return Al.resolve(this.overlays.get(t))}saveOverlays(e,t,n){return n.forEach(((n,i)=>{this.Xt(e,t,i)})),Al.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Ii.get(n);return void 0!==i&&(i.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ii.delete(n)),Al.resolve()}getOverlaysForCollection(e,t,n){const i=na(),r=t.length+1,s=new qr(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return Al.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new xs(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=na(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=na(),a=r.getIterator();for(;a.hasNext();)if(a.getNext().value.forEach(((e,t)=>o.set(e,t))),o.size()>=i)break;return Al.resolve(o)}Xt(e,t,n){if(null===n)return;const i=this.overlays.get(n.key);if(null!==i){const e=this.Ii.get(i.largestBatchId).delete(n.key);this.Ii.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ql(t,n));let r=this.Ii.get(t);void 0===r&&(r=sa(),this.Ii.set(t,r)),this.Ii.set(t,r.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this.Ti=new Ss(Iu.Ei),this.Ai=new Ss(Iu.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const n=new Iu(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}bi(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Pi(new Iu(e,t))}Vi(e,t){e.forEach((e=>this.removeReference(e,t)))}vi(e){const t=new qr(new _r([])),n=new Iu(t,e),i=new Iu(t,e+1),r=[];return this.Ai.forEachInRange([n,i],(e=>{this.Pi(e),r.push(e.key)})),r}Si(){this.Ti.forEach((e=>this.Pi(e)))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new qr(new _r([])),n=new Iu(t,e),i=new Iu(t,e+1);let r=sa();return this.Ai.forEachInRange([n,i],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new Iu(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Iu{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return qr.comparator(e.key,t.key)||fr(e.Ci,t.Ci)}static Ri(e,t){return fr(e.Ci,t.Ci)||qr.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Ss(Iu.Ei)}checkEmpty(e){return Al.resolve(0===this.Bs.length)}addMutationBatch(e,t,n,i){const r=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const s=new zl(r,t,n,i);this.Bs.push(s);for(const o of i)this.Ni=this.Ni.add(new Iu(o.key,r)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Al.resolve(s)}lookupMutationBatch(e,t){return Al.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Mi(n),r=i<0?0:i;return Al.resolve(this.Bs.length>r?this.Bs[r]:null)}getHighestUnacknowledgedBatchId(){return Al.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Al.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Iu(t,0),i=new Iu(t,Number.POSITIVE_INFINITY),r=[];return this.Ni.forEachInRange([n,i],(e=>{const t=this.ki(e.Ci);r.push(t)})),Al.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ss(fr);return t.forEach((e=>{const t=new Iu(e,0),i=new Iu(e,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([t,i],(e=>{n=n.add(e.Ci)}))})),Al.resolve(this.Oi(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;qr.isDocumentKey(r)||(r=r.child(""));const s=new Iu(new qr(r),0);let o=new Ss(fr);return this.Ni.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(o=o.add(e.Ci)),!0)}),s),Al.resolve(this.Oi(o))}Oi(e){const t=[];return e.forEach((e=>{const n=this.ki(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ki(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let n=this.Ni;return Al.forEach(t.mutations,(i=>{const r=new Iu(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Ni=n}))}_n(e){}containsKey(e,t){const n=new Iu(t,0),i=this.Ni.firstAfterOrEqual(n);return Al.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.Bs.length,Al.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this.$i=e,this.docs=new xs(qr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,s=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Al.resolve(n?n.document.mutableCopy():us.newInvalidDocument(t))}getEntries(e,t){let n=Jo();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():us.newInvalidDocument(e))})),Al.resolve(n)}getAllFromCollection(e,t,n){let i=Jo();const r=new qr(t.child("")),s=this.docs.getIteratorFrom(r);for(;s.hasNext();){const{key:e,value:{document:r}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||bs(vs(r),n)<=0||(i=i.insert(r.key,r.mutableCopy()))}return Al.resolve(i)}getAllFromCollectionGroup(e,t,n,i){Gi()}Bi(e,t){return Al.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ru(this)}getSize(e){return Al.resolve(this.size)}}class Ru extends Yc{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(n)})),Al.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this.persistence=e,this.Li=new Zo((e=>Is(e)),Ps),this.lastRemoteSnapshotVersion=vr.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Tu,this.targetCount=0,this.Ki=Nc.gn()}forEachTarget(e,t){return this.Li.forEach(((e,n)=>t(n))),Al.resolve()}getLastRemoteSnapshotVersion(e){return Al.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Al.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Al.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),Al.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Nc(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Al.resolve()}updateTargetData(e,t){return this.Tn(t),Al.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Al.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.Li.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Li.delete(s),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),Al.waitFor(r).next((()=>i))}getTargetCount(e){return Al.resolve(this.targetCount)}getTargetData(e,t){const n=this.Li.get(t)||null;return Al.resolve(n)}addMatchingKeys(e,t,n){return this.qi.bi(t,n),Al.resolve()}removeMatchingKeys(e,t,n){this.qi.Vi(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((t=>{r.push(i.markPotentiallyOrphaned(e,t))})),Al.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Al.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qi.Di(t);return Al.resolve(n)}containsKey(e,t){return Al.resolve(this.qi.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t){this.Gi={},this.overlays={},this.es=new ur(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Lu(this),this.indexManager=new mc,this.ds=function(e){return new Pu(e)}((e=>this.referenceDelegate.Qi(e))),this.M=new Hl(t),this._s=new Cu(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Au,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Gi[e.toKey()];return n||(n=new Eu(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,n){Yi("MemoryPersistence","Starting transaction:",e);const i=new Ou(this.es.next());return this.referenceDelegate.ji(),n(i).next((e=>this.referenceDelegate.Wi(i).next((()=>e)))).toPromise().then((e=>(i.raiseOnCommittedEvent(),e)))}zi(e,t){return Al.or(Object.values(this.Gi).map((n=>()=>n.containsKey(e,t))))}}class Ou extends Cl{constructor(e){super(),this.currentSequenceNumber=e}}class Mu{constructor(e){this.persistence=e,this.Hi=new Tu,this.Ji=null}static Yi(e){return new Mu(e)}get Xi(){if(this.Ji)return this.Ji;throw Gi()}addReference(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),Al.resolve()}removeReference(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),Al.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Al.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach((e=>this.Xi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Al.forEach(this.Xi,(n=>{const i=qr.fromPath(n);return this.Zi(e,i).next((e=>{e||t.removeEntry(i,vr.min())}))})).next((()=>(this.Ji=null,t.apply(e))))}updateLimboDocument(e,t){return this.Zi(e,t).next((e=>{e?this.Xi.delete(t.toString()):this.Xi.add(t.toString())}))}Qi(e){return 0}Zi(e,t){return Al.or([()=>Al.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(e,t){return`firestore_clients_${e}_${t}`}function Fu(e,t,n){let i=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function zu(e,t){return`firestore_targets_${e}_${t}`}class Bu{constructor(e,t,n,i){this.user=e,this.batchId=t,this.state=n,this.error=i}static tr(e,t,n){const i=JSON.parse(n);let r,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new er(i.error.code,i.error.message))),s?new Bu(e,t,i.state,r):(Wi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qu{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static tr(e,t){const n=JSON.parse(t);let i,r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code,r&&(i=new er(n.error.code,n.error.message))),r?new qu(e,n.state,i):(Wi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vu{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const n=JSON.parse(t);let i="object"==typeof n&&n.activeTargetIds instanceof Array,r=aa();for(let s=0;i&&s<n.activeTargetIds.length;++s)i=Br(n.activeTargetIds[s]),r=r.add(n.activeTargetIds[s]);return i?new Vu(e,r):(Wi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Hu{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Hu(t.clientId,t.onlineState):(Wi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Uu{constructor(){this.activeTargetIds=aa()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ju{constructor(e,t,n,i,r){this.window=e,this.Yn=t,this.persistenceKey=n,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new xs(fr),this.started=!1,this.cr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.hr=Du(this.persistenceKey,this.ir),this.lr=function(e){return`firestore_sequence_number_${e}`}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.ar=this.ar.insert(this.ir,new Uu),this.dr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.mr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.gr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Fs();for(const n of e){if(n===this.ir)continue;const e=this.getItem(Du(this.persistenceKey,n));if(e){const t=Vu.tr(n,e);t&&(this.ar=this.ar.insert(t.clientId,t))}}this.yr();const t=this.storage.getItem(this.mr);if(t){const e=this.pr(t);e&&this.Ir(e)}for(const n of this.cr)this.ur(n);this.cr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach(((n,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,n){this.Er(e,t,n),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(zu(this.persistenceKey,e));if(n){const i=qu.tr(e,n);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zu(this.persistenceKey,e))}updateQueryState(e,t,n){this.br(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ar(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Yi("SharedClientState","READ",e,t),t}setItem(e,t){Yi("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Yi("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){const t=e;if(t.storageArea===this.storage){if(Yi("SharedClientState","EVENT",t.key,t.newValue),t.key===this.hr)return void Wi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.dr.test(t.key)){if(null==t.newValue){const e=this.vr(t.key);return this.Sr(e,null)}{const e=this.Dr(t.key,t.newValue);if(e)return this.Sr(e.clientId,e)}}else if(this._r.test(t.key)){if(null!==t.newValue){const e=this.Cr(t.key,t.newValue);if(e)return this.Nr(e)}}else if(this.wr.test(t.key)){if(null!==t.newValue){const e=this.kr(t.key,t.newValue);if(e)return this.Mr(e)}}else if(t.key===this.mr){if(null!==t.newValue){const e=this.pr(t.newValue);if(e)return this.Ir(e)}}else if(t.key===this.lr){const e=function(e){let t=ur.A;if(null!=e)try{const n=JSON.parse(e);Ki("number"==typeof n),t=n}catch(e){Wi("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==ur.A&&this.sequenceNumberHandler(e)}else if(t.key===this.gr){const e=this.Or(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Fr(e))))}}else this.cr.push(t)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,n){const i=new Bu(this.currentUser,e,t,n),r=Fu(this.persistenceKey,this.currentUser,e);this.setItem(r,i.er())}Ar(e){const t=Fu(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){const t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}br(e,t,n){const i=zu(this.persistenceKey,e),r=new qu(e,t,n);this.setItem(i,r.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const n=this.vr(e);return Vu.tr(n,t)}Cr(e,t){const n=this._r.exec(e),i=Number(n[1]),r=void 0!==n[2]?n[2]:null;return Bu.tr(new qi(r),i,t)}kr(e,t){const n=this.wr.exec(e),i=Number(n[1]);return qu.tr(i,t)}pr(e){return Hu.tr(e)}Or(e){return JSON.parse(e)}async Nr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.$r(e.batchId,e.state,e.error);Yi("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const n=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),r=this.Tr(n),s=[],o=[];return r.forEach((e=>{i.has(e)||s.push(e)})),i.forEach((e=>{r.has(e)||o.push(e)})),this.syncEngine.Lr(s,o).then((()=>{this.ar=n}))}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=aa();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Yu{constructor(){this.Ur=new Uu,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,n){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Uu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{Kr(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Yi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Yi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.uo=t+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,n,i,r){const s=this.ho(e,t);Yi("RestConnection","Sending: ",s,n);const o={};return this.lo(o,i,r),this.fo(e,s,o,n).then((e=>(Yi("RestConnection","Received: ",e),e)),(t=>{throw Xi("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t}))}_o(e,t,n,i,r){return this.co(e,t,n,i,r)}lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}ho(e,t){const n=$u[e];return`${this.uo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,n,i){return new Promise(((r,s)=>{const o=new zi;o.listenOnce(Ni.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Li.NO_ERROR:const t=o.getResponseJson();Yi("Connection","XHR received:",JSON.stringify(t)),r(t);break;case Li.TIMEOUT:Yi("Connection",'RPC "'+e+'" timed out'),s(new er(Ji.DEADLINE_EXCEEDED,"Request time out"));break;case Li.HTTP_ERROR:const n=o.getStatus();if(Yi("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ji).indexOf(t)>=0?t:Ji.UNKNOWN}(e.status);s(new er(t,e.message))}else s(new er(Ji.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new er(Ji.UNAVAILABLE,"Connection failed."));break;default:Gi()}}finally{Yi("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(i);o.send(t,"POST",a,n,15)}))}wo(e,t,n){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Pi(),s=Ri(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Di({})),this.lo(o.initMessageHeaders,t,n),(0,a.uI)()||(0,a.b$)()||(0,a.d)()||(0,a.w1)()||(0,a.Mn)()||(0,a.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");Yi("Connection","Creating WebChannel: "+l,o);const c=r.createWebChannel(l,o);let u=!1,h=!1;const d=new Gu({Jr:e=>{h?Yi("Connection","Not sending because WebChannel is closed:",e):(u||(Yi("Connection","Opening WebChannel transport."),c.open(),u=!0),Yi("Connection","WebChannel sending:",e),c.send(e))},Yr:()=>c.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(c,Fi.EventType.OPEN,(()=>{h||Yi("Connection","WebChannel transport opened.")})),f(c,Fi.EventType.CLOSE,(()=>{h||(h=!0,Yi("Connection","WebChannel transport closed"),d.ro())})),f(c,Fi.EventType.ERROR,(e=>{h||(h=!0,Xi("Connection","WebChannel transport errored:",e),d.ro(new er(Ji.UNAVAILABLE,"The operation could not be completed")))})),f(c,Fi.EventType.MESSAGE,(e=>{var t;if(!h){const n=e.data[0];Ki(!!n);const i=n,r=i.error||(null===(t=i[0])||void 0===t?void 0:t.error);if(r){Yi("Connection","WebChannel received error:",r);const e=r.status;let t=function(e){const t=Xo[e];if(void 0!==t)return Ko(t)}(e),n=r.message;void 0===t&&(t=Ji.INTERNAL,n="Unknown error status: "+e+" with message "+r.message),h=!0,d.ro(new er(t,n)),c.close()}else Yi("Connection","WebChannel received:",n),d.oo(n)}})),f(s,Oi.STAT_EVENT,(e=>{e.stat===Mi.PROXY?Yi("Connection","Detected buffering proxy"):e.stat===Mi.NOPROXY&&Yi("Connection","Detected no buffering proxy")})),setTimeout((()=>{d.io()}),0),d}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(){return"undefined"!=typeof window?window:null}function Qu(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(e){return new ba(e,!0)}class eh{constructor(e,t,n=1e3,i=1.5,r=6e4){this.Yn=e,this.timerId=t,this.mo=n,this.yo=i,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-n);i>0&&Yi("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(()=>(this.Eo=Date.now(),e()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t,n,i,r,s,o,a){this.Yn=e,this.Vo=n,this.vo=i,this.So=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new eh(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.ko()&&await this.close(0)}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(()=>this.Bo())))}Lo(e){this.Uo(),this.stream.send(e)}async Bo(){if(this.Mo())return this.close(0)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}async close(e,t){this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==e?this.No.reset():t&&t.code===Ji.RESOURCE_EXHAUSTED?(Wi(t.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):t&&t.code===Ji.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=e,await this.listener.eo(t)}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Do===t&&this.Qo(e,n)}),(t=>{e((()=>{const e=new er(Ji.UNKNOWN,"Fetching auth token failed: "+t.message);return this.jo(e)}))}))}Qo(e,t){const n=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((()=>{n((()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,(()=>(this.Mo()&&(this.state=3),Promise.resolve()))),this.listener.Xr())))})),this.stream.eo((e=>{n((()=>this.jo(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Oo(){this.state=5,this.No.Ro((async()=>{this.state=0,this.start()}))}jo(e){return Yi("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget((()=>this.Do===e?t():(Yi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nh extends th{constructor(e,t,n,i,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.M=r}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=Ma(this.M,e),n=function(e){if(!("targetChange"in e))return vr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?vr.min():t.readTime?Sa(t.readTime):vr.min()}(e);return this.listener.zo(t,n)}Ho(e){const t={};t.database=Pa(this.M),t.addTarget=function(e,t){let n;const i=t.target;return n=Rs(i)?{documents:Ba(e,i)}:{query:qa(e,i)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=wa(e,t.resumeToken):t.snapshotVersion.compareTo(vr.min())>0&&(n.readTime=xa(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);const n=Ha(this.M,e);n&&(t.labels=n),this.Lo(t)}Jo(e){const t={};t.database=Pa(this.M),t.removeTarget=e,this.Lo(t)}}class ih extends th{constructor(e,t,n,i,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.M=r,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ki(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=za(e.writeResults,e.commitTime),n=Sa(e.commitTime);return this.listener.tu(n,t)}return Ki(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Pa(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Da(this.M,e)))};this.Lo(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=n,this.M=i,this.su=!1}iu(){if(this.su)throw new er(Ji.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,n){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,r])=>this.So.co(e,t,n,i,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ji.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new er(Ji.UNKNOWN,e.toString())}))}_o(e,t,n){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,r])=>this.So._o(e,t,n,i,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ji.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new er(Ji.UNKNOWN,e.toString())}))}terminate(){this.su=!0}}class sh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Wi(t),this.uu=!1):Yi("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=r,this.gu.Kr((e=>{n.enqueueAndForget((async()=>{gh(this)&&(Yi("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Qi(e);t.wu.add(4),await lh(t),t.yu.set("Unknown"),t.wu.delete(4),await ah(t)}(this))}))})),this.yu=new sh(n,i)}}async function ah(e){if(gh(e))for(const t of e.mu)await t(!0)}async function lh(e){for(const t of e.mu)await t(!1)}function ch(e,t){const n=Qi(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),ph(n)?fh(n):Nh(n).Mo()&&hh(n,t))}function uh(e,t){const n=Qi(e),i=Nh(n);n._u.delete(t),i.Mo()&&dh(n,t),0===n._u.size&&(i.Mo()?i.$o():gh(n)&&n.yu.set("Unknown"))}function hh(e,t){e.pu.Z(t.targetId),Nh(e).Ho(t)}function dh(e,t){e.pu.Z(t),Nh(e).Jo(t)}function fh(e){e.pu=new pa({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e._u.get(t)||null}),Nh(e).start(),e.yu.au()}function ph(e){return gh(e)&&!Nh(e).ko()&&e._u.size>0}function gh(e){return 0===Qi(e).wu.size}function mh(e){e.pu=void 0}async function vh(e){e._u.forEach(((t,n)=>{hh(e,t)}))}async function yh(e,t){mh(e),ph(e)?(e.yu.lu(t),fh(e)):e.yu.set("Unknown")}async function bh(e,t,n){if(e.yu.set("Online"),t instanceof da&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e._u.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e._u.delete(i),e.pu.removeTarget(i))}(e,t)}catch(n){Yi("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await xh(e,n)}else if(t instanceof ua?e.pu.ut(t):t instanceof ha?e.pu._t(t):e.pu.ht(t),!n.isEqual(vr.min()))try{const t=await fu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.pu.yt(t);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e._u.get(i);r&&e._u.set(i,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e._u.get(t);if(!n)return;e._u.set(t,n.withResumeToken(Tr.EMPTY_BYTE_STRING,n.snapshotVersion)),dh(e,t);const i=new Vl(n.target,t,1,n.sequenceNumber);hh(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Yi("RemoteStore","Failed to raise snapshot:",t),await xh(e,t)}}async function xh(e,t,n){if(!Rl(t))throw t;e.wu.add(1),await lh(e),e.yu.set("Offline"),n||(n=()=>fu(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Yi("RemoteStore","Retrying IndexedDB access"),await n(),e.wu.delete(1),await ah(e)}))}function wh(e,t){return t().catch((n=>xh(e,n,t)))}async function _h(e){const t=Qi(e),n=Oh(t);let i=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;Sh(t);)try{const e=await mu(t.localStore,i);if(null===e){0===t.du.length&&n.$o();break}i=e.batchId,kh(t,e)}catch(e){await xh(t,e)}Ch(t)&&Ah(t)}function Sh(e){return gh(e)&&e.du.length<10}function kh(e,t){e.du.push(t);const n=Oh(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function Ch(e){return gh(e)&&!Oh(e).ko()&&e.du.length>0}function Ah(e){Oh(e).start()}async function Th(e){Oh(e).nu()}async function Ih(e){const t=Oh(e);for(const n of e.du)t.Zo(n.mutations)}async function Eh(e,t,n){const i=e.du.shift(),r=Bl.from(i,t,n);await wh(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await _h(e)}async function Ph(e,t){t&&Oh(e).Xo&&await async function(e,t){if(n=t.code,Go(n)&&n!==Ji.ABORTED){const n=e.du.shift();Oh(e).Fo(),await wh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await _h(e)}var n}(e,t),Ch(e)&&Ah(e)}async function Rh(e,t){const n=Qi(e);n.asyncQueue.verifyOperationInProgress(),Yi("RemoteStore","RemoteStore received new credentials");const i=gh(n);n.wu.add(3),await lh(n),i&&n.yu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.wu.delete(3),await ah(n)}async function Lh(e,t){const n=Qi(e);t?(n.wu.delete(2),await ah(n)):t||(n.wu.add(2),await lh(n),n.yu.set("Unknown"))}function Nh(e){return e.Iu||(e.Iu=function(e,t,n){const i=Qi(e);return i.iu(),new nh(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{Xr:vh.bind(null,e),eo:yh.bind(null,e),zo:bh.bind(null,e)}),e.mu.push((async t=>{t?(e.Iu.Fo(),ph(e)?fh(e):e.yu.set("Unknown")):(await e.Iu.stop(),mh(e))}))),e.Iu}function Oh(e){return e.Tu||(e.Tu=function(e,t,n){const i=Qi(e);return i.iu(),new ih(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,n)}(e.datastore,e.asyncQueue,{Xr:Th.bind(null,e),eo:Ph.bind(null,e),eu:Ih.bind(null,e),tu:Eh.bind(null,e)}),e.mu.push((async t=>{t?(e.Tu.Fo(),await _h(e)):(await e.Tu.stop(),e.du.length>0&&(Yi("RemoteStore",`Stopping write stream with ${e.du.length} pending writes`),e.du=[]))}))),e.Tu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Mh{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,o=new Mh(e,t,s,i,r);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new er(Ji.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dh(e,t){if(Wi("AsyncQueue",`${t}: ${e}`),Rl(e))return new er(Ji.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||qr.comparator(t.key,n.key):(e,t)=>qr.comparator(e.key,t.key),this.keyedMap=ta(),this.sortedSet=new xs(this.comparator)}static emptySet(e){return new Fh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Fh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.Eu=new xs(qr.comparator)}track(e){const t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Gi():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Bh{constructor(e,t,n,i,r,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,i){const r=[];return t.forEach((e=>{r.push({type:0,doc:e})})),new Bh(e,t,Fh.emptySet(t),r,n,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&so(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this.Ru=void 0,this.listeners=[]}}class Vh{constructor(){this.queries=new Zo((e=>oo(e)),so),this.onlineState="Unknown",this.bu=new Set}}async function Hh(e,t){const n=Qi(e),i=t.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new qh),r)try{s.Ru=await n.onListen(i)}catch(e){const n=Dh(e,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.listeners.push(t),t.Pu(n.onlineState),s.Ru&&t.Vu(s.Ru)&&Wh(n)}async function Uh(e,t){const n=Qi(e),i=t.query;let r=!1;const s=n.queries.get(i);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function jh(e,t){const n=Qi(e);let i=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.Vu(r)&&(i=!0);t.Ru=r}}i&&Wh(n)}function Yh(e,t,n){const i=Qi(e),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(t)}function Wh(e){e.bu.forEach((e=>{e.next()}))}class Xh{constructor(e,t,n){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=n||{}}Vu(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Bh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}Cu(e){if(e.docChanges.length>0)return!0;const t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Nu(e){e=Bh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.M=e}wi(e){return Ta(this.M,e)}mi(e){return e.metadata.exists?Na(this.M,e.document,!1):us.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Sa(e)}}class Kh{constructor(e,t,n){this.Ou=e,this.localStore=t,this.M=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Zh(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const n=_r.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,n=new Gh(this.M);for(const i of e)if(i.metadata.queries){const e=n.wi(i.metadata.name);for(const n of i.metadata.queries){const i=(t.get(n)||sa()).add(e);t.set(n,i)}}return t}async complete(){const e=await Su(this.localStore,new Gh(this.M),this.documents,this.Ou.id),t=this.$u(this.documents);for(const n of this.queries)await ku(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function Zh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.key=e}}class Jh{constructor(e){this.key=e}}class ed{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=sa(),this.mutatedKeys=sa(),this.Gu=uo(e),this.Qu=new Fh(this.Gu)}get ju(){return this.Uu}Wu(e,t){const n=t?t.zu:new zh,i=t?t.Qu:this.Qu;let r=t?t.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((e,t)=>{const c=i.get(e),u=lo(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Hu(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Gu(u,a)>0||l&&this.Gu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),r=d?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{Qu:s,zu:n,ii:o,mutatedKeys:r}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const r=e.zu.Au();r.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gi()}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||this.Gu(e.doc,t.doc))),this.Ju(n);const s=t?this.Yu():[],o=0===this.Ku.size&&this.current?1:0,a=o!==this.qu;return this.qu=o,0!==r.length||a?{snapshot:new Bh(this.query,e.Qu,i,r,e.mutatedKeys,0===o,a,!1),Xu:s}:{Xu:s}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new zh,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach((e=>this.Uu=this.Uu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Uu=this.Uu.delete(e))),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=sa(),this.Qu.forEach((e=>{this.Zu(e.key)&&(this.Ku=this.Ku.add(e.key))}));const t=[];return e.forEach((e=>{this.Ku.has(e)||t.push(new Jh(e))})),this.Ku.forEach((n=>{e.has(n)||t.push(new Qh(n))})),t}ta(e){this.Uu=e._i,this.Ku=sa();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Bh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class td{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class nd{constructor(e){this.key=e,this.na=!1}}class id{constructor(e,t,n,i,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.sa={},this.ia=new Zo((e=>oo(e)),so),this.ra=new Map,this.oa=new Set,this.ua=new xs(qr.comparator),this.aa=new Map,this.ca=new Tu,this.ha={},this.la=new Map,this.fa=Nc.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}async function rd(e,t){const n=Nd(e);let i,r;const s=n.ia.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.ea();else{const e=await vu(n.localStore,io(t));n.isPrimaryClient&&ch(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);i=e.targetId,r=await sd(n,t,i,"current"===s)}return r}async function sd(e,t,n,i){e._a=(t,n,i)=>async function(e,t,n,i){let r=t.view.Wu(n);r.ii&&(r=await bu(e.localStore,t.query,!1).then((({documents:e})=>t.view.Wu(e,r))));const s=i&&i.targetChanges.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,s);return yd(e,t.targetId,o.Xu),o.snapshot}(e,t,n,i);const r=await bu(e.localStore,t,!0),s=new ed(t,r._i),o=s.Wu(r.documents),a=ca.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);yd(e,n,l.Xu);const c=new td(t,n,s);return e.ia.set(t,c),e.ra.has(n)?e.ra.get(n).push(t):e.ra.set(n,[t]),l.snapshot}async function od(e,t){const n=Qi(e),i=n.ia.get(t),r=n.ra.get(i.targetId);if(r.length>1)return n.ra.set(i.targetId,r.filter((e=>!so(e,t)))),void n.ia.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await yu(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),uh(n.remoteStore,i.targetId),md(n,i.targetId)})).catch(zc)):(md(n,i.targetId),await yu(n.localStore,i.targetId,!0))}async function ad(e,t,n){const i=Od(e);try{const e=await function(e,t){const n=Qi(e),i=mr.now(),r=t.reduce(((e,t)=>e.add(t.key)),sa());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.fi.Ks(e,r).next((r=>{s=r;const o=[];for(const e of t){const t=Do(e,s.get(e.key));null!=t&&o.push(new qo(e.key,t,cs(t.value.mapValue),Ro.exists(!0)))}return n.Bs.addMutationBatch(e,i,o,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.ha[e.currentUser.toKey()];i||(i=new xs(fr)),i=i.insert(t,n),e.ha[e.currentUser.toKey()]=i}(i,e.batchId,n),await wd(i,e.changes),await _h(i.remoteStore)}catch(e){const t=Dh(e,"Failed to persist write");n.reject(t)}}async function ld(e,t){const n=Qi(e);try{const e=await pu(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const i=n.aa.get(t);i&&(Ki(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.na=!0:e.modifiedDocuments.size>0?Ki(i.na):e.removedDocuments.size>0&&(Ki(i.na),i.na=!1))})),await wd(n,e,t)}catch(e){await zc(e)}}function cd(e,t,n){const i=Qi(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.ia.forEach(((n,i)=>{const r=i.view.Pu(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=Qi(e);n.onlineState=t;let i=!1;n.queries.forEach(((e,n)=>{for(const r of n.listeners)r.Pu(t)&&(i=!0)})),i&&Wh(n)}(i.eventManager,t),e.length&&i.sa.zo(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function ud(e,t,n){const i=Qi(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.aa.get(t),s=r&&r.key;if(s){let e=new xs(qr.comparator);e=e.insert(s,us.newNoDocument(s,vr.min()));const n=sa().add(s),r=new la(vr.min(),new Map,new Ss(fr),e,n);await ld(i,r),i.ua=i.ua.remove(s),i.aa.delete(t),xd(i)}else await yu(i.localStore,t,!1).then((()=>md(i,t,n))).catch(zc)}async function hd(e,t){const n=Qi(e),i=t.batch.batchId;try{const e=await du(n.localStore,t);gd(n,i,null),pd(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await wd(n,e)}catch(e){await zc(e)}}async function dd(e,t,n){const i=Qi(e);try{const e=await function(e,t){const n=Qi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let i;return n.Bs.lookupMutationBatch(e,t).next((t=>(Ki(null!==t),i=t.keys(),n.Bs.removeMutationBatch(e,t)))).next((()=>n.Bs.performConsistencyCheck(e))).next((()=>n.fi.Ks(e,i)))}))}(i.localStore,t);gd(i,t,n),pd(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await wd(i,e)}catch(n){await zc(n)}}async function fd(e,t){const n=Qi(e);gh(n.remoteStore)||Yi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Qi(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.Bs.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const i=n.la.get(e)||[];i.push(t),n.la.set(e,i)}catch(e){const n=Dh(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}function pd(e,t){(e.la.get(t)||[]).forEach((e=>{e.resolve()})),e.la.delete(t)}function gd(e,t,n){const i=Qi(e);let r=i.ha[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.ha[i.currentUser.toKey()]=r}}function md(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.ra.get(t))e.ia.delete(i),n&&e.sa.wa(i,n);e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((t=>{e.ca.containsKey(t)||vd(e,t)}))}function vd(e,t){e.oa.delete(t.path.canonicalString());const n=e.ua.get(t);null!==n&&(uh(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),xd(e))}function yd(e,t,n){for(const i of n)i instanceof Qh?(e.ca.addReference(i.key,t),bd(e,i)):i instanceof Jh?(Yi("SyncEngine","Document no longer in limbo: "+i.key),e.ca.removeReference(i.key,t),e.ca.containsKey(i.key)||vd(e,i.key)):Gi()}function bd(e,t){const n=t.key,i=n.path.canonicalString();e.ua.get(n)||e.oa.has(i)||(Yi("SyncEngine","New document in limbo: "+n),e.oa.add(i),xd(e))}function xd(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){const t=e.oa.values().next().value;e.oa.delete(t);const n=new qr(_r.fromString(t)),i=e.fa.next();e.aa.set(i,new nd(n)),e.ua=e.ua.insert(n,i),ch(e.remoteStore,new Vl(io(Zs(n.path)),i,2,ur.A))}}async function wd(e,t,n){const i=Qi(e),r=[],s=[],o=[];i.ia.isEmpty()||(i.ia.forEach(((e,a)=>{o.push(i._a(a,t,n).then((e=>{if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),r.push(e);const t=au.Ys(a.targetId,e);s.push(t)}})))})),await Promise.all(o),i.sa.zo(r),await async function(e,t){const n=Qi(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Al.forEach(t,(t=>Al.forEach(t.Hs,(i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i))).next((()=>Al.forEach(t.Js,(i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))))))}catch(e){if(!Rl(e))throw e;Yi("LocalStore","Failed to update sequence numbers: "+e)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.ui.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.ui=n.ui.insert(e,r)}}}(i.localStore,s))}async function _d(e,t){const n=Qi(e);if(!n.currentUser.isEqual(t)){Yi("SyncEngine","User change. New user:",t.toKey());const e=await hu(n.localStore,t);n.currentUser=t,function(e,t){e.la.forEach((e=>{e.forEach((e=>{e.reject(new er(Ji.CANCELLED,t))}))})),e.la.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await wd(n,e.di)}}function Sd(e,t){const n=Qi(e),i=n.aa.get(t);if(i&&i.na)return sa().add(i.key);{let e=sa();const i=n.ra.get(t);if(!i)return e;for(const t of i){const i=n.ia.get(t);e=e.unionWith(i.view.ju)}return e}}async function kd(e,t){const n=Qi(e),i=await bu(n.localStore,t.query,!0),r=t.view.ta(i);return n.isPrimaryClient&&yd(n,t.targetId,r.Xu),r}async function Cd(e,t){const n=Qi(e);return wu(n.localStore,t).then((e=>wd(n,e)))}async function Ad(e,t,n,i){const r=Qi(e),s=await function(e,t){const n=Qi(e),i=Qi(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>i.fn(e,t).next((t=>t?n.fi.Ks(e,t):Al.resolve(null)))))}(r.localStore,t);null!==s?("pending"===n?await _h(r.remoteStore):"acknowledged"===n||"rejected"===n?(gd(r,t,i||null),pd(r,t),function(e,t){Qi(Qi(e).Bs)._n(t)}(r.localStore,t)):Gi(),await wd(r,s)):Yi("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Td(e,t){const n=Qi(e);if(Nd(n),Od(n),!0===t&&!0!==n.da){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Id(n,e.toArray());n.da=!0,await Lh(n.remoteStore,!0);for(const i of t)ch(n.remoteStore,i)}else if(!1===t&&!1!==n.da){const e=[];let t=Promise.resolve();n.ra.forEach(((i,r)=>{n.sharedClientState.isLocalQueryTarget(r)?e.push(r):t=t.then((()=>(md(n,r),yu(n.localStore,r,!0)))),uh(n.remoteStore,r)})),await t,await Id(n,e),function(e){const t=Qi(e);t.aa.forEach(((e,n)=>{uh(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new xs(qr.comparator)}(n),n.da=!1,await Lh(n.remoteStore,!1)}}async function Id(e,t,n){const i=Qi(e),r=[],s=[];for(const o of t){let e;const t=i.ra.get(o);if(t&&0!==t.length){e=await vu(i.localStore,io(t[0]));for(const e of t){const t=i.ia.get(e),n=await kd(i,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await xu(i.localStore,o);e=await vu(i.localStore,t),await sd(i,Ed(t),o,!1)}r.push(e)}return i.sa.zo(s),r}function Ed(e){return Ks(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Pd(e){const t=Qi(e);return Qi(Qi(t.localStore).persistence).Fs()}async function Rd(e,t,n,i){const r=Qi(e);if(r.da)return void Yi("SyncEngine","Ignoring unexpected query state notification.");const s=r.ra.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await wu(r.localStore,co(s[0])),i=la.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await wd(r,e,i);break}case"rejected":await yu(r.localStore,t,!0),md(r,t,i);break;default:Gi()}}async function Ld(e,t,n){const i=Nd(e);if(i.da){for(const e of t){if(i.ra.has(e)){Yi("SyncEngine","Adding an already active target "+e);continue}const t=await xu(i.localStore,e),n=await vu(i.localStore,t);await sd(i,Ed(t),n.targetId,!1),ch(i.remoteStore,n)}for(const e of n)i.ra.has(e)&&await yu(i.localStore,e,!1).then((()=>{uh(i.remoteStore,e),md(i,e)})).catch(zc)}}function Nd(e){const t=Qi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ld.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ud.bind(null,t),t.sa.zo=jh.bind(null,t.eventManager),t.sa.wa=Yh.bind(null,t.eventManager),t}function Od(e){const t=Qi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dd.bind(null,t),t}function Md(e,t,n){const i=Qi(e);(async function(e,t,n){try{const i=await t.getMetadata();if(await function(e,t){const n=Qi(e),i=Sa(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n._s.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(i)>=0))}(e.localStore,i))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),Promise.resolve(new Set);n._updateProgress(Zh(i));const r=new Kh(i,e.localStore,t.M);let s=await t.ma();for(;s;){const e=await r.Fu(s);e&&n._updateProgress(e),s=await t.ma()}const o=await r.complete();return await wd(e,o.Lu,void 0),await function(e,t){const n=Qi(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n._s.saveBundleMetadata(e,t)))}(e.localStore,i),n._completeWith(o.progress),Promise.resolve(o.Bu)}catch(e){return Xi("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(i,t,n).then((e=>{i.sharedClientState.notifyBundleLoaded(e)}))}class Dd{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=Ju(e.databaseInfo.databaseId),this.sharedClientState=this.ga(e),this.persistence=this.ya(e),await this.persistence.start(),this.gcScheduler=this.pa(e),this.localStore=this.Ia(e)}pa(e){return null}Ia(e){return uu(this.persistence,new lu,e.initialUser,this.M)}ya(e){return new Nu(Mu.Yi,this.M)}ga(e){return new Yu}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Fd extends Dd{constructor(e,t,n){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ta.initialize(this,e),await Od(this.Ta.syncEngine),await _h(this.Ta.remoteStore),await this.persistence.Ts((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Ia(e){return uu(this.persistence,new lu,e.initialUser,this.M)}pa(e){const t=this.persistence.referenceDelegate.garbageCollector;return new Vc(t,e.asyncQueue)}ya(e){const t=su(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Cc.withCacheSize(this.cacheSizeBytes):Cc.DEFAULT;return new nu(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Zu(),Qu(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Yu}}class zd extends Fd{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ta.syncEngine;this.sharedClientState instanceof ju&&(this.sharedClientState.syncEngine={$r:Ad.bind(null,t),Br:Rd.bind(null,t),Lr:Ld.bind(null,t),Fs:Pd.bind(null,t),Fr:Cd.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ts((async e=>{await Td(this.Ta.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())}))}ga(e){const t=Zu();if(!ju.vt(t))throw new er(Ji.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=su(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ju(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Bd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>cd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=_d.bind(null,this.syncEngine),await Lh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Vh}createDatastore(e){const t=Ju(e.databaseInfo.databaseId),n=(i=e.databaseInfo,new Ku(i));var i;return function(e,t,n,i){return new rh(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,i=e.asyncQueue,r=e=>cd(this.syncEngine,e,0),s=Xu.vt()?new Xu:new Wu,new oh(t,n,i,r,s);var t,n,i,r,s}createSyncEngine(e,t){return function(e,t,n,i,r,s,o){const a=new id(e,t,n,i,r,s);return o&&(a.da=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Qi(e);Yi("RemoteStore","RemoteStore shutting down."),t.wu.add(5),await lh(t),t.gu.shutdown(),t.yu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const i={value:e.slice(n,n+t),done:!1};return n+=t,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new tr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((e=>{e&&e.Mu()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Ra.cancel()}async getMetadata(){return this.metadata.promise}async ma(){return await this.getMetadata(),this.Pa()}async Pa(){const e=await this.Va();if(null===e)return null;const t=this.ba.decode(e),n=Number(t);isNaN(n)&&this.va(`length string (${t}) is not valid number`);const i=await this.Sa(n);return new $h(JSON.parse(i),e.length+n)}Da(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Va(){for(;this.Da()<0;)if(await this.Ca())break;if(0===this.buffer.length)return null;const e=this.Da();e<0&&this.va("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Sa(e){for(;this.buffer.length<e;)await this.Ca()&&this.va("Reached the end of bundle when more is expected.");const t=this.ba.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ca(){const e=await this.Ra.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new er(Ji.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Qi(e),i=Pa(n.M)+"/documents",r={documents:t.map((e=>Aa(n.M,e)))},s=await n._o("BatchGetDocuments",i,r),o=new Map;s.forEach((e=>{const t=Oa(n.M,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());Ki(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new jo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=qr.fromPath(t);this.mutations.push(new Yo(n,this.precondition(n)))})),await async function(e,t){const n=Qi(e),i=Pa(n.M)+"/documents",r={writes:t.map((e=>Da(n.M,e)))};await n.co("Commit",i,r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Gi();t=vr.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new er(Ji.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ro.updateTime(t):Ro.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vr.min()))throw new er(Ji.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ro.updateTime(t)}return Ro.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t,n,i,r){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=i,this.deferred=r,this.xa=n.maxAttempts,this.No=new eh(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){this.No.Ro((async()=>{const e=new Ud(this.datastore),t=this.ka(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Ma(e)}))))})).catch((e=>{this.Ma(e)}))}))}ka(e){try{const t=this.updateFunction(e);return!Fr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Na(),Promise.resolve())))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Go(t)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=qi.UNAUTHENTICATED,this.clientId=dr.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Yi("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Yi("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new er(Ji.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Dh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Wd(e,t){e.asyncQueue.verifyOperationInProgress(),Yi("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async e=>{i.isEqual(e)||(await hu(t.localStore,e),i=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function Xd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await $d(e);Yi("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener((e=>Rh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Rh(t.remoteStore,n))),e.onlineComponents=t}async function $d(e){return e.offlineComponents||(Yi("FirestoreClient","Using default OfflineComponentProvider"),await Wd(e,new Dd)),e.offlineComponents}async function Gd(e){return e.onlineComponents||(Yi("FirestoreClient","Using default OnlineComponentProvider"),await Xd(e,new Bd)),e.onlineComponents}function Kd(e){return $d(e).then((e=>e.persistence))}function Zd(e){return $d(e).then((e=>e.localStore))}function Qd(e){return Gd(e).then((e=>e.remoteStore))}function Jd(e){return Gd(e).then((e=>e.syncEngine))}async function ef(e){const t=await Gd(e),n=t.eventManager;return n.onListen=rd.bind(null,t.syncEngine),n.onUnlisten=od.bind(null,t.syncEngine),n}function tf(e){return e.asyncQueue.enqueue((async()=>{const t=await Kd(e),n=await Qd(e);return t.setNetworkEnabled(!0),function(e){const t=Qi(e);return t.wu.delete(0),ah(t)}(n)}))}function nf(e){return e.asyncQueue.enqueue((async()=>{const t=await Kd(e),n=await Qd(e);return t.setNetworkEnabled(!1),async function(e){const t=Qi(e);t.wu.add(0),await lh(t),t.yu.set("Offline")}(n)}))}function rf(e,t){const n=new tr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const i=await function(e,t){const n=Qi(e);return n.persistence.runTransaction("read document","readonly",(e=>n.fi.Ls(e,t)))}(e,t);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new er(Ji.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const i=Dh(e,`Failed to get document '${t} from cache`);n.reject(i)}}(await Zd(e),t,n))),n.promise}function sf(e,t,n={}){const i=new tr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new Vd({next:s=>{t.enqueueAndForget((()=>Uh(e,o)));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new er(Ji.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new er(Ji.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:e=>r.reject(e)}),o=new Xh(Zs(n.path),s,{includeMetadataChanges:!0,ku:!0});return Hh(e,o)}(await ef(e),e.asyncQueue,t,n,i))),i.promise}function of(e,t){const n=new tr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const i=await bu(e,t,!0),r=new ed(t,i._i),s=r.Wu(i.documents),o=r.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const i=Dh(e,`Failed to execute query '${t} against cache`);n.reject(i)}}(await Zd(e),t,n))),n.promise}function af(e,t,n={}){const i=new tr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new Vd({next:n=>{t.enqueueAndForget((()=>Uh(e,o))),n.fromCache&&"server"===i.source?r.reject(new er(Ji.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),o=new Xh(n,s,{includeMetadataChanges:!0,ku:!0});return Hh(e,o)}(await ef(e),e.asyncQueue,t,n,i))),i.promise}function lf(e,t){const n=new Vd(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Qi(e).bu.add(t),t.next()}(await ef(e),n))),()=>{n.Aa(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Qi(e).bu.delete(t)}(await ef(e),n)))}}function cf(e,t,n){const i=new tr;return e.asyncQueue.enqueueAndForget((async()=>{const r=await function(e){return Gd(e).then((e=>e.datastore))}(e);new jd(e.asyncQueue,r,n,t,i).run()})),i.promise}function uf(e,t,n,i){const r=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Hd(e,t)}(function(e,t){if(e instanceof Uint8Array)return qd(e,t);if(e instanceof ArrayBuffer)return qd(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,Ju(t));e.asyncQueue.enqueueAndForget((async()=>{Md(await Jd(e),r,i)}))}function hf(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Qi(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n._s.getNamedQuery(e,t)))}(await Zd(e),t)))}const df=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(e,t,n){if(!n)throw new er(Ji.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function pf(e,t,n,i){if(!0===t&&!0===i)throw new er(Ji.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function gf(e){if(!qr.isDocumentKey(e))throw new er(Ji.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function mf(e){if(qr.isDocumentKey(e))throw new er(Ji.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function vf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Gi()}function yf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new er(Ji.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vf(e);throw new er(Ji.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function bf(e,t){if(t<=0)throw new er(Ji.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new er(Ji.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new er(Ji.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,pf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xf({}),this._settingsFrozen=!1,e instanceof Dr?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new er(Ji.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dr(e.options.projectId)}(e))}get app(){if(!this._app)throw new er(Ji.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new er(Ji.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ir;switch(e.type){case"gapi":const t=e.client;return Ki(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ar(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new er(Ji.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=df.get(e);t&&(Yi("ComponentProvider","Removing Datastore"),df.delete(e),t.terminate())}(this),Promise.resolve()}}function _f(e,t,n,i={}){var r;const s=(e=yf(e,wf))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Xi("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),i.mockUserToken){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=qi.MOCK_USER;else{t=(0,a.Sg)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new er(Ji.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new qi(s)}e._authCredentials=new rr(new nr(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sf(this.firestore,e,this._key)}}class kf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new kf(this.firestore,e,this._query)}}class Cf extends kf{constructor(e,t,n){super(e,t,Zs(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sf(this.firestore,null,new qr(e))}withConverter(e){return new Cf(this.firestore,e,this._path)}}function Af(e,t,...n){if(e=(0,a.m9)(e),ff("collection","path",t),e instanceof wf){const i=_r.fromString(t,...n);return mf(i),new Cf(e,null,i)}{if(!(e instanceof Sf||e instanceof Cf))throw new er(Ji.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(_r.fromString(t,...n));return mf(i),new Cf(e.firestore,null,i)}}function Tf(e,t){if(e=yf(e,wf),ff("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new er(Ji.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new kf(e,null,function(e){return new Gs(_r.emptyPath(),e)}(t))}function If(e,t,...n){if(e=(0,a.m9)(e),1===arguments.length&&(t=dr.R()),ff("doc","path",t),e instanceof wf){const i=_r.fromString(t,...n);return gf(i),new Sf(e,null,new qr(i))}{if(!(e instanceof Sf||e instanceof Cf))throw new er(Ji.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(_r.fromString(t,...n));return gf(i),new Sf(e.firestore,e instanceof Cf?e.converter:null,new qr(i))}}function Ef(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),(e instanceof Sf||e instanceof Cf)&&(t instanceof Sf||t instanceof Cf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Pf(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),e instanceof kf&&t instanceof kf&&e.firestore===t.firestore&&so(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Rf{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new eh(this,"async_queue_retry"),this.Qa=()=>{const e=Qu();e&&Yi("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const e=Qu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Qu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise((()=>{}));const t=new tr;return this.Wa((()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.$a.push(e),this.za())))}async za(){if(0!==this.$a.length){try{await this.$a[0](),this.$a.shift(),this.No.reset()}catch(_){if(!Rl(_))throw _;Yi("AsyncQueue","Operation failed with retryable error: "+_)}this.$a.length>0&&this.No.Ro((()=>this.za()))}}Wa(e){const t=this.Fa.then((()=>(this.qa=!0,e().catch((e=>{this.Ua=e,this.qa=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);throw Wi("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.qa=!1,e))))));return this.Fa=t,t}enqueueAfterDelay(e,t,n){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=Mh.createAndSchedule(this,e,t,n,(e=>this.Ha(e)));return this.La.push(i),i}ja(){this.Ua&&Gi()}verifyOperationInProgress(){}async Ja(){let e;do{e=this.Fa,await e}while(e!==this.Fa)}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then((()=>{this.La.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()}))}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function Lf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const i of t)if(i in n&&"function"==typeof n[i])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,["next","error","complete"])}class Nf{constructor(){this._progressObserver={},this._taskCompletionResolver=new tr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=-1;class Mf extends wf{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Rf,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||zf(this),this._firestoreClient.terminate()}}function Df(e=(0,r.getApp)()){return(0,r._getProvider)(e,"firestore").getImmediate()}function Ff(e){return e._firestoreClient||zf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zf(e){var t;const n=e._freezeSettings(),i=function(e,t,n,i){return new Mr(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Yd(e._authCredentials,e._appCheckCredentials,e._queue,i)}function Bf(e,t){$f(e=yf(e,Mf));const n=Ff(e),i=e._freezeSettings(),r=new Bd;return Vf(n,r,new Fd(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function qf(e){$f(e=yf(e,Mf));const t=Ff(e),n=e._freezeSettings(),i=new Bd;return Vf(t,i,new zd(i,n.cacheSizeBytes))}function Vf(e,t,n){const i=new tr;return e.asyncQueue.enqueue((async()=>{try{await Wd(e,n),await Xd(e,t),i.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===Ji.FAILED_PRECONDITION||e.code===Ji.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),i.reject(e)}})).then((()=>i.promise))}function Hf(e){if(e._initialized&&!e._terminated)throw new er(Ji.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new tr;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Il.vt())return Promise.resolve();const t=e+"main";await Il.delete(t)}(su(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function Uf(e){return function(e){const t=new tr;return e.asyncQueue.enqueueAndForget((async()=>fd(await Jd(e),t))),t.promise}(Ff(e=yf(e,Mf)))}function jf(e){return tf(Ff(e=yf(e,Mf)))}function Yf(e){return nf(Ff(e=yf(e,Mf)))}function Wf(e,t){const n=Ff(e=yf(e,Mf)),i=new Nf;return uf(n,e._databaseId,t,i),i}function Xf(e,t){return hf(Ff(e=yf(e,Mf)),t).then((t=>t?new kf(e,null,t.query):null))}function $f(e){if(e._initialized||e._terminated)throw new er(Ji.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new er(Ji.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Kf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kf(Tr.fromBase64String(e))}catch(e){throw new er(Ji.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Kf(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new er(Ji.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new er(Ji.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fr(this._lat,e._lat)||fr(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=/^__.*__$/;class ep{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new qo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bo(e,this.data,t,this.fieldTransforms)}}class tp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new qo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function np(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gi()}}class ip{constructor(e,t,n,i,r,s){this.settings=e,this.databaseId=t,this.M=n,this.ignoreUndefinedProperties=i,void 0===r&&this.tc(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:n,ic:!1});return i.rc(e),i}oc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:n,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Sp(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(np(this.ec)&&Jf.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class rp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=n||Ju(e)}lc(e,t,n,i=!1){return new ip({ec:e,methodName:t,hc:n,path:kr.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function sp(e){const t=e._freezeSettings(),n=Ju(e._databaseId);return new rp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function op(e,t,n,i,r,s={}){const o=e.lc(s.merge||s.mergeFields?2:0,t,n,r);bp("Data must be an object, but it was:",o,i);const a=vp(i,o);let l,c;if(s.merge)l=new Cr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const i of s.mergeFields){const r=xp(t,i,n);if(!o.contains(r))throw new er(Ji.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);kp(e,r)||e.push(r)}l=new Cr(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new ep(new ls(a),l,c)}class ap extends Zf{_toFieldTransform(e){if(2!==e.ec)throw 1===e.ec?e.ac(`${this._methodName}() can only appear at the top level of your update data`):e.ac(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ap}}function lp(e,t,n){return new ip({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}class cp extends Zf{_toFieldTransform(e){return new Io(e.path,new xo)}isEqual(e){return e instanceof cp}}class up extends Zf{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=lp(this,e,!0),n=this.fc.map((e=>mp(e,t))),i=new wo(n);return new Io(e.path,i)}isEqual(e){return this===e}}class hp extends Zf{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=lp(this,e,!0),n=this.fc.map((e=>mp(e,t))),i=new So(n);return new Io(e.path,i)}isEqual(e){return this===e}}class dp extends Zf{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Co(e.M,go(e.M,this.dc));return new Io(e.path,t)}isEqual(e){return this===e}}function fp(e,t,n,i){const r=e.lc(1,t,n);bp("Data must be an object, but it was:",r,i);const s=[],o=ls.empty();br(i,((e,i)=>{const l=_p(t,e,n);i=(0,a.m9)(i);const c=r.oc(l);if(i instanceof ap)s.push(l);else{const e=mp(i,c);null!=e&&(s.push(l),o.set(l,e))}}));const l=new Cr(s);return new tp(o,l,r.fieldTransforms)}function pp(e,t,n,i,r,s){const o=e.lc(1,t,n),l=[xp(t,i,n)],c=[r];if(s.length%2!=0)throw new er(Ji.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<s.length;a+=2)l.push(xp(t,s[a])),c.push(s[a+1]);const u=[],h=ls.empty();for(let f=l.length-1;f>=0;--f)if(!kp(u,l[f])){const e=l[f];let t=c[f];t=(0,a.m9)(t);const n=o.oc(e);if(t instanceof ap)u.push(e);else{const i=mp(t,n);null!=i&&(u.push(e),h.set(e,i))}}const d=new Cr(u);return new tp(h,d,o.fieldTransforms)}function gp(e,t,n,i=!1){return mp(n,e.lc(i?4:3,t))}function mp(e,t){if(yp(e=(0,a.m9)(e)))return bp("Unsupported field value:",t,e),vp(e,t);if(e instanceof Zf)return function(e,t){if(!np(t.ec))throw t.ac(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.ac(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=mp(r,t.uc(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return go(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=mr.fromDate(e);return{timestampValue:xa(t.M,n)}}if(e instanceof mr){const n=new mr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xa(t.M,n)}}if(e instanceof Qf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Kf)return{bytesValue:wa(t.M,e._byteString)};if(e instanceof Sf){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.ac(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ka(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac(`Unsupported field value: ${vf(e)}`)}(e,t)}function vp(e,t){const n={};return xr(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):br(e,((e,i)=>{const r=mp(i,t.sc(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function yp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof mr||e instanceof Qf||e instanceof Kf||e instanceof Sf||e instanceof Zf)}function bp(e,t,n){if(!yp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=vf(n);throw"an object"===i?t.ac(e+" a custom object"):t.ac(e+" "+i)}}function xp(e,t,n){if((t=(0,a.m9)(t))instanceof Gf)return t._internalPath;if("string"==typeof t)return _p(e,t);throw Sp("Field path arguments must be of type string or ",e,!1,void 0,n)}const wp=new RegExp("[~\\*/\\[\\]]");function _p(e,t,n){if(t.search(wp)>=0)throw Sp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Gf(...t.split("."))._internalPath}catch(i){throw Sp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Sp(e,t,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new er(Ji.INVALID_ARGUMENT,a+e+l)}function kp(e,t){return e.some((e=>e.isEqual(t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Sf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ap(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Tp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ap extends Cp{data(){return super.data()}}function Tp(e,t){return"string"==typeof t?_p(e,t):t instanceof Gf?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ep extends Cp{constructor(e,t,n,i,r,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Tp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Pp extends Ep{data(e={}){return super.data(e)}}class Rp{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ip(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Pp(this._firestore,this._userDataWriter,n.key,n,new Ip(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new er(Ji.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Pp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ip(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const i=new Pp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ip(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,s=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Lp(t.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Lp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gi()}}function Np(e,t){return e instanceof Ep&&t instanceof Ep?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Rp&&t instanceof Rp&&e._firestore===t._firestore&&Pf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new er(Ji.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mp{}function Dp(e,...t){for(const n of t)e=n._apply(e);return e}class Fp extends Mp{constructor(e,t,n){super(),this._c=e,this.wc=t,this.mc=n,this.type="where"}_apply(e){const t=sp(e.firestore),n=function(e,t,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new er(Ji.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Qp(o,s);const t=[];for(const n of o)t.push(Zp(i,e,n));a={arrayValue:{values:t}}}else a=Zp(i,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Qp(o,s),a=gp(n,t,o,"in"===s||"not-in"===s);const l=Ms.create(r,s,a);return function(e,t){if(t.S()){const n=eo(e);if(null!==n&&!n.isEqual(t.field))throw new er(Ji.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const i=Js(e);null!==i&&Jp(e,t.field,i)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new er(Ji.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new er(Ji.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,"where",t,e.firestore._databaseId,this._c,this.wc,this.mc);return new kf(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function zp(e,t,n){const i=t,r=Tp("where",e);return new Fp(r,i,n)}class Bp extends Mp{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new er(Ji.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new er(Ji.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new Ys(t,n);return function(e,t){if(null===Js(e)){const n=eo(e);null!==n&&Jp(e,n,t.field)}}(e,i),i}(e._query,this._c,this.gc);return new kf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Gs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function qp(e,t="asc"){const n=t,i=Tp("orderBy",e);return new Bp(i,n)}class Vp extends Mp{constructor(e,t,n){super(),this.type=e,this.yc=t,this.Ic=n}_apply(e){return new kf(e.firestore,e.converter,ro(e._query,this.yc,this.Ic))}}function Hp(e){return bf("limit",e),new Vp("limit",e,"F")}function Up(e){return bf("limitToLast",e),new Vp("limitToLast",e,"L")}class jp extends Mp{constructor(e,t,n){super(),this.type=e,this.Tc=t,this.Ec=n}_apply(e){const t=Kp(e,this.type,this.Tc,this.Ec);return new kf(e.firestore,e.converter,function(e,t){return new Gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Yp(...e){return new jp("startAt",e,!0)}function Wp(...e){return new jp("startAfter",e,!1)}class Xp extends Mp{constructor(e,t,n){super(),this.type=e,this.Tc=t,this.Ec=n}_apply(e){const t=Kp(e,this.type,this.Tc,this.Ec);return new kf(e.firestore,e.converter,function(e,t){return new Gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function $p(...e){return new Xp("endBefore",e,!1)}function Gp(...e){return new Xp("endAt",e,!0)}function Kp(e,t,n,i){if(n[0]=(0,a.m9)(n[0]),n[0]instanceof Cp)return function(e,t,n,i,r){if(!i)throw new er(Ji.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of no(e))if(o.field.isKeyField())s.push(Kr(t,i.key));else{const e=i.data.field(o.field);if(Lr(e))throw new er(Ji.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new er(Ji.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new js(s,r)}(e._query,e.firestore._databaseId,t,n[0]._document,i);{const r=sp(e.firestore);return function(e,t,n,i,r,s){const o=e.explicitOrderBy;if(r.length>o.length)throw new er(Ji.INVALID_ARGUMENT,`Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<r.length;l++){const s=r[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new er(Ji.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof s}`);if(!to(e)&&-1!==s.indexOf("/"))throw new er(Ji.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${i}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(_r.fromString(s));if(!qr.isDocumentKey(n))throw new er(Ji.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${i}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const r=new qr(n);a.push(Kr(t,r))}else{const e=gp(n,i,s);a.push(e)}}return new js(a,s)}(e._query,e.firestore._databaseId,r,t,n,i)}}function Zp(e,t,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new er(Ji.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!to(t)&&-1!==n.indexOf("/"))throw new er(Ji.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(_r.fromString(n));if(!qr.isDocumentKey(i))throw new er(Ji.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Kr(e,new qr(i))}if(n instanceof Sf)return Kr(e,n._key);throw new er(Ji.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(n)}.`)}function Qp(e,t){if(!Array.isArray(e)||0===e.length)throw new er(Ji.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new er(Ji.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Jp(e,t,n){if(!n.isEqual(t))throw new er(Ji.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg={maxAttempts:5};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{convertValue(e,t="none"){switch(Ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Gi()}}convertObject(e,t){const n={};return br(e.fields,((e,i)=>{n[e]=this.convertValue(i,t)})),n}convertGeoPoint(e){return new Qf(Pr(e.latitude),Pr(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Nr(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Or(e));default:return null}}convertTimestamp(e){const t=Er(e);return new mr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=_r.fromString(e);Ki(Za(n));const i=new Dr(n.get(1),n.get(3)),r=new qr(n.popFirst(5));return i.isEqual(t)||Wi(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class ig extends tg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sf(this.firestore,null,t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sp(e)}set(e,t,n){this._verifyNotCommitted();const i=sg(e,this._firestore),r=ng(i.converter,t,n),s=op(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(s.toMutation(i._key,Ro.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const r=sg(e,this._firestore);let s;return s="string"==typeof(t=(0,a.m9)(t))||t instanceof Gf?pp(this._dataReader,"WriteBatch.update",r._key,t,n,i):fp(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(s.toMutation(r._key,Ro.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=sg(e,this._firestore);return this._mutations=this._mutations.concat(new jo(t._key,Ro.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new er(Ji.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sg(e,t){if((e=(0,a.m9)(e)).firestore!==t)throw new er(Ji.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(e){e=yf(e,Sf);const t=yf(e.firestore,Mf);return sf(Ff(t),e._key).then((n=>xg(t,e,n)))}class ag extends tg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sf(this.firestore,null,t)}}function lg(e){e=yf(e,Sf);const t=yf(e.firestore,Mf),n=Ff(t),i=new ag(t);return rf(n,e._key).then((n=>new Ep(t,i,e._key,n,new Ip(null!==n&&n.hasLocalMutations,!0),e.converter)))}function cg(e){e=yf(e,Sf);const t=yf(e.firestore,Mf);return sf(Ff(t),e._key,{source:"server"}).then((n=>xg(t,e,n)))}function ug(e){e=yf(e,kf);const t=yf(e.firestore,Mf),n=Ff(t),i=new ag(t);return Op(e._query),af(n,e._query).then((n=>new Rp(t,i,e,n)))}function hg(e){e=yf(e,kf);const t=yf(e.firestore,Mf),n=Ff(t),i=new ag(t);return of(n,e._query).then((n=>new Rp(t,i,e,n)))}function dg(e){e=yf(e,kf);const t=yf(e.firestore,Mf),n=Ff(t),i=new ag(t);return af(n,e._query,{source:"server"}).then((n=>new Rp(t,i,e,n)))}function fg(e,t,n){e=yf(e,Sf);const i=yf(e.firestore,Mf),r=ng(e.converter,t,n);return bg(i,[op(sp(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,Ro.none())])}function pg(e,t,n,...i){e=yf(e,Sf);const r=yf(e.firestore,Mf),s=sp(r);let o;return o="string"==typeof(t=(0,a.m9)(t))||t instanceof Gf?pp(s,"updateDoc",e._key,t,n,i):fp(s,"updateDoc",e._key,t),bg(r,[o.toMutation(e._key,Ro.exists(!0))])}function gg(e){return bg(yf(e.firestore,Mf),[new jo(e._key,Ro.none())])}function mg(e,t){const n=yf(e.firestore,Mf),i=If(e),r=ng(e.converter,t);return bg(n,[op(sp(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,Ro.exists(!1))]).then((()=>i))}function vg(e,...t){var n,i,r;e=(0,a.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||Lf(t[o])||(s=t[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges};if(Lf(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(i=e.error)||void 0===i?void 0:i.bind(e),t[o+2]=null===(r=e.complete)||void 0===r?void 0:r.bind(e)}let c,u,h;if(e instanceof Sf)u=yf(e.firestore,Mf),h=Zs(e._key.path),c={next:n=>{t[o]&&t[o](xg(u,e,n))},error:t[o+1],complete:t[o+2]};else{const n=yf(e,kf);u=yf(n.firestore,Mf),h=n._query;const i=new ag(u);c={next:e=>{t[o]&&t[o](new Rp(u,i,n,e))},error:t[o+1],complete:t[o+2]},Op(e._query)}return function(e,t,n,i){const r=new Vd(i),s=new Xh(t,r,n);return e.asyncQueue.enqueueAndForget((async()=>Hh(await ef(e),s))),()=>{r.Aa(),e.asyncQueue.enqueueAndForget((async()=>Uh(await ef(e),s)))}}(Ff(u),h,l,c)}function yg(e,t){return lf(Ff(e=yf(e,Mf)),Lf(t)?t:{next:t})}function bg(e,t){return function(e,t){const n=new tr;return e.asyncQueue.enqueueAndForget((async()=>ad(await Jd(e),t,n))),n.promise}(Ff(e),t)}function xg(e,t,n){const i=n.docs.get(t._key),r=new ag(e);return new Ep(e,r,t._key,i,new Ip(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=sp(e)}get(e){const t=sg(e,this._firestore),n=new ig(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Gi();const i=e[0];if(i.isFoundDocument())return new Cp(this._firestore,n,i.key,i,t.converter);if(i.isNoDocument())return new Cp(this._firestore,n,t._key,null,t.converter);throw Gi()}))}set(e,t,n){const i=sg(e,this._firestore),r=ng(i.converter,t,n),s=op(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,s),this}update(e,t,n,...i){const r=sg(e,this._firestore);let s;return s="string"==typeof(t=(0,a.m9)(t))||t instanceof Gf?pp(this._dataReader,"Transaction.update",r._key,t,n,i):fp(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,s),this}delete(e){const t=sg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=sg(e,this._firestore),n=new ag(this._firestore);return super.get(e).then((e=>new Ep(this._firestore,n,t._key,e._document,new Ip(!1,!1),t.converter)))}}function _g(e,t,n){e=yf(e,Mf);const i=Object.assign(Object.assign({},eg),n);return function(e){if(e.maxAttempts<1)throw new er(Ji.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),cf(Ff(e),(n=>t(new wg(e,n))),i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){return new ap("deleteField")}function kg(){return new cp("serverTimestamp")}function Cg(...e){return new up("arrayUnion",e)}function Ag(...e){return new hp("arrayRemove",e)}function Tg(e){return new dp("increment",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e,t=!0){!function(e){Vi=e}(r.SDK_VERSION),(0,r._registerComponent)(new s.wA("firestore",((e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=new Mf(i,new sr(e.getProvider("auth-internal")),new cr(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),r._setSettings(n),r}),"PUBLIC")),(0,r.registerVersion)(Bi,"3.4.9",e),(0,r.registerVersion)(Bi,"3.4.9","esm2017")}()},2079:(e,t,n)=>{"use strict";n.d(t,{$Y:()=>Je,B0:()=>Pt,FN:()=>Qe,IX:()=>at,Jt:()=>Mt,KV:()=>Et,UJ:()=>de,Ym:()=>Lt,a1:()=>qt,aF:()=>Ot,bm:()=>ne,cF:()=>Bt,g6:()=>zt,gE:()=>R,gH:()=>A,iH:()=>Ft,oq:()=>Dt,pb:()=>Nt,qm:()=>re,sd:()=>Rt,y4:()=>I});var i=n(8897),r=n(5505),s=n(3513);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o="firebasestorage.googleapis.com",a="storageBucket",l=12e4,c=6e5;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class u extends r.ZR{constructor(e,t){super(h(e),`Firebase Storage: ${t} (${h(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,u.prototype)}_codeEquals(e){return h(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function h(e){return"storage/"+e}function d(){const e="An unknown error occurred, please check the error payload for server response.";return new u("unknown",e)}function f(e){return new u("object-not-found","Object '"+e+"' does not exist.")}function p(e){return new u("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function g(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new u("unauthenticated",e)}function m(){return new u("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function v(e){return new u("unauthorized","User does not have permission to access '"+e+"'.")}function y(){return new u("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function b(){return new u("canceled","User canceled the upload/download.")}function x(e){return new u("invalid-url","Invalid URL '"+e+"'.")}function w(e){return new u("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function _(){return new u("no-default-bucket","No default bucket found. Did you set the '"+a+"' property when initializing the app?")}function S(){return new u("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function k(){return new u("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function C(){return new u("no-download-url","The given file does not have any download URLs.")}function A(e){return new u("invalid-argument",e)}function T(){return new u("app-deleted","The Firebase app was deleted.")}function I(e){return new u("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function E(e,t){return new u("invalid-format","String does not match format '"+e+"': "+t)}function P(e){throw new u("internal-error","Internal error: "+e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=R.makeFromUrl(e,t)}catch(i){return new R(e,"")}if(""===n.path)return n;throw w(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function r(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(e){e.path_=decodeURIComponent(e.path)}const u="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${u}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},g=t===o?"(?:storage.googleapis.com|storage.cloud.google.com)":t,m="([^?#]*)",v=new RegExp(`^https?://${g}/${i}/${m}`,"i"),y={bucket:1,path:2},b=[{regex:a,indices:l,postModify:r},{regex:f,indices:p,postModify:c},{regex:v,indices:y,postModify:c}];for(let o=0;o<b.length;o++){const t=b[o],i=t.regex.exec(e);if(i){const e=i[t.indices.bucket];let r=i[t.indices.path];r||(r=""),n=new R(e,r),t.postModify(n);break}}if(null==n)throw x(e);return n}}class L{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(e,t,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(...e){c||(c=!0,t.apply(null,e))}function h(t){r=setTimeout((()=>{r=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e,...t){if(c)return void d();if(e)return d(),void u.call(null,e,...t);const n=l()||o;if(n)return d(),void u.call(null,e,...t);let r;i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r)}let p=!1;function g(e){p||(p=!0,d(),c||(null!==r?(e||(a=2),clearTimeout(r),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,g(!0)}),n),g}function O(e){e(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e){return void 0!==e}function D(e){return"function"===typeof e}function F(e){return"object"===typeof e&&!Array.isArray(e)}function z(e){return"string"===typeof e||e instanceof String}function B(e){return q()&&e instanceof Blob}function q(){return"undefined"!==typeof Blob}function V(e,t,n,i){if(i<t)throw A(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw A(`Invalid value for '${e}'. Expected ${n} or less.`)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(e,t,n){let i=t;return null==n&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function U(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j;(function(e){e[e["NO_ERROR"]=0]="NO_ERROR",e[e["NETWORK_ERROR"]=1]="NETWORK_ERROR",e[e["ABORT"]=2]="ABORT"})(j||(j={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Y{constructor(e,t,n,i,r,s,o,a,l,c,u){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new W(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const i=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;const t=n.getErrorCode()===j.NO_ERROR,r=n.getStatus();if(!t||this.isRetryStatusCode_(r)){const t=n.getErrorCode()===j.ABORT;return void e(!1,new W(!1,null,t))}const s=-1!==this.successCodes_.indexOf(r);e(!0,new W(s,n))}))},t=(e,t)=>{const n=this.resolve_,i=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());M(e)?n(e):n()}catch(s){i(s)}else if(null!==r){const e=d();e.serverResponse=r.getErrorText(),this.errorCallback_?i(this.errorCallback_(r,e)):i(e)}else if(t.canceled){const e=this.appDelete_?T():b();i(e)}else{const e=y();i(e)}};this.canceled_?t(!1,new W(!1,null,!0)):this.backoffId_=N(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&O(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=[408,429],i=-1!==n.indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||r}}class W{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function X(e,t){null!==t&&t.length>0&&(e["Authorization"]="Firebase "+t)}function $(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function G(e,t){t&&(e["X-Firebase-GMPID"]=t)}function K(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function Z(e,t,n,i,r,s){const o=U(e.urlParams),a=e.url+o,l=Object.assign({},e.headers);return G(l,t),X(l,n),$(l,s),K(l,i),new Y(a,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function J(...e){const t=Q();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(q())return new Blob(e);throw new u("unsupported-environment","This browser doesn't seem to support creating Blobs")}function ee(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(e){return atob(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ie{constructor(e,t){this.data=e,this.contentType=t||null}}function re(e,t){switch(e){case ne.RAW:return new ie(se(t));case ne.BASE64:case ne.BASE64URL:return new ie(ae(e,t));case ne.DATA_URL:return new ie(ce(t),ue(t))}throw d()}function se(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|63&i);else if(55296===(64512&i)){const r=n<e.length-1&&56320===(64512&e.charCodeAt(n+1));if(r){const r=i,s=e.charCodeAt(++n);i=65536|(1023&r)<<10|1023&s,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else t.push(239,191,189)}else 56320===(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function oe(e){let t;try{t=decodeURIComponent(e)}catch(n){throw E(ne.DATA_URL,"Malformed data URL.")}return se(t)}function ae(e,t){switch(e){case ne.BASE64:{const n=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(n||i){const t=n?"-":"_";throw E(e,"Invalid character '"+t+"' found: is it base64url encoded?")}break}case ne.BASE64URL:{const n=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(n||i){const t=n?"+":"/";throw E(e,"Invalid character '"+t+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=te(t)}catch(r){throw E(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class le{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw E(ne.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=he(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}function ce(e){const t=new le(e);return t.base64?ae(ne.BASE64,t.rest):oe(t.rest)}function ue(e){const t=new le(e);return t.contentType}function he(e,t){const n=e.length>=t.length;return!!n&&e.substring(e.length-t.length)===t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,t){let n=0,i="";B(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(B(this.data_)){const n=this.data_,i=ee(n,e,t);return null===i?null:new de(i)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new de(n,!0)}}static getBlob(...e){if(q()){const t=e.map((e=>e instanceof de?e.data_:e));return new de(J.apply(null,t))}{const t=e.map((e=>z(e)?re(ne.RAW,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const i=new Uint8Array(n);let r=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)i[r++]=e[t]})),new de(i,!0)}}uploadData(){return this.data_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(e){let t;try{t=JSON.parse(e)}catch(n){return null}return F(t)?t:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(e){if(0===e.length)return null;const t=e.lastIndexOf("/");if(-1===t)return"";const n=e.slice(0,t);return n}function ge(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}function me(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(e,t){return t}class ye{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||ve}}let be=null;function xe(e){return!z(e)||e.length<2?e:me(e)}function we(){if(be)return be;const e=[];function t(e,t){return xe(t)}e.push(new ye("bucket")),e.push(new ye("generation")),e.push(new ye("metageneration")),e.push(new ye("name","fullPath",!0));const n=new ye("name");function i(e,t){return void 0!==t?Number(t):t}n.xform=t,e.push(n);const r=new ye("size");return r.xform=i,e.push(r),e.push(new ye("timeCreated")),e.push(new ye("updated")),e.push(new ye("md5Hash",null,!0)),e.push(new ye("cacheControl",null,!0)),e.push(new ye("contentDisposition",null,!0)),e.push(new ye("contentEncoding",null,!0)),e.push(new ye("contentLanguage",null,!0)),e.push(new ye("contentType",null,!0)),e.push(new ye("metadata","customMetadata",!0)),be=e,be}function _e(e,t){function n(){const n=e["bucket"],i=e["fullPath"],r=new R(n,i);return t._makeStorageReference(r)}Object.defineProperty(e,"ref",{get:n})}function Se(e,t,n){const i={type:"file"},r=n.length;for(let s=0;s<r;s++){const e=n[s];i[e.local]=e.xform(i,t[e.server])}return _e(i,e),i}function ke(e,t,n){const i=fe(t);if(null===i)return null;const r=i;return Se(e,r,n)}function Ce(e,t,n,i){const r=fe(t);if(null===r)return null;if(!z(r["downloadTokens"]))return null;const s=r["downloadTokens"];if(0===s.length)return null;const o=encodeURIComponent,a=s.split(","),l=a.map((t=>{const r=e["bucket"],s=e["fullPath"],a="/b/"+o(r)+"/o/"+o(s),l=H(a,n,i),c=U({alt:"media",token:t});return l+c}));return l[0]}function Ae(e,t){const n={},i=t.length;for(let r=0;r<i;r++){const i=t[r];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te="prefixes",Ie="items";function Ee(e,t,n){const i={prefixes:[],items:[],nextPageToken:n["nextPageToken"]};if(n[Te])for(const r of n[Te]){const n=r.replace(/\/$/,""),s=e._makeStorageReference(new R(t,n));i.prefixes.push(s)}if(n[Ie])for(const r of n[Ie]){const n=e._makeStorageReference(new R(t,r["name"]));i.items.push(n)}return i}function Pe(e,t,n){const i=fe(n);if(null===i)return null;const r=i;return Ee(e,t,r)}class Re{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(e){if(!e)throw d()}function Ne(e,t){function n(n,i){const r=ke(e,i,t);return Le(null!==r),r}return n}function Oe(e,t){function n(n,i){const r=Pe(e,t,i);return Le(null!==r),r}return n}function Me(e,t){function n(n,i){const r=ke(e,i,t);return Le(null!==r),Ce(r,i,e.host,e._protocol)}return n}function De(e){function t(t,n){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?m():g():402===t.getStatus()?p(e.bucket):403===t.getStatus()?v(e.path):n,i.serverResponse=n.serverResponse,i}return t}function Fe(e){const t=De(e);function n(n,i){let r=t(n,i);return 404===n.getStatus()&&(r=f(e.path)),r.serverResponse=i.serverResponse,r}return n}function ze(e,t,n){const i=t.fullServerUrl(),r=H(i,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new Re(r,s,Ne(e,n),o);return a.errorHandler=Fe(t),a}function Be(e,t,n,i,r){const s={};t.isRoot?s["prefix"]="":s["prefix"]=t.path+"/",n&&n.length>0&&(s["delimiter"]=n),i&&(s["pageToken"]=i),r&&(s["maxResults"]=r);const o=t.bucketOnlyServerUrl(),a=H(o,e.host,e._protocol),l="GET",c=e.maxOperationRetryTime,u=new Re(a,l,Oe(e,t.bucket),c);return u.urlParams=s,u.errorHandler=De(t),u}function qe(e,t,n){const i=t.fullServerUrl(),r=H(i,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new Re(r,s,Me(e,n),o);return a.errorHandler=Fe(t),a}function Ve(e,t,n,i){const r=t.fullServerUrl(),s=H(r,e.host,e._protocol),o="PATCH",a=Ae(n,i),l={"Content-Type":"application/json; charset=utf-8"},c=e.maxOperationRetryTime,u=new Re(s,o,Ne(e,i),c);return u.headers=l,u.body=a,u.errorHandler=Fe(t),u}function He(e,t){const n=t.fullServerUrl(),i=H(n,e.host,e._protocol),r="DELETE",s=e.maxOperationRetryTime;function o(e,t){}const a=new Re(i,r,o,s);return a.successCodes=[200,204],a.errorHandler=Fe(t),a}function Ue(e,t){return e&&e["contentType"]||t&&t.type()||"application/octet-stream"}function je(e,t,n){const i=Object.assign({},n);return i["fullPath"]=e.path,i["size"]=t.size(),i["contentType"]||(i["contentType"]=Ue(null,t)),i}function Ye(e,t,n,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=je(t,i,r),u=Ae(c,n),h="--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c["contentType"]+"\r\n\r\n",d="\r\n--"+l+"--",f=de.getBlob(h,i,d);if(null===f)throw S();const p={name:c["fullPath"]},g=H(s,e.host,e._protocol),m="POST",v=e.maxUploadRetryTime,y=new Re(g,m,Ne(e,n),v);return y.urlParams=p,y.headers=o,y.body=f.uploadData(),y.errorHandler=De(t),y}class We{constructor(e,t,n,i){this.current=e,this.total=t,this.finalized=!!n,this.metadata=i||null}}function Xe(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Le(!1)}const i=t||["active"];return Le(!!n&&-1!==i.indexOf(n)),n}function $e(e,t,n,i,r){const s=t.bucketOnlyServerUrl(),o=je(t,i,r),a={name:o["fullPath"]},l=H(s,e.host,e._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o["contentType"],"Content-Type":"application/json; charset=utf-8"},h=Ae(o,n),d=e.maxUploadRetryTime;function f(e){let t;Xe(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Le(!1)}return Le(z(t)),t}const p=new Re(l,c,f,d);return p.urlParams=a,p.headers=u,p.body=h,p.errorHandler=De(t),p}function Ge(e,t,n,i){const r={"X-Goog-Upload-Command":"query"};function s(e){const t=Xe(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){Le(!1)}n||Le(!1);const r=Number(n);return Le(!isNaN(r)),new We(r,i.size(),"final"===t)}const o="POST",a=e.maxUploadRetryTime,l=new Re(n,o,s,a);return l.headers=r,l.errorHandler=De(t),l}const Ke=262144;function Ze(e,t,n,i,r,s,o,a){const l=new We(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw k();const c=l.total-l.current;let u=c;r>0&&(u=Math.min(u,r));const h=l.current,d=h+u,f=u===c?"upload, finalize":"upload",p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},g=i.slice(h,d);if(null===g)throw S();function m(e,n){const r=Xe(e,["active","final"]),o=l.current+u,a=i.size();let c;return c="final"===r?Ne(t,s)(e,n):null,new We(o,a,"final"===r,c)}const v="POST",y=t.maxUploadRetryTime,b=new Re(n,v,m,y);return b.headers=p,b.body=g.uploadData(),b.progressCallback=a||null,b.errorHandler=De(e),b}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe={STATE_CHANGED:"state_changed"},Je={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function et(e){switch(e){case"running":case"pausing":case"canceling":return Je.RUNNING;case"paused":return Je.PAUSED;case"success":return Je.SUCCESS;case"canceled":return Je.CANCELED;case"error":return Je.ERROR;default:return Je.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,t,n){const i=D(e)||null!=t||null!=n;if(i)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(e){return(...t)=>{Promise.resolve().then((()=>e(...t)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let it=null;class rt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=j.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=j.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=j.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,i){if(this.sent_)throw P("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw P("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw P("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw P("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw P("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class st extends rt{initXhr(){this.xhr_.responseType="text"}}function ot(){return it?it():new st}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class at{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=we(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{this._request=void 0,this._chunkMultiplier=1,e._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=e,this._transition("error"))},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals("canceled")?this.completeTransitions_():(this._error=e,this._transition("error"))},this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=$e(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,ot,e,t);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const i=Ge(this._ref.storage,this._ref._location,e,this._blob),r=this._ref.storage._makeRequest(i,ot,t,n);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=Ke*this._chunkMultiplier,t=new We(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((i,r)=>{let s;try{s=Ze(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const o=this._ref.storage._makeRequest(s,ot,i,r);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){const e=Ke*this._chunkMultiplier;e<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=ze(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,ot,e,t);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=Ye(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,ot,e,t);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":this._state=e,void 0!==this._request&&this._request.cancel();break;case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=b(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=et(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,i){const r=new tt(t||void 0,n||void 0,i||void 0);return this._addObserver(r),()=>{this._removeObserver(r)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();const e=this._observers.slice();e.forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(et(this._state)){case Je.SUCCESS:nt(this._resolve.bind(null,this.snapshot))();break;case Je.CANCELED:case Je.ERROR:const t=this._reject;nt(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){const t=et(this._state);switch(t){case Je.RUNNING:case Je.PAUSED:e.next&&nt(e.next.bind(e,this.snapshot))();break;case Je.SUCCESS:e.complete&&nt(e.complete.bind(e))();break;case Je.CANCELED:case Je.ERROR:e.error&&nt(e.error.bind(e,this._error))();break;default:e.error&&nt(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this._service=e,this._location=t instanceof R?t:R.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new lt(e,t)}get root(){const e=new R(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return me(this._location.path)}get storage(){return this._service}get parent(){const e=pe(this._location.path);if(null===e)return null;const t=new R(this._location.bucket,e);return new lt(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw I(e)}}function ct(e,t,n){e._throwIfRoot("uploadBytes");const i=Ye(e.storage,e._location,we(),new de(t,!0),n);return e.storage.makeRequestWithTokens(i,ot).then((t=>({metadata:t,ref:e})))}function ut(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new at(e,new de(t),n)}function ht(e){const t={prefixes:[],items:[]};return dt(e,t).then((()=>t))}async function dt(e,t,n){const i={pageToken:n},r=await ft(e,i);t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&await dt(e,t,r.nextPageToken)}function ft(e,t){null!=t&&"number"===typeof t.maxResults&&V("options.maxResults",1,1e3,t.maxResults);const n=t||{},i=Be(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(i,ot)}function pt(e){e._throwIfRoot("getMetadata");const t=ze(e.storage,e._location,we());return e.storage.makeRequestWithTokens(t,ot)}function gt(e,t){e._throwIfRoot("updateMetadata");const n=Ve(e.storage,e._location,t,we());return e.storage.makeRequestWithTokens(n,ot)}function mt(e){e._throwIfRoot("getDownloadURL");const t=qe(e.storage,e._location,we());return e.storage.makeRequestWithTokens(t,ot).then((e=>{if(null===e)throw C();return e}))}function vt(e){e._throwIfRoot("deleteObject");const t=He(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ot)}function yt(e,t){const n=ge(e._location.path,t),i=new R(e._location.bucket,n);return new lt(e.storage,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(e){return/^[A-Za-z]+:\/\//.test(e)}function xt(e,t){return new lt(e,t)}function wt(e,t){if(e instanceof Ct){const n=e;if(null==n._bucket)throw _();const i=new lt(n,n._bucket);return null!=t?wt(i,t):i}return void 0!==t?yt(e,t):e}function _t(e,t){if(t&&bt(t)){if(e instanceof Ct)return xt(e,t);throw A("To use ref(service, url), the first argument must be a Storage instance.")}return wt(e,t)}function St(e,t){const n=null===t||void 0===t?void 0:t[a];return null==n?null:R.makeFromBucketSpec(n,e)}function kt(e,t,n,i={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=i;s&&(e._overrideAuthToken="string"===typeof s?s:(0,r.Sg)(s,e.app.options.projectId))}class Ct{constructor(e,t,n,i,r){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=o,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=l,this._maxUploadRetryTime=c,this._requests=new Set,this._bucket=null!=i?R.makeFromBucketSpec(i,this._host):St(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=R.makeFromBucketSpec(this._url,e):this._bucket=St(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){V("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){V("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();return t.token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lt(this,e)}_makeRequest(e,t,n,i){if(this._deleted)return new L(T());{const r=Z(e,this._appId,n,i,t,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((()=>this._requests.delete(r)),(()=>this._requests.delete(r))),r}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const At="@firebase/storage",Tt="0.9.6",It="storage";function Et(e,t,n){return e=(0,r.m9)(e),ct(e,t,n)}function Pt(e,t,n){return e=(0,r.m9)(e),ut(e,t,n)}function Rt(e){return e=(0,r.m9)(e),pt(e)}function Lt(e,t){return e=(0,r.m9)(e),gt(e,t)}function Nt(e,t){return e=(0,r.m9)(e),ft(e,t)}function Ot(e){return e=(0,r.m9)(e),ht(e)}function Mt(e){return e=(0,r.m9)(e),mt(e)}function Dt(e){return e=(0,r.m9)(e),vt(e)}function Ft(e,t){return e=(0,r.m9)(e),_t(e,t)}function zt(e,t){return yt(e,t)}function Bt(e=(0,i.getApp)(),t){e=(0,r.m9)(e);const n=(0,i._getProvider)(e,It),s=n.getImmediate({identifier:t});return s}function qt(e,t,n,i={}){kt(e,t,n,i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Ct(n,r,s,t,i.SDK_VERSION)}function Ht(){(0,i._registerComponent)(new s.wA(It,Vt,"PUBLIC").setMultipleInstances(!0)),(0,i.registerVersion)(At,Tt,""),(0,i.registerVersion)(At,Tt,"esm2017")}Ht()},5505:(e,t,n)=>{"use strict";n.d(t,{BH:()=>g,DV:()=>V,Dv:()=>ee,G6:()=>T,GJ:()=>B,L:()=>u,LL:()=>L,Mn:()=>C,Pz:()=>D,Sg:()=>m,UG:()=>b,UI:()=>U,US:()=>l,Wj:()=>ne,Yr:()=>A,ZB:()=>f,ZR:()=>R,b$:()=>_,cI:()=>M,d:()=>S,dS:()=>re,eu:()=>E,g5:()=>s,gK:()=>te,gQ:()=>G,h$:()=>c,hl:()=>I,hu:()=>r,jU:()=>x,lb:()=>ie,m9:()=>oe,ne:()=>K,p$:()=>d,pd:()=>$,r3:()=>q,ru:()=>w,tV:()=>h,uI:()=>y,ug:()=>se,vZ:()=>j,w1:()=>k,w9:()=>z,xO:()=>W,xb:()=>H,z$:()=>v,zd:()=>X});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},o=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},a=function(e){const t=[];let n=0,i=0;while(n<e.length){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=e[n++],o=e[n++],a=e[n++],l=((7&r)<<18|(63&s)<<12|(63&o)<<6|63&a)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,o=s?e[r+1]:0,a=r+2<e.length,l=a?e[r+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):a(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],s=r<e.length,o=s?n[e.charAt(r)]:0;++r;const a=r<e.length,l=a?n[e.charAt(r)]:64;++r;const c=r<e.length,u=c?n[e.charAt(r)]:64;if(++r,null==t||null==o||null==l||null==u)throw Error();const h=t<<2|o>>4;if(i.push(h),64!==l){const e=o<<4&240|l>>2;if(i.push(e),64!==u){const e=l<<6&192|u;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){const t=o(e);return l.encodeByteArray(t,!0)},u=function(e){return c(e).replace(/\./g,"")},h=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&p(n)&&(e[n]=f(e[n],t[n]));return e}function p(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[u(JSON.stringify(n)),u(JSON.stringify(o)),a].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function y(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function b(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function x(){return"object"===typeof self&&self.self===self}function w(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function _(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function S(){return v().indexOf("Electron/")>=0}function k(){const e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function C(){return v().indexOf("MSAppHost/")>=0}function A(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function T(){return!b()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I(){return"object"===typeof indexedDB}function E(){return new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const P="FirebaseError";class R extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=P,Object.setPrototypeOf(this,R.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,L.prototype.create)}}class L{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],s=r?N(r,n):"Error",o=`${this.serviceName}: ${s} (${i}).`,a=new R(i,o,n);return a}}function N(e,t){return e.replace(O,((e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`}))}const O=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e){return JSON.parse(e)}function D(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(e){let t={},n={},i={},r="";try{const s=e.split(".");t=M(h(s[0])||""),n=M(h(s[1])||""),r=s[2],i=n["d"]||{},delete n["d"]}catch(s){}return{header:t,claims:n,data:i,signature:r}},z=function(e){const t=F(e),n=t.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},B=function(e){const t=F(e).claims;return"object"===typeof t&&!0===t["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function H(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function U(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function j(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(Y(n)&&Y(s)){if(!j(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Y(e){return null!==e&&"object"===typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function X(e){const t={},n=e.replace(/^\?/,"").split("&");return n.forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function $(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let i,r,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(i=l^o&(a^l),r=1518500249):(i=o^a^l,r=1859775393):u<60?(i=o&a|l&(o|a),r=2400959708):(i=o^a^l,r=3395469782);const e=(s<<5|s>>>27)+i+c+r+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let i=0;const r=this.buf_;let s=this.inbuf_;while(i<t){if(0===s)while(i<=n)this.compress_(e,i),i+=this.blockSize;if("string"===typeof e){while(i<t)if(r[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}else while(i<t)if(r[s]=e[i],++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[i]>>t&255,++n;return e}}function K(e,t){const n=new Z(e,t);return n.subscribe.bind(n)}class Z{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=Q(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=J),void 0===i.error&&(i.error=J),void 0===i.complete&&(i.complete=J);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Q(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}function J(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee=function(e,t,n,i){let r;if(i<t?r="at least "+t:i>n&&(r=0===n?"none":"no more than "+n),r){const t=e+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".";throw new Error(t)}};function te(e,t){return`${e} failed: ${t} argument `}function ne(e,t,n,i){if((!i||n)&&"function"!==typeof n)throw new Error(te(e,t)+"must be a valid function.")}function ie(e,t,n,i){if((!i||n)&&("object"!==typeof n||null===n))throw new Error(te(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);if(s>=55296&&s<=56319){const t=s-55296;i++,r(i<e.length,"Surrogate pair missing trail surrogate.");const n=e.charCodeAt(i)-56320;s=65536+(t<<10)+n}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},se=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function oe(e){return e&&e._delegate?e._delegate:e}},2945:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(8448),t),r(n(4051),t),r(n(9991),t),r(n(5108),t)},8448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firebaseInit=void 0;var i=n(7258);n(3174),n(4685);var r=function(e){i.default.apps.length||(i.default.initializeApp(e),i.default.firestore().settings({ignoreUndefinedProperties:!0}))};t.firebaseInit=r},9991:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFirestoreCollection=t.useFirestoreDoc=t.useFirebaseDB=t.useDownloadUrl=t.useHttpsCallable=t.useFirebaseUser=void 0;var i=n(4051),r=n(3147);function s(){return(0,r.useSWRV)("",i.getAuthStateChangeObservable)}function o(e,t,n){return(0,r.useSWRV)((function(){return[t()]}),(0,i.httpsCallable)(e,n))}function a(e){return(0,r.useSWRV)((function(){return[e()]}),i.getDownloadURL)}function l(e){return void 0===e&&(e=function(){return""}),(0,r.useSWRV)((function(){var t=e();return t?[t]:void 0}),i.getFirebaseDBObservable)}function c(e,t){return(0,r.useSWRV)((function(){var n=t();return n?[e,n]:void 0}),i.getFirestoreDocObservable)}function u(e,t){return void 0===t&&(t=function(){return{}}),(0,r.useSWRV)((function(){var n=t();return n?[e,n]:void 0}),i.getFirestoreCollectionObservable)}t.useFirebaseUser=s,t.useHttpsCallable=o,t.useDownloadUrl=a,t.useFirebaseDB=l,t.useFirestoreDoc=c,t.useFirestoreCollection=u},5108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3174),n(3286),n(4685),n(8210)},4051:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):r(e.value).then(o,a)}l((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,i&&(r=2&s[0]?i["return"]:s[0]?i["throw"]||((r=i["return"])&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.unpackFirestoreData=t.getFirestoreCollectionObservable=t.getFirestoreDocObservable=t.getFirebaseDBObservable=t.getDownloadURL=t.getAuthStateChangeObservable=t.httpsCallable=t.signOut=t.signInWithCustomToken=void 0;var s=n(7258);function o(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,s.default.auth().signInWithCustomToken(e)]}))}))}function a(){return i(this,void 0,void 0,(function(){return r(this,(function(e){return[2,s.default.auth().signOut()]}))}))}function l(e,t){var n=this,o=s.default.functions().httpsCallable(e,t);return function(e){return i(n,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return[4,o(e)];case 1:return t=n.sent(),[2,t.data]}}))}))}}function c(){return function(e){return s.default.auth().onIdTokenChanged(e.next,e.error)}}function u(e){return s.default.storage().ref(e).getDownloadURL()}function h(e){return function(t){var n=s.default.database().ref(e);return n.on("value",(function(e){t.next(e.val())}),(function(e){t.error(e),t.complete()})),function(){n.off()}}}function d(e,t){return function(n){var i=s.default.firestore().collection(e);return i.doc(t).onSnapshot((function(e){n.next(g(e.data()))}),n.error,n.complete)}}function f(e,t){return function(n){var i=s.default.firestore().collection(e);return t.where&&(i=i.where.apply(i,t.where)),t.whereEquals&&(i=Object.entries(t.whereEquals).reduce((function(e,t){var n=t[0],i=t[1];return e.where(n,"==",i)}),i)),t.orderBy&&(i=i.orderBy.apply(i,t.orderBy)),t.limit&&(i=i.limit(t.limit)),i.onSnapshot((function(e){n.next(new Map(e.docs.map((function(e){return[e.id,g(e.data())]}))))}),n.error,n.complete)}}function p(e,t){return t<=0?e:e instanceof s.default.firestore.Timestamp?e.toDate():e instanceof s.default.firestore.DocumentReference?e.path:"object"===typeof e?g(e,t-1):e}function g(e,t){if(void 0===t&&(t=10),Array.isArray(e))return e.map((function(e){return p(e,t)}));if("object"!==typeof e)return e;var n=Object.keys(e),i={};return n.forEach((function(n){i[n]=p(e[n],t)})),i}n(3174),n(3286),n(4685),n(8210),n(9138),t.signInWithCustomToken=o,t.signOut=a,t.httpsCallable=l,t.getAuthStateChangeObservable=c,t.getDownloadURL=u,t.getFirebaseDBObservable=h,t.getFirestoreDocObservable=d,t.getFirestoreCollectionObservable=f,t.unpackFirestoreData=g},3147:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(6205),t),r(n(2457),t)},6205:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,i){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):r(e.value).then(o,a)}l((i=i.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,i&&(r=2&s[0]?i["return"]:s[0]?i["throw"]||((r=i["return"])&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.mutate=t.useSWRV=t.refCounts=t.defaultCache=t.markRawSafe=void 0;var a=n(6970),l=n(4617),c=n(9302);function u(e){return e&&(0,a.isPlainObject)(e)?(0,c.markRaw)(e):e}t.markRawSafe=u,t.defaultCache=new l.SWRVCache,t.refCounts=new Map;var h={refreshInterval:0,cache:t.defaultCache,dedupingInterval:1/0,invalidatedCacheTTL:5e3,ttl:0,shouldRetryOnError:!0,errorRetryInterval:5e3,errorRetryCount:5};function d(e,n,l){var d=this,p=i(i({},h),l),g=(0,c.reactive)({key:void 0,data:void 0,error:void 0,isValidating:!0,mutate:function(t){return f(e,t)}});return(0,c.watchEffect)((function(i){var l,h,f,m=!1,v=(0,a.isFunction)(e)?e():[e];if(!v)return g.key=[n.name],g.data=g.error=void 0,void(g.isValidating=!1);g.key=o([n.name],v,!0);var y,b,x,w=p.cache?n.name+(null===(l=p.cache)||void 0===l?void 0:l.serializeKey(o([n],v,!0)).substring(3)):void 0;if(i((function(){var e,n=w&&t.refCounts.get(w)||0;if(w){if(n>1)return void t.refCounts.set(w,n-1);t.refCounts.delete(w),y&&(null===(e=p.cache)||void 0===e||e.set(w,y,p.invalidatedCacheTTL))}m=!0,b&&(b(),b=void 0),clearTimeout(x),x=void 0})),w){var _=w?null===(h=p.cache)||void 0===h?void 0:h.get(w):void 0;if(_){if(t.refCounts.set(w,(t.refCounts.get(w)||0)+1),g.data=_.data.data,g.error=_.data.error,g.isValidating=_.data.isValidating,Date.now()-_.createdAt<p.dedupingInterval)return}else y=(0,c.reactive)({data:void 0,error:void 0,isValidating:!0}),t.refCounts.set(w,0),null===(f=p.cache)||void 0===f||f.set(w,y,p.ttl)}var S=-1,k=function(){return r(d,void 0,void 0,(function(){var e,t,i,o,l=this;return s(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),e=n.apply(void 0,v),t=(0,a.isFunction)(e)?e:function(t){var n=t.next,i=t.error,o=t.complete;return r(l,void 0,void 0,(function(){var t,r;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),t=n,[4,e];case 1:return t.apply(void 0,[s.sent()]),[3,3];case 2:return r=s.sent(),i(r),[3,3];case 3:return o(),[2]}}))}))},[4,t({next:function(e){var t,n=u(e);g.data=n,g.error=void 0,g.isValidating=!1,w&&y&&(y.data=n,y.error=void 0,y.isValidating=!1,null===(t=p.cache)||void 0===t||t.set(w,y,p.ttl)),S=-1},error:function(e){var t=u(e);g.error=t,g.isValidating=!1,y&&(y.error=t,y.isValidating=!1),S++},complete:function(){if(!m)if(S>=0){var e=p.errorRetryInterval;e&&p.shouldRetryOnError&&S<p.errorRetryCount&&(x=setTimeout((function(){k()}),e))}else{e=p.refreshInterval;e&&(x=setTimeout((function(){k()}),e))}}})];case 1:return b=c.sent(),[3,3];case 2:return i=c.sent(),o=u(i),g.error=o,g.isValidating=!1,y&&(y.error=o,y.isValidating=!1),[3,3];case 3:return[2]}}))}))};k()})),(0,c.toRefs)(g)}function f(e,t,n,i){return void 0===n&&(n=h.cache),void 0===i&&(i=h.ttl),r(this,void 0,void 0,(function(){var r,o,l,h,d,f,p;return s(this,(function(s){switch(s.label){case 0:if(!n)return[2];if(r=(0,a.isFunction)(e)?e():[e],!r)return[2];o=n.serializeKey(r),l=o?n.get(o):void 0,h=l?l.data:(0,c.reactive)({data:void 0,error:void 0,isValidating:!0}),s.label=1;case 1:return s.trys.push([1,3,,4]),d=h,f=u,[4,t];case 2:return d.data=f.apply(void 0,[s.sent()]),[3,4];case 3:return p=s.sent(),h.error=u(p),[3,4];case 4:return n.set(o,h,i),[2]}}))}))}t.useSWRV=d,t.mutate=f},2457:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9984:e=>{e.exports=function(e,t,n){const i=void 0!==e.__vccOpts?e.__vccOpts:e,r=i[t];if(void 0===r)i[t]=n;else for(const s in n)void 0===r[s]&&(r[s]=n[s])}},499:(e,t,n)=>{"use strict";n.d(t,{$y:()=>Oe,B:()=>o,BK:()=>et,Bj:()=>s,EB:()=>c,Fl:()=>rt,IU:()=>Fe,Jd:()=>I,OT:()=>Pe,PG:()=>Ne,SU:()=>Ge,Um:()=>Ee,Vh:()=>nt,WL:()=>Ze,X$:()=>L,X3:()=>De,XI:()=>Ye,Xl:()=>ze,YS:()=>Re,ZM:()=>Je,cE:()=>k,dq:()=>Ue,iH:()=>je,j:()=>P,lk:()=>E,nZ:()=>l,oR:()=>$e,qj:()=>Ie,qq:()=>_,sT:()=>C,yT:()=>Me});var i=n(6970);let r;class s{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&r&&(this.parent=r,this.index=(r.scopes||(r.scopes=[])).push(this)-1)}run(e){if(this.active){const t=r;try{return r=this,e()}finally{r=t}}else 0}on(){r=this}off(){r=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function o(e){return new s(e)}function a(e,t=r){t&&t.active&&t.effects.push(e)}function l(){return r}function c(e){r&&r.cleanups.push(e)}const u=e=>{const t=new Set(e);return t.w=0,t.n=0,t},h=e=>(e.w&v)>0,d=e=>(e.n&v)>0,f=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=v},p=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];h(r)&&!d(r)?r.delete(e):t[n++]=r,r.w&=~v,r.n&=~v}t.length=n}},g=new WeakMap;let m=0,v=1;const y=30;let b;const x=Symbol(""),w=Symbol("");class _{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,a(this,n)}run(){if(!this.active)return this.fn();let e=b,t=A;while(e){if(e===this)return;e=e.parent}try{return this.parent=b,b=this,A=!0,v=1<<++m,m<=y?f(this):S(this),this.fn()}finally{m<=y&&p(this),v=1<<--m,b=this.parent,A=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){b===this?this.deferStop=!0:this.active&&(S(this),this.onStop&&this.onStop(),this.active=!1)}}function S(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function k(e,t){e.effect&&(e=e.effect.fn);const n=new _(e);t&&((0,i.extend)(n,t),t.scope&&a(n,t.scope)),t&&t.lazy||n.run();const r=n.run.bind(n);return r.effect=n,r}function C(e){e.effect.stop()}let A=!0;const T=[];function I(){T.push(A),A=!1}function E(){const e=T.pop();A=void 0===e||e}function P(e,t,n){if(A&&b){let t=g.get(e);t||g.set(e,t=new Map);let i=t.get(n);i||t.set(n,i=u());const r=void 0;R(i,r)}}function R(e,t){let n=!1;m<=y?d(e)||(e.n|=v,n=!h(e)):n=!e.has(b),n&&(e.add(b),b.deps.push(e))}function L(e,t,n,r,s,o){const a=g.get(e);if(!a)return;let l=[];if("clear"===t)l=[...a.values()];else if("length"===n&&(0,i.isArray)(e))a.forEach(((e,t)=>{("length"===t||t>=r)&&l.push(e)}));else switch(void 0!==n&&l.push(a.get(n)),t){case"add":(0,i.isArray)(e)?(0,i.isIntegerKey)(n)&&l.push(a.get("length")):(l.push(a.get(x)),(0,i.isMap)(e)&&l.push(a.get(w)));break;case"delete":(0,i.isArray)(e)||(l.push(a.get(x)),(0,i.isMap)(e)&&l.push(a.get(w)));break;case"set":(0,i.isMap)(e)&&l.push(a.get(x));break}if(1===l.length)l[0]&&N(l[0]);else{const e=[];for(const t of l)t&&e.push(...t);N(u(e))}}function N(e,t){const n=(0,i.isArray)(e)?e:[...e];for(const i of n)i.computed&&O(i,t);for(const i of n)i.computed||O(i,t)}function O(e,t){(e!==b||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const M=(0,i.makeMap)("__proto__,__v_isRef,__isVue"),D=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(i.isSymbol)),F=U(),z=U(!1,!0),B=U(!0),q=U(!0,!0),V=H();function H(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Fe(this);for(let t=0,r=this.length;t<r;t++)P(n,"get",t+"");const i=n[t](...e);return-1===i||!1===i?n[t](...e.map(Fe)):i}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){I();const n=Fe(this)[t].apply(this,e);return E(),n}})),e}function U(e=!1,t=!1){return function(n,r,s){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&s===(e?t?Ce:ke:t?Se:_e).get(n))return n;const o=(0,i.isArray)(n);if(!e&&o&&(0,i.hasOwn)(V,r))return Reflect.get(V,r,s);const a=Reflect.get(n,r,s);return((0,i.isSymbol)(r)?D.has(r):M(r))?a:(e||P(n,"get",r),t?a:Ue(a)?o&&(0,i.isIntegerKey)(r)?a:a.value:(0,i.isObject)(a)?e?Pe(a):Ie(a):a)}}const j=W(),Y=W(!0);function W(e=!1){return function(t,n,r,s){let o=t[n];if(Oe(o)&&Ue(o)&&!Ue(r))return!1;if(!e&&!Oe(r)&&(Me(r)||(r=Fe(r),o=Fe(o)),!(0,i.isArray)(t)&&Ue(o)&&!Ue(r)))return o.value=r,!0;const a=(0,i.isArray)(t)&&(0,i.isIntegerKey)(n)?Number(n)<t.length:(0,i.hasOwn)(t,n),l=Reflect.set(t,n,r,s);return t===Fe(s)&&(a?(0,i.hasChanged)(r,o)&&L(t,"set",n,r,o):L(t,"add",n,r)),l}}function X(e,t){const n=(0,i.hasOwn)(e,t),r=e[t],s=Reflect.deleteProperty(e,t);return s&&n&&L(e,"delete",t,void 0,r),s}function $(e,t){const n=Reflect.has(e,t);return(0,i.isSymbol)(t)&&D.has(t)||P(e,"has",t),n}function G(e){return P(e,"iterate",(0,i.isArray)(e)?"length":x),Reflect.ownKeys(e)}const K={get:F,set:j,deleteProperty:X,has:$,ownKeys:G},Z={get:B,set(e,t){return!0},deleteProperty(e,t){return!0}},Q=(0,i.extend)({},K,{get:z,set:Y}),J=(0,i.extend)({},Z,{get:q}),ee=e=>e,te=e=>Reflect.getPrototypeOf(e);function ne(e,t,n=!1,i=!1){e=e["__v_raw"];const r=Fe(e),s=Fe(t);n||(t!==s&&P(r,"get",t),P(r,"get",s));const{has:o}=te(r),a=i?ee:n?qe:Be;return o.call(r,t)?a(e.get(t)):o.call(r,s)?a(e.get(s)):void(e!==r&&e.get(t))}function ie(e,t=!1){const n=this["__v_raw"],i=Fe(n),r=Fe(e);return t||(e!==r&&P(i,"has",e),P(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function re(e,t=!1){return e=e["__v_raw"],!t&&P(Fe(e),"iterate",x),Reflect.get(e,"size",e)}function se(e){e=Fe(e);const t=Fe(this),n=te(t),i=n.has.call(t,e);return i||(t.add(e),L(t,"add",e,e)),this}function oe(e,t){t=Fe(t);const n=Fe(this),{has:r,get:s}=te(n);let o=r.call(n,e);o||(e=Fe(e),o=r.call(n,e));const a=s.call(n,e);return n.set(e,t),o?(0,i.hasChanged)(t,a)&&L(n,"set",e,t,a):L(n,"add",e,t),this}function ae(e){const t=Fe(this),{has:n,get:i}=te(t);let r=n.call(t,e);r||(e=Fe(e),r=n.call(t,e));const s=i?i.call(t,e):void 0,o=t.delete(e);return r&&L(t,"delete",e,void 0,s),o}function le(){const e=Fe(this),t=0!==e.size,n=void 0,i=e.clear();return t&&L(e,"clear",void 0,void 0,n),i}function ce(e,t){return function(n,i){const r=this,s=r["__v_raw"],o=Fe(s),a=t?ee:e?qe:Be;return!e&&P(o,"iterate",x),s.forEach(((e,t)=>n.call(i,a(e),a(t),r)))}}function ue(e,t,n){return function(...r){const s=this["__v_raw"],o=Fe(s),a=(0,i.isMap)(o),l="entries"===e||e===Symbol.iterator&&a,c="keys"===e&&a,u=s[e](...r),h=n?ee:t?qe:Be;return!t&&P(o,"iterate",c?w:x),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function he(e){return function(...t){return"delete"!==e&&this}}function de(){const e={get(e){return ne(this,e)},get size(){return re(this)},has:ie,add:se,set:oe,delete:ae,clear:le,forEach:ce(!1,!1)},t={get(e){return ne(this,e,!1,!0)},get size(){return re(this)},has:ie,add:se,set:oe,delete:ae,clear:le,forEach:ce(!1,!0)},n={get(e){return ne(this,e,!0)},get size(){return re(this,!0)},has(e){return ie.call(this,e,!0)},add:he("add"),set:he("set"),delete:he("delete"),clear:he("clear"),forEach:ce(!0,!1)},i={get(e){return ne(this,e,!0,!0)},get size(){return re(this,!0)},has(e){return ie.call(this,e,!0)},add:he("add"),set:he("set"),delete:he("delete"),clear:he("clear"),forEach:ce(!0,!0)},r=["keys","values","entries",Symbol.iterator];return r.forEach((r=>{e[r]=ue(r,!1,!1),n[r]=ue(r,!0,!1),t[r]=ue(r,!1,!0),i[r]=ue(r,!0,!0)})),[e,n,t,i]}const[fe,pe,ge,me]=de();function ve(e,t){const n=t?e?me:ge:e?pe:fe;return(t,r,s)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get((0,i.hasOwn)(n,r)&&r in t?n:t,r,s)}const ye={get:ve(!1,!1)},be={get:ve(!1,!0)},xe={get:ve(!0,!1)},we={get:ve(!0,!0)};const _e=new WeakMap,Se=new WeakMap,ke=new WeakMap,Ce=new WeakMap;function Ae(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Te(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Ae((0,i.toRawType)(e))}function Ie(e){return Oe(e)?e:Le(e,!1,K,ye,_e)}function Ee(e){return Le(e,!1,Q,be,Se)}function Pe(e){return Le(e,!0,Z,xe,ke)}function Re(e){return Le(e,!0,J,we,Ce)}function Le(e,t,n,r,s){if(!(0,i.isObject)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const o=s.get(e);if(o)return o;const a=Te(e);if(0===a)return e;const l=new Proxy(e,2===a?r:n);return s.set(e,l),l}function Ne(e){return Oe(e)?Ne(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Oe(e){return!(!e||!e["__v_isReadonly"])}function Me(e){return!(!e||!e["__v_isShallow"])}function De(e){return Ne(e)||Oe(e)}function Fe(e){const t=e&&e["__v_raw"];return t?Fe(t):e}function ze(e){return(0,i.def)(e,"__v_skip",!0),e}const Be=e=>(0,i.isObject)(e)?Ie(e):e,qe=e=>(0,i.isObject)(e)?Pe(e):e;function Ve(e){A&&b&&(e=Fe(e),R(e.dep||(e.dep=u())))}function He(e,t){e=Fe(e),e.dep&&N(e.dep)}function Ue(e){return!(!e||!0!==e.__v_isRef)}function je(e){return We(e,!1)}function Ye(e){return We(e,!0)}function We(e,t){return Ue(e)?e:new Xe(e,t)}class Xe{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Fe(e),this._value=t?e:Be(e)}get value(){return Ve(this),this._value}set value(e){e=this.__v_isShallow?e:Fe(e),(0,i.hasChanged)(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Be(e),He(this,e))}}function $e(e){He(e,void 0)}function Ge(e){return Ue(e)?e.value:e}const Ke={get:(e,t,n)=>Ge(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Ue(r)&&!Ue(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Ze(e){return Ne(e)?e:new Proxy(e,Ke)}class Qe{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:n}=e((()=>Ve(this)),(()=>He(this)));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function Je(e){return new Qe(e)}function et(e){const t=(0,i.isArray)(e)?new Array(e.length):{};for(const n in e)t[n]=nt(e,n);return t}class tt{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function nt(e,t,n){const i=e[t];return Ue(i)?i:new tt(e,t,n)}class it{constructor(e,t,n,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new _(e,(()=>{this._dirty||(this._dirty=!0,He(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=n}get value(){const e=Fe(this);return Ve(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function rt(e,t,n=!1){let r,s;const o=(0,i.isFunction)(e);o?(r=e,s=i.NOOP):(r=e.get,s=e.set);const a=new it(r,s,o||!s,n);return a}},9835:(e,t,n)=>{"use strict";n.d(t,{$d:()=>f,$y:()=>i.$y,Ah:()=>lt,B:()=>i.B,BK:()=>i.BK,Bj:()=>i.Bj,Bz:()=>Bi,C3:()=>Gn,C_:()=>r.normalizeClass,Cn:()=>Q,EB:()=>i.EB,Eo:()=>xn,F4:()=>ni,FN:()=>mi,Fl:()=>Fi,G:()=>nr,HX:()=>J,HY:()=>Nn,Ho:()=>ii,IU:()=>i.IU,JJ:()=>xe,Jd:()=>at,KU:()=>d,Ko:()=>St,LL:()=>bt,MW:()=>zi,MX:()=>Qi,Mr:()=>Zi,Nv:()=>kt,OT:()=>i.OT,Ob:()=>Xe,P$:()=>Oe,PG:()=>i.PG,Q2:()=>xt,Q6:()=>qe,RC:()=>Ue,Rh:()=>Se,Rr:()=>Hi,S3:()=>p,SU:()=>i.SU,U2:()=>De,Uc:()=>Gi,Uk:()=>ri,Um:()=>i.Um,Us:()=>bn,Vh:()=>i.Vh,WI:()=>Ct,WL:()=>i.WL,WY:()=>qi,Wm:()=>ei,X3:()=>i.X3,XI:()=>i.XI,Xl:()=>i.Xl,Xn:()=>st,Y1:()=>Ai,Y3:()=>E,Y8:()=>Re,YP:()=>Ae,YS:()=>i.YS,Yq:()=>ut,ZK:()=>o,ZM:()=>i.ZM,Zq:()=>Ki,_:()=>Jn,_A:()=>r.camelize,aZ:()=>Ve,b9:()=>Vi,bT:()=>ht,bv:()=>rt,cE:()=>i.cE,d1:()=>dt,dD:()=>Z,dG:()=>ui,dl:()=>Ge,dq:()=>i.dq,ec:()=>j,eq:()=>ir,f3:()=>we,h:()=>$i,hR:()=>r.toHandlerKey,i8:()=>er,iD:()=>Yn,iH:()=>i.iH,ic:()=>ot,j4:()=>Wn,j5:()=>r.normalizeStyle,kC:()=>r.capitalize,kq:()=>oi,l1:()=>Ui,lA:()=>Xn,lR:()=>Ln,m0:()=>_e,mW:()=>V,mv:()=>Xi,mx:()=>Tt,n4:()=>ue,nK:()=>Be,nQ:()=>Ji,nZ:()=>i.nZ,oR:()=>i.oR,of:()=>Ti,p1:()=>Wi,qG:()=>Dn,qZ:()=>Un,qb:()=>D,qj:()=>i.qj,qq:()=>i.qq,ry:()=>rr,sT:()=>i.sT,se:()=>Ke,sv:()=>Mn,uE:()=>si,u_:()=>Yi,up:()=>vt,vl:()=>ct,vs:()=>r.normalizeProps,w5:()=>ee,wF:()=>it,wg:()=>Bn,wy:()=>ft,xv:()=>On,yT:()=>i.yT,yX:()=>ke,zw:()=>r.toDisplayString});var i=n(499),r=n(6970);const s=[];function o(e,...t){(0,i.Jd)();const n=s.length?s[s.length-1].component:null,r=n&&n.appContext.config.warnHandler,o=a();if(r)d(r,n,11,[e+t.join(""),n&&n.proxy,o.map((({vnode:e})=>`at <${Mi(n,e.type)}>`)).join("\n"),o]);else{const n=[`[Vue warn]: ${e}`,...t];o.length&&n.push("\n",...l(o)),console.warn(...n)}(0,i.lk)()}function a(){let e=s[s.length-1];if(!e)return[];const t=[];while(e){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}function l(e){const t=[];return e.forEach(((e,n)=>{t.push(...0===n?[]:["\n"],...c(e))})),t}function c({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",i=!!e.component&&null==e.component.parent,r=` at <${Mi(e.component,e.type,i)}`,s=">"+n;return e.props?[r,...u(e.props),s]:[r+s]}function u(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach((n=>{t.push(...h(n,e[n]))})),n.length>3&&t.push(" ..."),t}function h(e,t,n){return(0,r.isString)(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):"number"===typeof t||"boolean"===typeof t||null==t?n?t:[`${e}=${t}`]:(0,i.dq)(t)?(t=h(e,(0,i.IU)(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):(0,r.isFunction)(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=(0,i.IU)(t),n?t:[`${e}=`,t])}function d(e,t,n,i){let r;try{r=i?e(...i):e()}catch(s){p(s,t,n)}return r}function f(e,t,n,i){if((0,r.isFunction)(e)){const s=d(e,t,n,i);return s&&(0,r.isPromise)(s)&&s.catch((e=>{p(e,t,n)})),s}const s=[];for(let r=0;r<e.length;r++)s.push(f(e[r],t,n,i));return s}function p(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let i=t.parent;const r=t.proxy,s=n;while(i){const t=i.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,s))return;i=i.parent}const o=t.appContext.config.errorHandler;if(o)return void d(o,null,10,[e,r,s])}g(e,n,r,i)}function g(e,t,n,i=!0){console.error(e)}let m=!1,v=!1;const y=[];let b=0;const x=[];let w=null,_=0;const S=[];let k=null,C=0;const A=Promise.resolve();let T=null,I=null;function E(e){const t=T||A;return e?t.then(this?e.bind(this):e):t}function P(e){let t=b+1,n=y.length;while(t<n){const i=t+n>>>1,r=B(y[i]);r<e?t=i+1:n=i}return t}function R(e){y.length&&y.includes(e,m&&e.allowRecurse?b+1:b)||e===I||(null==e.id?y.push(e):y.splice(P(e.id),0,e),L())}function L(){m||v||(v=!0,T=A.then(q))}function N(e){const t=y.indexOf(e);t>b&&y.splice(t,1)}function O(e,t,n,i){(0,r.isArray)(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?i+1:i)||n.push(e),L()}function M(e){O(e,w,x,_)}function D(e){O(e,k,S,C)}function F(e,t=null){if(x.length){for(I=t,w=[...new Set(x)],x.length=0,_=0;_<w.length;_++)w[_]();w=null,_=0,I=null,F(e,t)}}function z(e){if(F(),S.length){const e=[...new Set(S)];if(S.length=0,k)return void k.push(...e);for(k=e,k.sort(((e,t)=>B(e)-B(t))),C=0;C<k.length;C++)k[C]();k=null,C=0}}const B=e=>null==e.id?1/0:e.id;function q(e){v=!1,m=!0,F(e),y.sort(((e,t)=>B(e)-B(t)));r.NOOP;try{for(b=0;b<y.length;b++){const e=y[b];e&&!1!==e.active&&d(e,null,14)}}finally{b=0,y.length=0,z(e),m=!1,T=null,(y.length||x.length||S.length)&&q(e)}}new Set;new Map;let V,H=[],U=!1;function j(e,t){var n,i;if(V=e,V)V.enabled=!0,H.forEach((({event:e,args:t})=>V.emit(e,...t))),H=[];else if("undefined"!==typeof window&&window.HTMLElement&&!(null===(i=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===i?void 0:i.includes("jsdom"))){const e=t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[];e.push((e=>{j(e,t)})),setTimeout((()=>{V||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,U=!0,H=[])}),3e3)}else U=!0,H=[]}function Y(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||r.EMPTY_OBJ;let s=n;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in i){const e=`${"modelValue"===a?"model":a}Modifiers`,{number:t,trim:o}=i[e]||r.EMPTY_OBJ;o&&(s=n.map((e=>e.trim()))),t&&(s=n.map(r.toNumber))}let l;let c=i[l=(0,r.toHandlerKey)(t)]||i[l=(0,r.toHandlerKey)((0,r.camelize)(t))];!c&&o&&(c=i[l=(0,r.toHandlerKey)((0,r.hyphenate)(t))]),c&&f(c,e,6,s);const u=i[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,f(u,e,6,s)}}function W(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(void 0!==s)return s;const o=e.emits;let a={},l=!1;if(!(0,r.isFunction)(e)){const i=e=>{const n=W(e,t,!0);n&&(l=!0,(0,r.extend)(a,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return o||l?((0,r.isArray)(o)?o.forEach((e=>a[e]=null)):(0,r.extend)(a,o),i.set(e,a),a):(i.set(e,null),null)}function X(e,t){return!(!e||!(0,r.isOn)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,r.hasOwn)(e,t[0].toLowerCase()+t.slice(1))||(0,r.hasOwn)(e,(0,r.hyphenate)(t))||(0,r.hasOwn)(e,t))}let $=null,G=null;function K(e){const t=$;return $=e,G=e&&e.type.__scopeId||null,t}function Z(e){G=e}function Q(){G=null}const J=e=>ee;function ee(e,t=$,n){if(!t)return e;if(e._n)return e;const i=(...n)=>{i._d&&Un(-1);const r=K(t),s=e(...n);return K(r),i._d&&Un(1),s};return i._n=!0,i._c=!0,i._d=!0,i}function te(e){const{type:t,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[a],slots:l,attrs:c,emit:u,render:h,renderCache:d,data:f,setupState:g,ctx:m,inheritAttrs:v}=e;let y,b;const x=K(e);try{if(4&n.shapeFlag){const e=s||i;y=ai(h.call(e,e,d,o,g,f,m)),b=c}else{const e=t;0,y=ai(e.length>1?e(o,{attrs:c,slots:l,emit:u}):e(o,null)),b=t.props?c:ie(c)}}catch(_){Fn.length=0,p(_,e,1),y=ei(Mn)}let w=y;if(b&&!1!==v){const e=Object.keys(b),{shapeFlag:t}=w;e.length&&7&t&&(a&&e.some(r.isModelListener)&&(b=re(b,a)),w=ii(w,b))}return n.dirs&&(w=ii(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),y=w,K(x),y}function ne(e){let t;for(let n=0;n<e.length;n++){const i=e[n];if(!Xn(i))return;if(i.type!==Mn||"v-if"===i.children){if(t)return;t=i}}return t}const ie=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,r.isOn)(n))&&((t||(t={}))[n]=e[n]);return t},re=(e,t)=>{const n={};for(const i in e)(0,r.isModelListener)(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function se(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||i!==o&&(i?!o||oe(i,o,c):!!o);if(1024&l)return!0;if(16&l)return i?oe(i,o,c):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==i[n]&&!X(c,n))return!0}}return!1}function oe(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!X(n,s))return!0}return!1}function ae({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const le=e=>e.__isSuspense,ce={name:"Suspense",__isSuspense:!0,process(e,t,n,i,r,s,o,a,l,c){null==e?de(t,n,i,r,s,o,a,l,c):fe(e,t,n,i,r,o,a,l,c)},hydrate:ge,create:pe,normalize:me},ue=ce;function he(e,t){const n=e.props&&e.props[t];(0,r.isFunction)(n)&&n()}function de(e,t,n,i,r,s,o,a,l){const{p:c,o:{createElement:u}}=l,h=u("div"),d=e.suspense=pe(e,r,i,t,h,n,s,o,a,l);c(null,d.pendingBranch=e.ssContent,h,null,i,d,s,o),d.deps>0?(he(e,"onPending"),he(e,"onFallback"),c(null,e.ssFallback,t,n,i,null,s,o),be(d,e.ssFallback)):d.resolve()}function fe(e,t,n,i,r,s,o,a,{p:l,um:c,o:{createElement:u}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const d=t.ssContent,f=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:v}=h;if(g)h.pendingBranch=d,$n(d,g)?(l(g,d,h.hiddenContainer,null,r,h,s,o,a),h.deps<=0?h.resolve():m&&(l(p,f,n,i,r,null,s,o,a),be(h,f))):(h.pendingId++,v?(h.isHydrating=!1,h.activeBranch=g):c(g,r,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),m?(l(null,d,h.hiddenContainer,null,r,h,s,o,a),h.deps<=0?h.resolve():(l(p,f,n,i,r,null,s,o,a),be(h,f))):p&&$n(d,p)?(l(p,d,n,i,r,h,s,o,a),h.resolve(!0)):(l(null,d,h.hiddenContainer,null,r,h,s,o,a),h.deps<=0&&h.resolve()));else if(p&&$n(d,p))l(p,d,n,i,r,h,s,o,a),be(h,d);else if(he(t,"onPending"),h.pendingBranch=d,h.pendingId++,l(null,d,h.hiddenContainer,null,r,h,s,o,a),h.deps<=0)h.resolve();else{const{timeout:e,pendingId:t}=h;e>0?setTimeout((()=>{h.pendingId===t&&h.fallback(f)}),e):0===e&&h.fallback(f)}}function pe(e,t,n,i,s,o,a,l,c,u,h=!1){const{p:d,m:f,um:g,n:m,o:{parentNode:v,remove:y}}=u,b=(0,r.toNumber)(e.props&&e.props.timeout),x={vnode:e,parent:t,parentComponent:n,isSVG:a,container:i,hiddenContainer:s,anchor:o,deps:0,pendingId:0,timeout:"number"===typeof b?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(e=!1){const{vnode:t,activeBranch:n,pendingBranch:i,pendingId:r,effects:s,parentComponent:o,container:a}=x;if(x.isHydrating)x.isHydrating=!1;else if(!e){const e=n&&i.transition&&"out-in"===i.transition.mode;e&&(n.transition.afterLeave=()=>{r===x.pendingId&&f(i,a,t,0)});let{anchor:t}=x;n&&(t=m(n),g(n,o,x,!0)),e||f(i,a,t,0)}be(x,i),x.pendingBranch=null,x.isInFallback=!1;let l=x.parent,c=!1;while(l){if(l.pendingBranch){l.effects.push(...s),c=!0;break}l=l.parent}c||D(s),x.effects=[],he(t,"onResolve")},fallback(e){if(!x.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:i,container:r,isSVG:s}=x;he(t,"onFallback");const o=m(n),a=()=>{x.isInFallback&&(d(null,e,r,o,i,null,s,l,c),be(x,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(n.transition.afterLeave=a),x.isInFallback=!0,g(n,i,null,!0),u||a()},move(e,t,n){x.activeBranch&&f(x.activeBranch,e,t,n),x.container=e},next(){return x.activeBranch&&m(x.activeBranch)},registerDep(e,t){const n=!!x.pendingBranch;n&&x.deps++;const i=e.vnode.el;e.asyncDep.catch((t=>{p(t,e,0)})).then((r=>{if(e.isUnmounted||x.isUnmounted||x.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:s}=e;Ci(e,r,!1),i&&(s.el=i);const o=!i&&e.subTree.el;t(e,s,v(i||e.subTree.el),i?null:m(e.subTree),x,a,c),o&&y(o),ae(e,s.el),n&&0===--x.deps&&x.resolve()}))},unmount(e,t){x.isUnmounted=!0,x.activeBranch&&g(x.activeBranch,n,e,t),x.pendingBranch&&g(x.pendingBranch,n,e,t)}};return x}function ge(e,t,n,i,r,s,o,a,l){const c=t.suspense=pe(t,i,n,e.parentNode,document.createElement("div"),null,r,s,o,a,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,s,o);return 0===c.deps&&c.resolve(),u}function me(e){const{shapeFlag:t,children:n}=e,i=32&t;e.ssContent=ve(i?n.default:n),e.ssFallback=i?ve(n.fallback):ei(Mn)}function ve(e){let t;if((0,r.isFunction)(e)){const n=Hn&&e._c;n&&(e._d=!1,Bn()),e=e(),n&&(e._d=!0,t=zn,qn())}if((0,r.isArray)(e)){const t=ne(e);0,e=t}return e=ai(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function ye(e,t){t&&t.pendingBranch?(0,r.isArray)(e)?t.effects.push(...e):t.effects.push(e):D(e)}function be(e,t){e.activeBranch=t;const{vnode:n,parentComponent:i}=e,r=n.el=t.el;i&&i.subTree===n&&(i.vnode.el=r,ae(i,r))}function xe(e,t){if(gi){let n=gi.provides;const i=gi.parent&&gi.parent.provides;i===n&&(n=gi.provides=Object.create(i)),n[e]=t}else 0}function we(e,t,n=!1){const i=gi||$;if(i){const s=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&(0,r.isFunction)(t)?t.call(i.proxy):t}else 0}function _e(e,t){return Te(e,null,t)}function Se(e,t){return Te(e,null,{flush:"post"})}function ke(e,t){return Te(e,null,{flush:"sync"})}const Ce={};function Ae(e,t,n){return Te(e,t,n)}function Te(e,t,{immediate:n,deep:s,flush:o,onTrack:a,onTrigger:l}=r.EMPTY_OBJ){const c=gi;let u,h,p=!1,g=!1;if((0,i.dq)(e)?(u=()=>e.value,p=(0,i.yT)(e)):(0,i.PG)(e)?(u=()=>e,s=!0):(0,r.isArray)(e)?(g=!0,p=e.some((e=>(0,i.PG)(e)||(0,i.yT)(e))),u=()=>e.map((e=>(0,i.dq)(e)?e.value:(0,i.PG)(e)?Pe(e):(0,r.isFunction)(e)?d(e,c,2):void 0))):u=(0,r.isFunction)(e)?t?()=>d(e,c,2):()=>{if(!c||!c.isUnmounted)return h&&h(),f(e,c,3,[m])}:r.NOOP,t&&s){const e=u;u=()=>Pe(e())}let m=e=>{h=x.onStop=()=>{d(e,c,4)}};if(_i)return m=r.NOOP,t?n&&f(t,c,3,[u(),g?[]:void 0,m]):u(),r.NOOP;let v=g?[]:Ce;const y=()=>{if(x.active)if(t){const e=x.run();(s||p||(g?e.some(((e,t)=>(0,r.hasChanged)(e,v[t]))):(0,r.hasChanged)(e,v)))&&(h&&h(),f(t,c,3,[e,v===Ce?void 0:v,m]),v=e)}else x.run()};let b;y.allowRecurse=!!t,b="sync"===o?y:"post"===o?()=>yn(y,c&&c.suspense):()=>M(y);const x=new i.qq(u,b);return t?n?y():v=x.run():"post"===o?yn(x.run.bind(x),c&&c.suspense):x.run(),()=>{x.stop(),c&&c.scope&&(0,r.remove)(c.scope.effects,x)}}function Ie(e,t,n){const i=this.proxy,s=(0,r.isString)(e)?e.includes(".")?Ee(i,e):()=>i[e]:e.bind(i,i);let o;(0,r.isFunction)(t)?o=t:(o=t.handler,n=t);const a=gi;vi(this);const l=Te(s,o.bind(i),n);return a?vi(a):yi(),l}function Ee(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Pe(e,t){if(!(0,r.isObject)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,i.dq)(e))Pe(e.value,t);else if((0,r.isArray)(e))for(let n=0;n<e.length;n++)Pe(e[n],t);else if((0,r.isSet)(e)||(0,r.isMap)(e))e.forEach((e=>{Pe(e,t)}));else if((0,r.isPlainObject)(e))for(const n in e)Pe(e[n],t);return e}function Re(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return rt((()=>{e.isMounted=!0})),at((()=>{e.isUnmounting=!0})),e}const Le=[Function,Array],Ne={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Le,onEnter:Le,onAfterEnter:Le,onEnterCancelled:Le,onBeforeLeave:Le,onLeave:Le,onAfterLeave:Le,onLeaveCancelled:Le,onBeforeAppear:Le,onAppear:Le,onAfterAppear:Le,onAppearCancelled:Le},setup(e,{slots:t}){const n=mi(),r=Re();let s;return()=>{const o=t.default&&qe(t.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){let e=!1;for(const t of o)if(t.type!==Mn){0,a=t,e=!0;break}}const l=(0,i.IU)(e),{mode:c}=l;if(r.isLeaving)return Fe(a);const u=ze(a);if(!u)return Fe(a);const h=De(u,l,r,n);Be(u,h);const d=n.subTree,f=d&&ze(d);let p=!1;const{getTransitionKey:g}=u.type;if(g){const e=g();void 0===s?s=e:e!==s&&(s=e,p=!0)}if(f&&f.type!==Mn&&(!$n(u,f)||p)){const e=De(f,l,r,n);if(Be(f,e),"out-in"===c)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},Fe(a);"in-out"===c&&u.type!==Mn&&(e.delayLeave=(e,t,n)=>{const i=Me(r,f);i[String(f.key)]=f,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}},Oe=Ne;function Me(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function De(e,t,n,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:d,onLeave:p,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:x}=t,w=String(e.key),_=Me(n,e),S=(e,t)=>{e&&f(e,i,9,t)},k=(e,t)=>{const n=t[1];S(e,t),(0,r.isArray)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},C={mode:o,persisted:a,beforeEnter(t){let i=l;if(!n.isMounted){if(!s)return;i=v||l}t._leaveCb&&t._leaveCb(!0);const r=_[w];r&&$n(e,r)&&r.el._leaveCb&&r.el._leaveCb(),S(i,[t])},enter(e){let t=c,i=u,r=h;if(!n.isMounted){if(!s)return;t=y||c,i=b||u,r=x||h}let o=!1;const a=e._enterCb=t=>{o||(o=!0,S(t?r:i,[e]),C.delayedLeave&&C.delayedLeave(),e._enterCb=void 0)};t?k(t,[e,a]):a()},leave(t,i){const r=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return i();S(d,[t]);let s=!1;const o=t._leaveCb=n=>{s||(s=!0,i(),S(n?m:g,[t]),t._leaveCb=void 0,_[r]===e&&delete _[r])};_[r]=e,p?k(p,[t,o]):o()},clone(e){return De(e,t,n,i)}};return C}function Fe(e){if(Ye(e))return e=ii(e),e.children=null,e}function ze(e){return Ye(e)?e.children?e.children[0]:void 0:e}function Be(e,t){6&e.shapeFlag&&e.component?Be(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function qe(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let o=e[s];const a=null==n?o.key:String(n)+String(null!=o.key?o.key:s);o.type===Nn?(128&o.patchFlag&&r++,i=i.concat(qe(o.children,t,a))):(t||o.type!==Mn)&&i.push(null!=a?ii(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function Ve(e){return(0,r.isFunction)(e)?{setup:e,name:e.name}:e}const He=e=>!!e.type.__asyncLoader;function Ue(e){(0,r.isFunction)(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:s,delay:o=200,timeout:a,suspensible:l=!0,onError:c}=e;let u,h=null,d=0;const f=()=>(d++,h=null,g()),g=()=>{let e;return h||(e=h=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),c)return new Promise(((t,n)=>{const i=()=>t(f()),r=()=>n(e);c(e,i,r,d+1)}));throw e})).then((t=>e!==h&&h?h:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),u=t,t))))};return Ve({name:"AsyncComponentWrapper",__asyncLoader:g,get __asyncResolved(){return u},setup(){const e=gi;if(u)return()=>je(u,e);const t=t=>{h=null,p(t,e,13,!s)};if(l&&e.suspense||_i)return g().then((t=>()=>je(t,e))).catch((e=>(t(e),()=>s?ei(s,{error:e}):null)));const r=(0,i.iH)(!1),c=(0,i.iH)(),d=(0,i.iH)(!!o);return o&&setTimeout((()=>{d.value=!1}),o),null!=a&&setTimeout((()=>{if(!r.value&&!c.value){const e=new Error(`Async component timed out after ${a}ms.`);t(e),c.value=e}}),a),g().then((()=>{r.value=!0,e.parent&&Ye(e.parent.vnode)&&R(e.parent.update)})).catch((e=>{t(e),c.value=e})),()=>r.value&&u?je(u,e):c.value&&s?ei(s,{error:c.value}):n&&!d.value?ei(n):void 0}})}function je(e,{vnode:{ref:t,props:n,children:i,shapeFlag:r},parent:s}){const o=ei(e,n,i);return o.ref=t,o}const Ye=e=>e.type.__isKeepAlive,We={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=mi(),i=n.ctx;if(!i.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const s=new Map,o=new Set;let a=null;const l=n.suspense,{renderer:{p:c,m:u,um:h,o:{createElement:d}}}=i,f=d("div");function p(e){Je(e),h(e,n,l,!0)}function g(e){s.forEach(((t,n)=>{const i=Oi(t.type);!i||e&&e(i)||m(n)}))}function m(e){const t=s.get(e);a&&t.type===a.type?a&&Je(a):p(t),s.delete(e),o.delete(e)}i.activate=(e,t,n,i,s)=>{const o=e.component;u(e,t,n,0,l),c(o.vnode,e,t,n,o,l,i,e.slotScopeIds,s),yn((()=>{o.isDeactivated=!1,o.a&&(0,r.invokeArrayFns)(o.a);const t=e.props&&e.props.onVnodeMounted;t&&hi(t,o.parent,e)}),l)},i.deactivate=e=>{const t=e.component;u(e,f,null,1,l),yn((()=>{t.da&&(0,r.invokeArrayFns)(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&hi(n,t.parent,e),t.isDeactivated=!0}),l)},Ae((()=>[e.include,e.exclude]),(([e,t])=>{e&&g((t=>$e(e,t))),t&&g((e=>!$e(t,e)))}),{flush:"post",deep:!0});let v=null;const y=()=>{null!=v&&s.set(v,et(n.subTree))};return rt(y),ot(y),at((()=>{s.forEach((e=>{const{subTree:t,suspense:i}=n,r=et(t);if(e.type!==r.type)p(e);else{Je(r);const e=r.component.da;e&&yn(e,i)}}))})),()=>{if(v=null,!t.default)return null;const n=t.default(),i=n[0];if(n.length>1)return a=null,n;if(!Xn(i)||!(4&i.shapeFlag)&&!(128&i.shapeFlag))return a=null,i;let r=et(i);const l=r.type,c=Oi(He(r)?r.type.__asyncResolved||{}:l),{include:u,exclude:h,max:d}=e;if(u&&(!c||!$e(u,c))||h&&c&&$e(h,c))return a=r,i;const f=null==r.key?l:r.key,p=s.get(f);return r.el&&(r=ii(r),128&i.shapeFlag&&(i.ssContent=r)),v=f,p?(r.el=p.el,r.component=p.component,r.transition&&Be(r,r.transition),r.shapeFlag|=512,o.delete(f),o.add(f)):(o.add(f),d&&o.size>parseInt(d,10)&&m(o.values().next().value)),r.shapeFlag|=256,a=r,le(i.type)?i:r}}},Xe=We;function $e(e,t){return(0,r.isArray)(e)?e.some((e=>$e(e,t))):(0,r.isString)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function Ge(e,t){Ze(e,"a",t)}function Ke(e,t){Ze(e,"da",t)}function Ze(e,t,n=gi){const i=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(tt(t,i,n),n){let e=n.parent;while(e&&e.parent)Ye(e.parent.vnode)&&Qe(i,t,n,e),e=e.parent}}function Qe(e,t,n,i){const s=tt(t,e,i,!0);lt((()=>{(0,r.remove)(i[t],s)}),n)}function Je(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function et(e){return 128&e.shapeFlag?e.ssContent:e}function tt(e,t,n=gi,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;(0,i.Jd)(),vi(n);const s=f(t,n,e,r);return yi(),(0,i.lk)(),s});return r?s.unshift(o):s.push(o),o}}const nt=e=>(t,n=gi)=>(!_i||"sp"===e)&&tt(e,t,n),it=nt("bm"),rt=nt("m"),st=nt("bu"),ot=nt("u"),at=nt("bum"),lt=nt("um"),ct=nt("sp"),ut=nt("rtg"),ht=nt("rtc");function dt(e,t=gi){tt("ec",e,t)}function ft(e,t){const n=$;if(null===n)return e;const i=Ri(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,n,a,l=r.EMPTY_OBJ]=t[o];(0,r.isFunction)(e)&&(e={mounted:e,updated:e}),e.deep&&Pe(n),s.push({dir:e,instance:i,value:n,oldValue:void 0,arg:a,modifiers:l})}return e}function pt(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let a=0;a<s.length;a++){const l=s[a];o&&(l.oldValue=o[a].value);let c=l.dir[r];c&&((0,i.Jd)(),f(c,n,8,[e.el,l,e,t]),(0,i.lk)())}}const gt="components",mt="directives";function vt(e,t){return wt(gt,e,!0,t)||e}const yt=Symbol();function bt(e){return(0,r.isString)(e)?wt(gt,e,!1)||e:e||yt}function xt(e){return wt(mt,e)}function wt(e,t,n=!0,i=!1){const s=$||gi;if(s){const n=s.type;if(e===gt){const e=Oi(n);if(e&&(e===t||e===(0,r.camelize)(t)||e===(0,r.capitalize)((0,r.camelize)(t))))return n}const o=_t(s[e]||n[e],t)||_t(s.appContext[e],t);return!o&&i?n:o}}function _t(e,t){return e&&(e[t]||e[(0,r.camelize)(t)]||e[(0,r.capitalize)((0,r.camelize)(t))])}function St(e,t,n,i){let s;const o=n&&n[i];if((0,r.isArray)(e)||(0,r.isString)(e)){s=new Array(e.length);for(let n=0,i=e.length;n<i;n++)s[n]=t(e[n],n,void 0,o&&o[n])}else if("number"===typeof e){0,s=new Array(e);for(let n=0;n<e;n++)s[n]=t(n+1,n,void 0,o&&o[n])}else if((0,r.isObject)(e))if(e[Symbol.iterator])s=Array.from(e,((e,n)=>t(e,n,void 0,o&&o[n])));else{const n=Object.keys(e);s=new Array(n.length);for(let i=0,r=n.length;i<r;i++){const r=n[i];s[i]=t(e[r],r,i,o&&o[i])}}else s=[];return n&&(n[i]=s),s}function kt(e,t){for(let n=0;n<t.length;n++){const i=t[n];if((0,r.isArray)(i))for(let t=0;t<i.length;t++)e[i[t].name]=i[t].fn;else i&&(e[i.name]=i.fn)}return e}function Ct(e,t,n={},i,r){if($.isCE||$.parent&&He($.parent)&&$.parent.isCE)return ei("slot","default"===t?null:{name:t},i&&i());let s=e[t];s&&s._c&&(s._d=!1),Bn();const o=s&&At(s(n)),a=Wn(Nn,{key:n.key||`_${t}`},o||(i?i():[]),o&&1===e._?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function At(e){return e.some((e=>!Xn(e)||e.type!==Mn&&!(e.type===Nn&&!At(e.children))))?e:null}function Tt(e){const t={};for(const n in e)t[(0,r.toHandlerKey)(n)]=e[n];return t}const It=e=>e?bi(e)?Ri(e)||e.proxy:It(e.parent):null,Et=(0,r.extend)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>It(e.parent),$root:e=>It(e.root),$emit:e=>e.emit,$options:e=>Ft(e),$forceUpdate:e=>e.f||(e.f=()=>R(e.update)),$nextTick:e=>e.n||(e.n=E.bind(e.proxy)),$watch:e=>Ie.bind(e)}),Pt={get({_:e},t){const{ctx:n,setupState:s,data:o,props:a,accessCache:l,type:c,appContext:u}=e;let h;if("$"!==t[0]){const i=l[t];if(void 0!==i)switch(i){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(s!==r.EMPTY_OBJ&&(0,r.hasOwn)(s,t))return l[t]=1,s[t];if(o!==r.EMPTY_OBJ&&(0,r.hasOwn)(o,t))return l[t]=2,o[t];if((h=e.propsOptions[0])&&(0,r.hasOwn)(h,t))return l[t]=3,a[t];if(n!==r.EMPTY_OBJ&&(0,r.hasOwn)(n,t))return l[t]=4,n[t];Lt&&(l[t]=0)}}const d=Et[t];let f,p;return d?("$attrs"===t&&(0,i.j)(e,"get",t),d(e)):(f=c.__cssModules)&&(f=f[t])?f:n!==r.EMPTY_OBJ&&(0,r.hasOwn)(n,t)?(l[t]=4,n[t]):(p=u.config.globalProperties,(0,r.hasOwn)(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:i,setupState:s,ctx:o}=e;return s!==r.EMPTY_OBJ&&(0,r.hasOwn)(s,t)?(s[t]=n,!0):i!==r.EMPTY_OBJ&&(0,r.hasOwn)(i,t)?(i[t]=n,!0):!(0,r.hasOwn)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:o}},a){let l;return!!n[a]||e!==r.EMPTY_OBJ&&(0,r.hasOwn)(e,a)||t!==r.EMPTY_OBJ&&(0,r.hasOwn)(t,a)||(l=o[0])&&(0,r.hasOwn)(l,a)||(0,r.hasOwn)(i,a)||(0,r.hasOwn)(Et,a)||(0,r.hasOwn)(s.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,r.hasOwn)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};const Rt=(0,r.extend)({},Pt,{get(e,t){if(t!==Symbol.unscopables)return Pt.get(e,t,e)},has(e,t){const n="_"!==t[0]&&!(0,r.isGloballyWhitelisted)(t);return n}});let Lt=!0;function Nt(e){const t=Ft(e),n=e.proxy,s=e.ctx;Lt=!1,t.beforeCreate&&Mt(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:l,watch:c,provide:u,inject:h,created:d,beforeMount:f,mounted:p,beforeUpdate:g,updated:m,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:x,destroyed:w,unmounted:_,render:S,renderTracked:k,renderTriggered:C,errorCaptured:A,serverPrefetch:T,expose:I,inheritAttrs:E,components:P,directives:R,filters:L}=t,N=null;if(h&&Ot(h,s,N,e.appContext.config.unwrapInjectedRef),l)for(const i in l){const e=l[i];(0,r.isFunction)(e)&&(s[i]=e.bind(n))}if(o){0;const t=o.call(n,n);0,(0,r.isObject)(t)&&(e.data=(0,i.qj)(t))}if(Lt=!0,a)for(const i in a){const e=a[i],t=(0,r.isFunction)(e)?e.bind(n,n):(0,r.isFunction)(e.get)?e.get.bind(n,n):r.NOOP;0;const o=!(0,r.isFunction)(e)&&(0,r.isFunction)(e.set)?e.set.bind(n):r.NOOP,l=Fi({get:t,set:o});Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const i in c)Dt(c[i],s,n,i);if(u){const e=(0,r.isFunction)(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{xe(t,e[t])}))}function O(e,t){(0,r.isArray)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&Mt(d,e,"c"),O(it,f),O(rt,p),O(st,g),O(ot,m),O(Ge,v),O(Ke,y),O(dt,A),O(ht,k),O(ut,C),O(at,x),O(lt,_),O(ct,T),(0,r.isArray)(I))if(I.length){const t=e.exposed||(e.exposed={});I.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});S&&e.render===r.NOOP&&(e.render=S),null!=E&&(e.inheritAttrs=E),P&&(e.components=P),R&&(e.directives=R)}function Ot(e,t,n=r.NOOP,s=!1){(0,r.isArray)(e)&&(e=Ht(e));for(const o in e){const n=e[o];let a;a=(0,r.isObject)(n)?"default"in n?we(n.from||o,n.default,!0):we(n.from||o):we(n),(0,i.dq)(a)&&s?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[o]=a}}function Mt(e,t,n){f((0,r.isArray)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Dt(e,t,n,i){const s=i.includes(".")?Ee(n,i):()=>n[i];if((0,r.isString)(e)){const n=t[e];(0,r.isFunction)(n)&&Ae(s,n)}else if((0,r.isFunction)(e))Ae(s,e.bind(n));else if((0,r.isObject)(e))if((0,r.isArray)(e))e.forEach((e=>Dt(e,t,n,i)));else{const i=(0,r.isFunction)(e.handler)?e.handler.bind(n):t[e.handler];(0,r.isFunction)(i)&&Ae(s,i,e)}else 0}function Ft(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:r.length||n||i?(l={},r.length&&r.forEach((e=>zt(l,e,o,!0))),zt(l,t,o)):l=t,s.set(t,l),l}function zt(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&zt(e,s,n,!0),r&&r.forEach((t=>zt(e,t,n,!0)));for(const o in t)if(i&&"expose"===o);else{const i=Bt[o]||n&&n[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const Bt={data:qt,props:jt,emits:jt,methods:jt,computed:jt,beforeCreate:Ut,created:Ut,beforeMount:Ut,mounted:Ut,beforeUpdate:Ut,updated:Ut,beforeDestroy:Ut,beforeUnmount:Ut,destroyed:Ut,unmounted:Ut,activated:Ut,deactivated:Ut,errorCaptured:Ut,serverPrefetch:Ut,components:jt,directives:jt,watch:Yt,provide:qt,inject:Vt};function qt(e,t){return t?e?function(){return(0,r.extend)((0,r.isFunction)(e)?e.call(this,this):e,(0,r.isFunction)(t)?t.call(this,this):t)}:t:e}function Vt(e,t){return jt(Ht(e),Ht(t))}function Ht(e){if((0,r.isArray)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ut(e,t){return e?[...new Set([].concat(e,t))]:t}function jt(e,t){return e?(0,r.extend)((0,r.extend)(Object.create(null),e),t):t}function Yt(e,t){if(!e)return t;if(!t)return e;const n=(0,r.extend)(Object.create(null),e);for(const i in t)n[i]=Ut(e[i],t[i]);return n}function Wt(e,t,n,s=!1){const o={},a={};(0,r.def)(a,Kn,1),e.propsDefaults=Object.create(null),$t(e,t,o,a);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=s?o:(0,i.Um)(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function Xt(e,t,n,s){const{props:o,attrs:a,vnode:{patchFlag:l}}=e,c=(0,i.IU)(o),[u]=e.propsOptions;let h=!1;if(!(s||l>0)||16&l){let i;$t(e,t,o,a)&&(h=!0);for(const s in c)t&&((0,r.hasOwn)(t,s)||(i=(0,r.hyphenate)(s))!==s&&(0,r.hasOwn)(t,i))||(u?!n||void 0===n[s]&&void 0===n[i]||(o[s]=Gt(u,c,s,void 0,e,!0)):delete o[s]);if(a!==c)for(const e in a)t&&(0,r.hasOwn)(t,e)||(delete a[e],h=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let s=n[i];if(X(e.emitsOptions,s))continue;const l=t[s];if(u)if((0,r.hasOwn)(a,s))l!==a[s]&&(a[s]=l,h=!0);else{const t=(0,r.camelize)(s);o[t]=Gt(u,c,t,l,e,!1)}else l!==a[s]&&(a[s]=l,h=!0)}}h&&(0,i.X$)(e,"set","$attrs")}function $t(e,t,n,s){const[o,a]=e.propsOptions;let l,c=!1;if(t)for(let i in t){if((0,r.isReservedProp)(i))continue;const u=t[i];let h;o&&(0,r.hasOwn)(o,h=(0,r.camelize)(i))?a&&a.includes(h)?(l||(l={}))[h]=u:n[h]=u:X(e.emitsOptions,i)||i in s&&u===s[i]||(s[i]=u,c=!0)}if(a){const t=(0,i.IU)(n),s=l||r.EMPTY_OBJ;for(let i=0;i<a.length;i++){const l=a[i];n[l]=Gt(o,t,l,s[l],e,!(0,r.hasOwn)(s,l))}}return c}function Gt(e,t,n,i,s,o){const a=e[n];if(null!=a){const e=(0,r.hasOwn)(a,"default");if(e&&void 0===i){const e=a.default;if(a.type!==Function&&(0,r.isFunction)(e)){const{propsDefaults:r}=s;n in r?i=r[n]:(vi(s),i=r[n]=e.call(null,t),yi())}else i=e}a[0]&&(o&&!e?i=!1:!a[1]||""!==i&&i!==(0,r.hyphenate)(n)||(i=!0))}return i}function Kt(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const o=e.props,a={},l=[];let c=!1;if(!(0,r.isFunction)(e)){const i=e=>{c=!0;const[n,i]=Kt(e,t,!0);(0,r.extend)(a,n),i&&l.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!o&&!c)return i.set(e,r.EMPTY_ARR),r.EMPTY_ARR;if((0,r.isArray)(o))for(let h=0;h<o.length;h++){0;const e=(0,r.camelize)(o[h]);Zt(e)&&(a[e]=r.EMPTY_OBJ)}else if(o){0;for(const e in o){const t=(0,r.camelize)(e);if(Zt(t)){const n=o[e],i=a[t]=(0,r.isArray)(n)||(0,r.isFunction)(n)?{type:n}:n;if(i){const e=en(Boolean,i.type),n=en(String,i.type);i[0]=e>-1,i[1]=n<0||e<n,(e>-1||(0,r.hasOwn)(i,"default"))&&l.push(t)}}}}const u=[a,l];return i.set(e,u),u}function Zt(e){return"$"!==e[0]}function Qt(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function Jt(e,t){return Qt(e)===Qt(t)}function en(e,t){return(0,r.isArray)(t)?t.findIndex((t=>Jt(t,e))):(0,r.isFunction)(t)&&Jt(t,e)?0:-1}const tn=e=>"_"===e[0]||"$stable"===e,nn=e=>(0,r.isArray)(e)?e.map(ai):[ai(e)],rn=(e,t,n)=>{if(t._n)return t;const i=ee(((...e)=>nn(t(...e))),n);return i._c=!1,i},sn=(e,t,n)=>{const i=e._ctx;for(const s in e){if(tn(s))continue;const n=e[s];if((0,r.isFunction)(n))t[s]=rn(s,n,i);else if(null!=n){0;const e=nn(n);t[s]=()=>e}}},on=(e,t)=>{const n=nn(t);e.slots.default=()=>n},an=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,i.IU)(t),(0,r.def)(t,"_",n)):sn(t,e.slots={})}else e.slots={},t&&on(e,t);(0,r.def)(e.slots,Kn,1)},ln=(e,t,n)=>{const{vnode:i,slots:s}=e;let o=!0,a=r.EMPTY_OBJ;if(32&i.shapeFlag){const e=t._;e?n&&1===e?o=!1:((0,r.extend)(s,t),n||1!==e||delete s._):(o=!t.$stable,sn(t,s)),a=t}else t&&(on(e,t),a={default:1});if(o)for(const r in s)tn(r)||r in a||delete s[r]};function cn(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let un=0;function hn(e,t){return function(n,i=null){(0,r.isFunction)(n)||(n=Object.assign({},n)),null==i||(0,r.isObject)(i)||(i=null);const s=cn(),o=new Set;let a=!1;const l=s.app={_uid:un++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:er,get config(){return s.config},set config(e){0},use(e,...t){return o.has(e)||(e&&(0,r.isFunction)(e.install)?(o.add(e),e.install(l,...t)):(0,r.isFunction)(e)&&(o.add(e),e(l,...t))),l},mixin(e){return s.mixins.includes(e)||s.mixins.push(e),l},component(e,t){return t?(s.components[e]=t,l):s.components[e]},directive(e,t){return t?(s.directives[e]=t,l):s.directives[e]},mount(r,o,c){if(!a){0;const u=ei(n,i);return u.appContext=s,o&&t?t(u,r):e(u,r,c),a=!0,l._container=r,r.__vue_app__=l,Ri(u.component)||u.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return s.provides[e]=t,l}};return l}}function dn(e,t,n,s,o=!1){if((0,r.isArray)(e))return void e.forEach(((e,i)=>dn(e,t&&((0,r.isArray)(t)?t[i]:t),n,s,o)));if(He(s)&&!o)return;const a=4&s.shapeFlag?Ri(s.component)||s.component.proxy:s.el,l=o?null:a,{i:c,r:u}=e;const h=t&&t.r,f=c.refs===r.EMPTY_OBJ?c.refs={}:c.refs,p=c.setupState;if(null!=h&&h!==u&&((0,r.isString)(h)?(f[h]=null,(0,r.hasOwn)(p,h)&&(p[h]=null)):(0,i.dq)(h)&&(h.value=null)),(0,r.isFunction)(u))d(u,c,12,[l,f]);else{const t=(0,r.isString)(u),s=(0,i.dq)(u);if(t||s){const s=()=>{if(e.f){const n=t?f[u]:u.value;o?(0,r.isArray)(n)&&(0,r.remove)(n,a):(0,r.isArray)(n)?n.includes(a)||n.push(a):t?(f[u]=[a],(0,r.hasOwn)(p,u)&&(p[u]=f[u])):(u.value=[a],e.k&&(f[e.k]=u.value))}else t?(f[u]=l,(0,r.hasOwn)(p,u)&&(p[u]=l)):(0,i.dq)(u)&&(u.value=l,e.k&&(f[e.k]=l))};l?(s.id=-1,yn(s,n)):s()}else 0}}let fn=!1;const pn=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,gn=e=>8===e.nodeType;function mn(e){const{mt:t,p:n,o:{patchProp:i,createText:s,nextSibling:o,parentNode:a,remove:l,insert:c,createComment:u}}=e,h=(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),void z();fn=!1,d(t.firstChild,e,null,null,null),z(),fn&&console.error("Hydration completed but contains mismatches.")},d=(n,i,r,l,u,h=!1)=>{const y=gn(n)&&"["===n.data,b=()=>m(n,i,r,l,u,y),{type:x,ref:w,shapeFlag:_,patchFlag:S}=i,k=n.nodeType;i.el=n,-2===S&&(h=!1,i.dynamicChildren=null);let C=null;switch(x){case On:3!==k?""===i.children?(c(i.el=s(""),a(n),n),C=n):C=b():(n.data!==i.children&&(fn=!0,n.data=i.children),C=o(n));break;case Mn:C=8!==k||y?b():o(n);break;case Dn:if(1===k){C=n;const e=!i.children.length;for(let t=0;t<i.staticCount;t++)e&&(i.children+=C.outerHTML),t===i.staticCount-1&&(i.anchor=C),C=o(C);return C}C=b();break;case Nn:C=y?g(n,i,r,l,u,h):b();break;default:if(1&_)C=1!==k||i.type.toLowerCase()!==n.tagName.toLowerCase()?b():f(n,i,r,l,u,h);else if(6&_){i.slotScopeIds=u;const e=a(n);if(t(i,e,null,r,l,pn(e),h),C=y?v(n):o(n),C&&gn(C)&&"teleport end"===C.data&&(C=o(C)),He(i)){let t;y?(t=ei(Nn),t.anchor=C?C.previousSibling:e.lastChild):t=3===n.nodeType?ri(""):ei("div"),t.el=n,i.component.subTree=t}}else 64&_?C=8!==k?b():i.type.hydrate(n,i,r,l,u,h,e,p):128&_&&(C=i.type.hydrate(n,i,r,l,pn(a(n)),u,h,e,d))}return null!=w&&dn(w,null,l,i),C},f=(e,t,n,s,o,a)=>{a=a||!!t.dynamicChildren;const{type:c,props:u,patchFlag:h,shapeFlag:d,dirs:f}=t,g="input"===c&&f||"option"===c;if(g||-1!==h){if(f&&pt(t,null,n,"created"),u)if(g||!a||48&h)for(const t in u)(g&&t.endsWith("value")||(0,r.isOn)(t)&&!(0,r.isReservedProp)(t))&&i(e,t,null,u[t],!1,void 0,n);else u.onClick&&i(e,"onClick",null,u.onClick,!1,void 0,n);let c;if((c=u&&u.onVnodeBeforeMount)&&hi(c,n,t),f&&pt(t,null,n,"beforeMount"),((c=u&&u.onVnodeMounted)||f)&&ye((()=>{c&&hi(c,n,t),f&&pt(t,null,n,"mounted")}),s),16&d&&(!u||!u.innerHTML&&!u.textContent)){let i=p(e.firstChild,t,e,n,s,o,a);while(i){fn=!0;const e=i;i=i.nextSibling,l(e)}}else 8&d&&e.textContent!==t.children&&(fn=!0,e.textContent=t.children)}return e.nextSibling},p=(e,t,i,r,s,o,a)=>{a=a||!!t.dynamicChildren;const l=t.children,c=l.length;for(let u=0;u<c;u++){const t=a?l[u]:l[u]=ai(l[u]);if(e)e=d(e,t,r,s,o,a);else{if(t.type===On&&!t.children)continue;fn=!0,n(null,t,i,null,r,s,pn(i),o)}}return e},g=(e,t,n,i,r,s)=>{const{slotScopeIds:l}=t;l&&(r=r?r.concat(l):l);const h=a(e),d=p(o(e),t,h,n,i,r,s);return d&&gn(d)&&"]"===d.data?o(t.anchor=d):(fn=!0,c(t.anchor=u("]"),h,d),d)},m=(e,t,i,r,s,c)=>{if(fn=!0,t.el=null,c){const t=v(e);while(1){const n=o(e);if(!n||n===t)break;l(n)}}const u=o(e),h=a(e);return l(e),n(null,t,h,u,i,r,pn(h),s),u},v=e=>{let t=0;while(e)if(e=o(e),e&&gn(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return o(e);t--}return e};return[h,d]}function vn(){}const yn=ye;function bn(e){return wn(e)}function xn(e){return wn(e,mn)}function wn(e,t){vn();const n=(0,r.getGlobalThis)();n.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:l,createText:c,createComment:u,setText:h,setElementText:d,parentNode:f,nextSibling:p,setScopeId:g=r.NOOP,cloneNode:m,insertStaticContent:v}=e,y=(e,t,n,i=null,r=null,s=null,o=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!$n(e,t)&&(i=K(e),Y(e,r,s,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case On:b(e,t,n,i);break;case Mn:x(e,t,n,i);break;case Dn:null==e&&w(t,n,i,o);break;case Nn:L(e,t,n,i,r,s,o,a,l);break;default:1&h?k(e,t,n,i,r,s,o,a,l):6&h?O(e,t,n,i,r,s,o,a,l):(64&h||128&h)&&c.process(e,t,n,i,r,s,o,a,l,Q)}null!=u&&r&&dn(u,e&&e.ref,s,t||e,!t)},b=(e,t,n,i)=>{if(null==e)s(t.el=c(t.children),n,i);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},x=(e,t,n,i)=>{null==e?s(t.el=u(t.children||""),n,i):t.el=e.el},w=(e,t,n,i)=>{[e.el,e.anchor]=v(e.children,t,n,i,e.el,e.anchor)},_=({el:e,anchor:t},n,i)=>{let r;while(e&&e!==t)r=p(e),s(e,n,i),e=r;s(t,n,i)},S=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=p(e),o(e),e=n;o(t)},k=(e,t,n,i,r,s,o,a,l)=>{o=o||"svg"===t.type,null==e?C(t,n,i,r,s,o,a,l):I(e,t,r,s,o,a,l)},C=(e,t,n,i,o,c,u,h)=>{let f,p;const{type:g,props:v,shapeFlag:y,transition:b,patchFlag:x,dirs:w}=e;if(e.el&&void 0!==m&&-1===x)f=e.el=m(e.el);else{if(f=e.el=l(e.type,c,v&&v.is,v),8&y?d(f,e.children):16&y&&T(e.children,f,null,i,o,c&&"foreignObject"!==g,u,h),w&&pt(e,null,i,"created"),v){for(const t in v)"value"===t||(0,r.isReservedProp)(t)||a(f,t,null,v[t],c,e.children,i,o,G);"value"in v&&a(f,"value",null,v.value),(p=v.onVnodeBeforeMount)&&hi(p,i,e)}A(f,e,e.scopeId,u,i)}w&&pt(e,null,i,"beforeMount");const _=(!o||o&&!o.pendingBranch)&&b&&!b.persisted;_&&b.beforeEnter(f),s(f,t,n),((p=v&&v.onVnodeMounted)||_||w)&&yn((()=>{p&&hi(p,i,e),_&&b.enter(f),w&&pt(e,null,i,"mounted")}),o)},A=(e,t,n,i,r)=>{if(n&&g(e,n),i)for(let s=0;s<i.length;s++)g(e,i[s]);if(r){let n=r.subTree;if(t===n){const t=r.vnode;A(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},T=(e,t,n,i,r,s,o,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?li(e[c]):ai(e[c]);y(null,l,t,n,i,r,s,o,a)}},I=(e,t,n,i,s,o,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:f}=t;u|=16&e.patchFlag;const p=e.props||r.EMPTY_OBJ,g=t.props||r.EMPTY_OBJ;let m;n&&_n(n,!1),(m=g.onVnodeBeforeUpdate)&&hi(m,n,t,e),f&&pt(t,e,n,"beforeUpdate"),n&&_n(n,!0);const v=s&&"foreignObject"!==t.type;if(h?E(e.dynamicChildren,h,c,n,i,v,o):l||V(e,t,c,null,n,i,v,o,!1),u>0){if(16&u)P(c,t,p,g,n,i,s);else if(2&u&&p.class!==g.class&&a(c,"class",null,g.class,s),4&u&&a(c,"style",p.style,g.style,s),8&u){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const o=r[t],l=p[o],u=g[o];u===l&&"value"!==o||a(c,o,l,u,s,e.children,n,i,G)}}1&u&&e.children!==t.children&&d(c,t.children)}else l||null!=h||P(c,t,p,g,n,i,s);((m=g.onVnodeUpdated)||f)&&yn((()=>{m&&hi(m,n,t,e),f&&pt(t,e,n,"updated")}),i)},E=(e,t,n,i,r,s,o)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===Nn||!$n(l,c)||70&l.shapeFlag)?f(l.el):n;y(l,c,u,null,i,r,s,o,!0)}},P=(e,t,n,i,s,o,l)=>{if(n!==i){for(const c in i){if((0,r.isReservedProp)(c))continue;const u=i[c],h=n[c];u!==h&&"value"!==c&&a(e,c,h,u,l,t.children,s,o,G)}if(n!==r.EMPTY_OBJ)for(const c in n)(0,r.isReservedProp)(c)||c in i||a(e,c,n[c],null,l,t.children,s,o,G);"value"in i&&a(e,"value",n.value,i.value)}},L=(e,t,n,i,r,o,a,l,u)=>{const h=t.el=e?e.el:c(""),d=t.anchor=e?e.anchor:c("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:g}=t;g&&(l=l?l.concat(g):g),null==e?(s(h,n,i),s(d,n,i),T(t.children,n,d,r,o,a,l,u)):f>0&&64&f&&p&&e.dynamicChildren?(E(e.dynamicChildren,p,n,r,o,a,l),(null!=t.key||r&&t===r.subTree)&&Sn(e,t,!0)):V(e,t,n,d,r,o,a,l,u)},O=(e,t,n,i,r,s,o,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?r.ctx.activate(t,n,i,o,l):M(t,n,i,r,s,o,l):D(e,t,l)},M=(e,t,n,i,r,s,o)=>{const a=e.component=pi(e,i,r);if(Ye(e)&&(a.ctx.renderer=Q),Si(a),a.asyncDep){if(r&&r.registerDep(a,B),!e.el){const e=a.subTree=ei(Mn);x(null,e,t,n)}}else B(a,e,t,n,r,s,o)},D=(e,t,n)=>{const i=t.component=e.component;if(se(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void q(i,t,n);i.next=t,N(i.update),i.update()}else t.el=e.el,i.vnode=t},B=(e,t,n,s,o,a,l)=>{const c=()=>{if(e.isMounted){let t,{next:n,bu:i,u:s,parent:c,vnode:u}=e,h=n;0,_n(e,!1),n?(n.el=u.el,q(e,n,l)):n=u,i&&(0,r.invokeArrayFns)(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&hi(t,c,n,u),_n(e,!0);const d=te(e);0;const p=e.subTree;e.subTree=d,y(p,d,f(p.el),K(p),e,o,a),n.el=d.el,null===h&&ae(e,d.el),s&&yn(s,o),(t=n.props&&n.props.onVnodeUpdated)&&yn((()=>hi(t,c,n,u)),o)}else{let i;const{el:l,props:c}=t,{bm:u,m:h,parent:d}=e,f=He(t);if(_n(e,!1),u&&(0,r.invokeArrayFns)(u),!f&&(i=c&&c.onVnodeBeforeMount)&&hi(i,d,t),_n(e,!0),l&&ee){const n=()=>{e.subTree=te(e),ee(l,e.subTree,e,o,null)};f?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const i=e.subTree=te(e);0,y(null,i,n,s,e,o,a),t.el=i.el}if(h&&yn(h,o),!f&&(i=c&&c.onVnodeMounted)){const e=t;yn((()=>hi(i,d,e)),o)}(256&t.shapeFlag||d&&He(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&yn(e.a,o),e.isMounted=!0,t=n=s=null}},u=e.effect=new i.qq(c,(()=>R(h)),e.scope),h=e.update=()=>u.run();h.id=e.uid,_n(e,!0),h()},q=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,Xt(e,t.props,r,n),ln(e,t.children,n),(0,i.Jd)(),F(void 0,e.update),(0,i.lk)()},V=(e,t,n,i,r,s,o,a,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void U(c,h,n,i,r,s,o,a,l);if(256&f)return void H(c,h,n,i,r,s,o,a,l)}8&p?(16&u&&G(c,r,s),h!==c&&d(n,h)):16&u?16&p?U(c,h,n,i,r,s,o,a,l):G(c,r,s,!0):(8&u&&d(n,""),16&p&&T(h,n,i,r,s,o,a,l))},H=(e,t,n,i,s,o,a,l,c)=>{e=e||r.EMPTY_ARR,t=t||r.EMPTY_ARR;const u=e.length,h=t.length,d=Math.min(u,h);let f;for(f=0;f<d;f++){const i=t[f]=c?li(t[f]):ai(t[f]);y(e[f],i,n,null,s,o,a,l,c)}u>h?G(e,s,o,!0,!1,d):T(t,n,i,s,o,a,l,c,d)},U=(e,t,n,i,s,o,a,l,c)=>{let u=0;const h=t.length;let d=e.length-1,f=h-1;while(u<=d&&u<=f){const i=e[u],r=t[u]=c?li(t[u]):ai(t[u]);if(!$n(i,r))break;y(i,r,n,null,s,o,a,l,c),u++}while(u<=d&&u<=f){const i=e[d],r=t[f]=c?li(t[f]):ai(t[f]);if(!$n(i,r))break;y(i,r,n,null,s,o,a,l,c),d--,f--}if(u>d){if(u<=f){const e=f+1,r=e<h?t[e].el:i;while(u<=f)y(null,t[u]=c?li(t[u]):ai(t[u]),n,r,s,o,a,l,c),u++}}else if(u>f)while(u<=d)Y(e[u],s,o,!0),u++;else{const p=u,g=u,m=new Map;for(u=g;u<=f;u++){const e=t[u]=c?li(t[u]):ai(t[u]);null!=e.key&&m.set(e.key,u)}let v,b=0;const x=f-g+1;let w=!1,_=0;const S=new Array(x);for(u=0;u<x;u++)S[u]=0;for(u=p;u<=d;u++){const i=e[u];if(b>=x){Y(i,s,o,!0);continue}let r;if(null!=i.key)r=m.get(i.key);else for(v=g;v<=f;v++)if(0===S[v-g]&&$n(i,t[v])){r=v;break}void 0===r?Y(i,s,o,!0):(S[r-g]=u+1,r>=_?_=r:w=!0,y(i,t[r],n,null,s,o,a,l,c),b++)}const k=w?kn(S):r.EMPTY_ARR;for(v=k.length-1,u=x-1;u>=0;u--){const e=g+u,r=t[e],d=e+1<h?t[e+1].el:i;0===S[u]?y(null,r,n,d,s,o,a,l,c):w&&(v<0||u!==k[v]?j(r,n,d,2):v--)}}},j=(e,t,n,i,r=null)=>{const{el:o,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void j(e.component.subTree,t,n,i);if(128&u)return void e.suspense.move(t,n,i);if(64&u)return void a.move(e,t,n,Q);if(a===Nn){s(o,t,n);for(let e=0;e<c.length;e++)j(c[e],t,n,i);return void s(e.anchor,t,n)}if(a===Dn)return void _(e,t,n);const h=2!==i&&1&u&&l;if(h)if(0===i)l.beforeEnter(o),s(o,t,n),yn((()=>l.enter(o)),r);else{const{leave:e,delayLeave:i,afterLeave:r}=l,a=()=>s(o,t,n),c=()=>{e(o,(()=>{a(),r&&r()}))};i?i(o,a,c):c()}else s(o,t,n)},Y=(e,t,n,i=!1,r=!1)=>{const{type:s,props:o,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=e;if(null!=a&&dn(a,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const f=1&u&&d,p=!He(e);let g;if(p&&(g=o&&o.onVnodeBeforeUnmount)&&hi(g,t,e),6&u)$(e.component,n,i);else{if(128&u)return void e.suspense.unmount(n,i);f&&pt(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,r,Q,i):c&&(s!==Nn||h>0&&64&h)?G(c,t,n,!1,!0):(s===Nn&&384&h||!r&&16&u)&&G(l,t,n),i&&W(e)}(p&&(g=o&&o.onVnodeUnmounted)||f)&&yn((()=>{g&&hi(g,t,e),f&&pt(e,null,t,"unmounted")}),n)},W=e=>{const{type:t,el:n,anchor:i,transition:r}=e;if(t===Nn)return void X(n,i);if(t===Dn)return void S(e);const s=()=>{o(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:i}=r,o=()=>t(n,s);i?i(e.el,s,o):o()}else s()},X=(e,t)=>{let n;while(e!==t)n=p(e),o(e),e=n;o(t)},$=(e,t,n)=>{const{bum:i,scope:s,update:o,subTree:a,um:l}=e;i&&(0,r.invokeArrayFns)(i),s.stop(),o&&(o.active=!1,Y(a,e,t,n)),l&&yn(l,t),yn((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},G=(e,t,n,i=!1,r=!1,s=0)=>{for(let o=s;o<e.length;o++)Y(e[o],t,n,i,r)},K=e=>6&e.shapeFlag?K(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el),Z=(e,t,n)=>{null==e?t._vnode&&Y(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),z(),t._vnode=e},Q={p:y,um:Y,m:j,r:W,mt:M,mc:T,pc:V,pbc:E,n:K,o:e};let J,ee;return t&&([J,ee]=t(Q)),{render:Z,hydrate:J,createApp:hn(Z,J)}}function _n({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Sn(e,t,n=!1){const i=e.children,s=t.children;if((0,r.isArray)(i)&&(0,r.isArray)(s))for(let r=0;r<i.length;r++){const e=i[r];let t=s[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=s[r]=li(s[r]),t.el=e.el),n||Sn(e,t))}}function kn(e){const t=e.slice(),n=[0];let i,r,s,o,a;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}s=0,o=n.length-1;while(s<o)a=s+o>>1,e[n[a]]<l?s=a+1:o=a;l<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}s=n.length,o=n[s-1];while(s-- >0)n[s]=o,o=t[o];return n}const Cn=e=>e.__isTeleport,An=e=>e&&(e.disabled||""===e.disabled),Tn=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,In=(e,t)=>{const n=e&&e.to;if((0,r.isString)(n)){if(t){const e=t(n);return e}return null}return n},En={__isTeleport:!0,process(e,t,n,i,r,s,o,a,l,c){const{mc:u,pc:h,pbc:d,o:{insert:f,querySelector:p,createText:g,createComment:m}}=c,v=An(t.props);let{shapeFlag:y,children:b,dynamicChildren:x}=t;if(null==e){const e=t.el=g(""),c=t.anchor=g("");f(e,n,i),f(c,n,i);const h=t.target=In(t.props,p),d=t.targetAnchor=g("");h&&(f(d,h),o=o||Tn(h));const m=(e,t)=>{16&y&&u(b,e,t,r,s,o,a,l)};v?m(n,c):h&&m(h,d)}else{t.el=e.el;const i=t.anchor=e.anchor,u=t.target=e.target,f=t.targetAnchor=e.targetAnchor,g=An(e.props),m=g?n:u,y=g?i:f;if(o=o||Tn(u),x?(d(e.dynamicChildren,x,m,r,s,o,a),Sn(e,t,!0)):l||h(e,t,m,y,r,s,o,a,!1),v)g||Pn(t,n,i,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=In(t.props,p);e&&Pn(t,e,null,c,0)}else g&&Pn(t,u,f,c,1)}},remove(e,t,n,i,{um:r,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:d}=e;if(h&&s(u),(o||!An(d))&&(s(c),16&a))for(let f=0;f<l.length;f++){const e=l[f];r(e,t,n,!0,!!e.dynamicChildren)}},move:Pn,hydrate:Rn};function Pn(e,t,n,{o:{insert:i},m:r},s=2){0===s&&i(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=e,h=2===s;if(h&&i(o,t,n),(!h||An(u))&&16&l)for(let d=0;d<c.length;d++)r(c[d],t,n,2);h&&i(a,t,n)}function Rn(e,t,n,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=t.target=In(t.props,l);if(u){const l=u._lpa||u.firstChild;if(16&t.shapeFlag)if(An(t.props))t.anchor=c(o(e),t,a(e),n,i,r,s),t.targetAnchor=l;else{t.anchor=o(e);let a=l;while(a)if(a=o(a),a&&8===a.nodeType&&"teleport anchor"===a.data){t.targetAnchor=a,u._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(l,t,u,n,i,r,s)}}return t.anchor&&o(t.anchor)}const Ln=En,Nn=Symbol(void 0),On=Symbol(void 0),Mn=Symbol(void 0),Dn=Symbol(void 0),Fn=[];let zn=null;function Bn(e=!1){Fn.push(zn=e?null:[])}function qn(){Fn.pop(),zn=Fn[Fn.length-1]||null}let Vn,Hn=1;function Un(e){Hn+=e}function jn(e){return e.dynamicChildren=Hn>0?zn||r.EMPTY_ARR:null,qn(),Hn>0&&zn&&zn.push(e),e}function Yn(e,t,n,i,r,s){return jn(Jn(e,t,n,i,r,s,!0))}function Wn(e,t,n,i,r){return jn(ei(e,t,n,i,r,!0))}function Xn(e){return!!e&&!0===e.__v_isVNode}function $n(e,t){return e.type===t.type&&e.key===t.key}function Gn(e){Vn=e}const Kn="__vInternal",Zn=({key:e})=>null!=e?e:null,Qn=({ref:e,ref_key:t,ref_for:n})=>null!=e?(0,r.isString)(e)||(0,i.dq)(e)||(0,r.isFunction)(e)?{i:$,r:e,k:t,f:!!n}:e:null;function Jn(e,t=null,n=null,i=0,s=null,o=(e===Nn?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Zn(t),ref:t&&Qn(t),scopeId:G,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null};return l?(ci(c,n),128&o&&e.normalize(c)):n&&(c.shapeFlag|=(0,r.isString)(n)?8:16),Hn>0&&!a&&zn&&(c.patchFlag>0||6&o)&&32!==c.patchFlag&&zn.push(c),c}const ei=ti;function ti(e,t=null,n=null,s=0,o=null,a=!1){if(e&&e!==yt||(e=Mn),Xn(e)){const i=ii(e,t,!0);return n&&ci(i,n),Hn>0&&!a&&zn&&(6&i.shapeFlag?zn[zn.indexOf(e)]=i:zn.push(i)),i.patchFlag|=-2,i}if(Di(e)&&(e=e.__vccOpts),t){t=ni(t);let{class:e,style:n}=t;e&&!(0,r.isString)(e)&&(t.class=(0,r.normalizeClass)(e)),(0,r.isObject)(n)&&((0,i.X3)(n)&&!(0,r.isArray)(n)&&(n=(0,r.extend)({},n)),t.style=(0,r.normalizeStyle)(n))}const l=(0,r.isString)(e)?1:le(e)?128:Cn(e)?64:(0,r.isObject)(e)?4:(0,r.isFunction)(e)?2:0;return Jn(e,t,n,s,o,l,a,!0)}function ni(e){return e?(0,i.X3)(e)||Kn in e?(0,r.extend)({},e):e:null}function ii(e,t,n=!1){const{props:i,ref:s,patchFlag:o,children:a}=e,l=t?ui(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Zn(l),ref:t&&t.ref?n&&s?(0,r.isArray)(s)?s.concat(Qn(t)):[s,Qn(t)]:Qn(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Nn?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ii(e.ssContent),ssFallback:e.ssFallback&&ii(e.ssFallback),el:e.el,anchor:e.anchor};return c}function ri(e=" ",t=0){return ei(On,null,e,t)}function si(e,t){const n=ei(Dn,null,e);return n.staticCount=t,n}function oi(e="",t=!1){return t?(Bn(),Wn(Mn,null,e)):ei(Mn,null,e)}function ai(e){return null==e||"boolean"===typeof e?ei(Mn):(0,r.isArray)(e)?ei(Nn,null,e.slice()):"object"===typeof e?li(e):ei(On,null,String(e))}function li(e){return null===e.el||e.memo?e:ii(e)}function ci(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if((0,r.isArray)(t))n=16;else if("object"===typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),ci(e,n()),n._c&&(n._d=!0)))}{n=32;const i=t._;i||Kn in t?3===i&&$&&(1===$.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=$}}else(0,r.isFunction)(t)?(t={default:t,_ctx:$},n=32):(t=String(t),64&i?(n=16,t=[ri(t)]):n=8);e.children=t,e.shapeFlag|=n}function ui(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=(0,r.normalizeClass)([t.class,i.class]));else if("style"===e)t.style=(0,r.normalizeStyle)([t.style,i.style]);else if((0,r.isOn)(e)){const n=t[e],s=i[e];!s||n===s||(0,r.isArray)(n)&&n.includes(s)||(t[e]=n?[].concat(n,s):s)}else""!==e&&(t[e]=i[e])}return t}function hi(e,t,n,i=null){f(e,t,7,[n,i])}const di=cn();let fi=0;function pi(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||di,a={uid:fi++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new i.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Kt(s,o),emitsOptions:W(s,o),emit:null,emitted:null,propsDefaults:r.EMPTY_OBJ,inheritAttrs:s.inheritAttrs,ctx:r.EMPTY_OBJ,data:r.EMPTY_OBJ,props:r.EMPTY_OBJ,attrs:r.EMPTY_OBJ,slots:r.EMPTY_OBJ,refs:r.EMPTY_OBJ,setupState:r.EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Y.bind(null,a),e.ce&&e.ce(a),a}let gi=null;const mi=()=>gi||$,vi=e=>{gi=e,e.scope.on()},yi=()=>{gi&&gi.scope.off(),gi=null};function bi(e){return 4&e.vnode.shapeFlag}let xi,wi,_i=!1;function Si(e,t=!1){_i=t;const{props:n,children:i}=e.vnode,r=bi(e);Wt(e,n,r,t),an(e,i);const s=r?ki(e,t):void 0;return _i=!1,s}function ki(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,i.Xl)(new Proxy(e.ctx,Pt));const{setup:s}=n;if(s){const n=e.setupContext=s.length>1?Pi(e):null;vi(e),(0,i.Jd)();const o=d(s,e,0,[e.props,n]);if((0,i.lk)(),yi(),(0,r.isPromise)(o)){if(o.then(yi,yi),t)return o.then((n=>{Ci(e,n,t)})).catch((t=>{p(t,e,0)}));e.asyncDep=o}else Ci(e,o,t)}else Ii(e,t)}function Ci(e,t,n){(0,r.isFunction)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,r.isObject)(t)&&(e.setupState=(0,i.WL)(t)),Ii(e,n)}function Ai(e){xi=e,wi=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Rt))}}const Ti=()=>!xi;function Ii(e,t,n){const s=e.type;if(!e.render){if(!t&&xi&&!s.render){const t=s.template;if(t){0;const{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:o,compilerOptions:a}=s,l=(0,r.extend)((0,r.extend)({isCustomElement:n,delimiters:o},i),a);s.render=xi(t,l)}}e.render=s.render||r.NOOP,wi&&wi(e)}vi(e),(0,i.Jd)(),Nt(e),(0,i.lk)(),yi()}function Ei(e){return new Proxy(e.attrs,{get(t,n){return(0,i.j)(e,"get","$attrs"),t[n]}})}function Pi(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=Ei(e))},slots:e.slots,emit:e.emit,expose:t}}function Ri(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,i.WL)((0,i.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in Et?Et[n](e):void 0}}))}const Li=/(?:^|[-_])(\w)/g,Ni=e=>e.replace(Li,(e=>e.toUpperCase())).replace(/[-_]/g,"");function Oi(e){return(0,r.isFunction)(e)&&e.displayName||e.name}function Mi(e,t,n=!1){let i=Oi(t);if(!i&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(i=e[1])}if(!i&&e&&e.parent){const n=e=>{for(const n in e)if(e[n]===t)return n};i=n(e.components||e.parent.type.components)||n(e.appContext.components)}return i?Ni(i):n?"App":"Anonymous"}function Di(e){return(0,r.isFunction)(e)&&"__vccOpts"in e}const Fi=(e,t)=>(0,i.Fl)(e,t,_i);function zi(){return null}function Bi(){return null}function qi(e){0}function Vi(e,t){return null}function Hi(){return ji().slots}function Ui(){return ji().attrs}function ji(){const e=mi();return e.setupContext||(e.setupContext=Pi(e))}function Yi(e,t){const n=(0,r.isArray)(e)?e.reduce(((e,t)=>(e[t]={},e)),{}):e;for(const i in t){const e=n[i];e?(0,r.isArray)(e)||(0,r.isFunction)(e)?n[i]={type:e,default:t[i]}:e.default=t[i]:null===e&&(n[i]={default:t[i]})}return n}function Wi(e,t){const n={};for(const i in e)t.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>e[i]});return n}function Xi(e){const t=mi();let n=e();return yi(),(0,r.isPromise)(n)&&(n=n.catch((e=>{throw vi(t),e}))),[n,()=>vi(t)]}function $i(e,t,n){const i=arguments.length;return 2===i?(0,r.isObject)(t)&&!(0,r.isArray)(t)?Xn(t)?ei(e,null,[t]):ei(e,t):ei(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Xn(n)&&(n=[n]),ei(e,t,n))}const Gi=Symbol(""),Ki=()=>{{const e=we(Gi);return e||o("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function Zi(){return void 0}function Qi(e,t,n,i){const r=n[i];if(r&&Ji(r,e))return r;const s=t();return s.memo=e.slice(),n[i]=s}function Ji(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if((0,r.hasChanged)(n[i],t[i]))return!1;return Hn>0&&zn&&zn.push(e),!0}const er="3.2.36",tr={createComponentInstance:pi,setupComponent:Si,renderComponentRoot:te,setCurrentRenderingInstance:K,isVNode:Xn,normalizeVNode:ai},nr=tr,ir=null,rr=null},1957:(e,t,n)=>{"use strict";n.d(t,{$d:()=>r.$d,$y:()=>r.$y,Ah:()=>F,B:()=>r.B,BK:()=>r.BK,Bj:()=>r.Bj,Bz:()=>r.Bz,C3:()=>r.C3,C_:()=>r.C_,Cn:()=>r.Cn,D2:()=>De,EB:()=>r.EB,Eo:()=>r.Eo,F4:()=>r.F4,F8:()=>Fe,FN:()=>r.FN,Fl:()=>r.Fl,G:()=>r.G,G2:()=>Se,HX:()=>r.HX,HY:()=>r.HY,Ho:()=>r.Ho,IU:()=>r.IU,JJ:()=>r.JJ,Jd:()=>r.Jd,KU:()=>r.KU,Ko:()=>r.Ko,LL:()=>r.LL,MW:()=>D,MX:()=>r.MX,Mr:()=>r.Mr,Nd:()=>Ze,Nv:()=>r.Nv,OT:()=>r.OT,Ob:()=>r.Ob,P$:()=>r.P$,PG:()=>r.PG,Q2:()=>r.Q2,Q6:()=>r.Q6,RC:()=>r.RC,Rh:()=>r.Rh,Rr:()=>r.Rr,S3:()=>r.S3,SK:()=>r.Ah,SU:()=>r.SU,U2:()=>r.U2,Uc:()=>r.Uc,Uk:()=>r.Uk,Um:()=>r.Um,Us:()=>r.Us,Vh:()=>r.Vh,W3:()=>de,WI:()=>r.WI,WL:()=>r.WL,WY:()=>r.WY,Wm:()=>r.Wm,X3:()=>r.X3,XI:()=>r.XI,Xl:()=>r.Xl,Xn:()=>r.Xn,Y1:()=>r.Y1,Y3:()=>r.Y3,Y8:()=>r.Y8,YP:()=>r.YP,YS:()=>r.YS,YZ:()=>Ie,Yq:()=>r.Yq,ZB:()=>We,ZK:()=>r.ZK,ZM:()=>r.ZM,Zq:()=>r.Zq,_:()=>r._,_A:()=>r._A,a2:()=>B,aZ:()=>r.aZ,b9:()=>r.b9,bM:()=>ke,bT:()=>r.bT,bv:()=>r.bv,cE:()=>r.cE,d1:()=>r.d1,dD:()=>r.dD,dG:()=>r.dG,dl:()=>r.dl,dq:()=>r.dq,e8:()=>we,ec:()=>r.ec,eq:()=>r.eq,f3:()=>r.f3,fb:()=>q,h:()=>r.h,hR:()=>r.hR,i8:()=>r.i8,iD:()=>r.iD,iH:()=>r.iH,iM:()=>Oe,ic:()=>r.ic,j4:()=>r.j4,j5:()=>r.j5,kC:()=>r.kC,kq:()=>r.kq,l1:()=>r.l1,lA:()=>r.lA,lR:()=>r.lR,m0:()=>r.m0,mW:()=>r.mW,mv:()=>r.mv,mx:()=>r.mx,n4:()=>r.n4,nK:()=>r.nK,nQ:()=>r.nQ,nZ:()=>r.nZ,nr:()=>xe,oR:()=>r.oR,of:()=>r.of,p1:()=>r.p1,qG:()=>r.qG,qZ:()=>r.qZ,qb:()=>r.qb,qj:()=>r.qj,qq:()=>r.qq,ri:()=>Xe,ry:()=>r.ry,sT:()=>r.sT,sY:()=>Ye,se:()=>r.se,sj:()=>V,sv:()=>r.sv,uE:()=>r.uE,uT:()=>W,u_:()=>r.u_,up:()=>r.up,vl:()=>r.vl,vr:()=>$e,vs:()=>r.vs,w5:()=>r.w5,wF:()=>r.wF,wg:()=>r.wg,wy:()=>r.wy,xv:()=>r.xv,yT:()=>r.yT,yX:()=>r.yX,yb:()=>r.MW,zw:()=>r.zw});var i=n(6970),r=n(9835),s=n(499);const o="http://www.w3.org/2000/svg",a="undefined"!==typeof document?document:null,l=a&&a.createElement("template"),c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?a.createElementNS(o,e):a.createElement(e,n?{is:n}:void 0);return"select"===e&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:e=>a.createTextNode(e),createComment:e=>a.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>a.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling)){while(1)if(t.insertBefore(r.cloneNode(!0),n),r===s||!(r=r.nextSibling))break}else{l.innerHTML=i?`<svg>${e}</svg>`:e;const r=l.content;if(i){const e=r.firstChild;while(e.firstChild)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function u(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function h(e,t,n){const r=e.style,s=(0,i.isString)(n);if(n&&!s){for(const e in n)f(r,e,n[e]);if(t&&!(0,i.isString)(t))for(const e in t)null==n[e]&&f(r,e,"")}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const d=/\s*!important$/;function f(e,t,n){if((0,i.isArray)(n))n.forEach((n=>f(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=m(e,t);d.test(n)?e.setProperty((0,i.hyphenate)(r),n.replace(d,""),"important"):e[r]=n}}const p=["Webkit","Moz","ms"],g={};function m(e,t){const n=g[t];if(n)return n;let r=(0,i.camelize)(t);if("filter"!==r&&r in e)return g[t]=r;r=(0,i.capitalize)(r);for(let i=0;i<p.length;i++){const n=p[i]+r;if(n in e)return g[t]=n}return t}const v="http://www.w3.org/1999/xlink";function y(e,t,n,r,s){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(v,t.slice(6,t.length)):e.setAttributeNS(v,t,n);else{const r=(0,i.isSpecialBooleanAttr)(t);null==n||r&&!(0,i.includeBooleanAttr)(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function b(e,t,n,r,s,o,a){if("innerHTML"===t||"textContent"===t)return r&&a(r,s,o),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const i=null==n?"":n;return e.value===i&&"OPTION"!==e.tagName||(e.value=i),void(null==n&&e.removeAttribute(t))}let l=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=(0,i.includeBooleanAttr)(n):null==n&&"string"===r?(n="",l=!0):"number"===r&&(n=0,l=!0)}try{e[t]=n}catch(c){0}l&&e.removeAttribute(t)}const[x,w]=(()=>{let e=Date.now,t=!1;if("undefined"!==typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let _=0;const S=Promise.resolve(),k=()=>{_=0},C=()=>_||(S.then(k),_=x());function A(e,t,n,i){e.addEventListener(t,n,i)}function T(e,t,n,i){e.removeEventListener(t,n,i)}function I(e,t,n,i,r=null){const s=e._vei||(e._vei={}),o=s[t];if(i&&o)o.value=i;else{const[n,a]=P(t);if(i){const o=s[t]=R(i,r);A(e,n,o,a)}else o&&(T(e,n,o,a),s[t]=void 0)}}const E=/(?:Once|Passive|Capture)$/;function P(e){let t;if(E.test(e)){let n;t={};while(n=e.match(E))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[(0,i.hyphenate)(e.slice(2)),t]}function R(e,t){const n=e=>{const i=e.timeStamp||x();(w||i>=n.attached-1)&&(0,r.$d)(L(e,n.value),t,5,[e])};return n.value=e,n.attached=C(),n}function L(e,t){if((0,i.isArray)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const N=/^on[a-z]/,O=(e,t,n,r,s=!1,o,a,l,c)=>{"class"===t?u(e,r,s):"style"===t?h(e,n,r):(0,i.isOn)(t)?(0,i.isModelListener)(t)||I(e,t,n,r,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):M(e,t,r,s))?b(e,t,r,o,a,l,c):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),y(e,t,r,s))};function M(e,t,n,r){return r?"innerHTML"===t||"textContent"===t||!!(t in e&&N.test(t)&&(0,i.isFunction)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!N.test(t)||!(0,i.isString)(n))&&t in e))))}function D(e,t){const n=(0,r.aZ)(e);class i extends B{constructor(e){super(n,e,t)}}return i.def=n,i}const F=e=>D(e,We),z="undefined"!==typeof HTMLElement?HTMLElement:class{};class B extends z{constructor(e,t={},n){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,(0,r.Y3)((()=>{this._connected||(Ye(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})).observe(this,{attributes:!0});const e=e=>{const{props:t,styles:n}=e,r=!(0,i.isArray)(t),s=t?r?Object.keys(t):t:[];let o;if(r)for(const a in this._props){const e=t[a];(e===Number||e&&e.type===Number)&&(this._props[a]=(0,i.toNumber)(this._props[a]),(o||(o=Object.create(null)))[a]=!0)}this._numberProps=o;for(const i of Object.keys(this))"_"!==i[0]&&this._setProp(i,this[i],!0,!1);for(const a of s.map(i.camelize))Object.defineProperty(this,a,{get(){return this._getProp(a)},set(e){this._setProp(a,e)}});this._applyStyles(n),this._update()},t=this._def.__asyncLoader;t?t().then(e):e(this._def)}_setAttr(e){let t=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(t=(0,i.toNumber)(t)),this._setProp((0,i.camelize)(e),t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,r=!0){t!==this._props[e]&&(this._props[e]=t,r&&this._instance&&this._update(),n&&(!0===t?this.setAttribute((0,i.hyphenate)(e),""):"string"===typeof t||"number"===typeof t?this.setAttribute((0,i.hyphenate)(e),t+""):t||this.removeAttribute((0,i.hyphenate)(e))))}_update(){Ye(this._createVNode(),this.shadowRoot)}_createVNode(){const e=(0,r.Wm)(this._def,(0,i.extend)({},this._props));return this._instance||(e.ce=e=>{this._instance=e,e.isCE=!0,e.emit=(e,...t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};let t=this;while(t=t&&(t.parentNode||t.host))if(t instanceof B){e.parent=t._instance;break}}),e}_applyStyles(e){e&&e.forEach((e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}))}}function q(e="$style"){{const t=(0,r.FN)();if(!t)return i.EMPTY_OBJ;const n=t.type.__cssModules;if(!n)return i.EMPTY_OBJ;const s=n[e];return s||i.EMPTY_OBJ}}function V(e){const t=(0,r.FN)();if(!t)return;const n=()=>H(t.subTree,e(t.proxy));(0,r.Rh)(n),(0,r.bv)((()=>{const e=new MutationObserver(n);e.observe(t.subTree.el.parentNode,{childList:!0}),(0,r.Ah)((()=>e.disconnect()))}))}function H(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{H(n.activeBranch,t)}))}while(e.component)e=e.component.subTree;if(1&e.shapeFlag&&e.el)U(e.el,t);else if(e.type===r.HY)e.children.forEach((e=>H(e,t)));else if(e.type===r.qG){let{el:n,anchor:i}=e;while(n){if(U(n,t),n===i)break;n=n.nextSibling}}}function U(e,t){if(1===e.nodeType){const n=e.style;for(const e in t)n.setProperty(`--${e}`,t[e])}}const j="transition",Y="animation",W=(e,{slots:t})=>(0,r.h)(r.P$,Z(e),t);W.displayName="Transition";const X={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$=W.props=(0,i.extend)({},r.P$.props,X),G=(e,t=[])=>{(0,i.isArray)(e)?e.forEach((e=>e(...t))):e&&e(...t)},K=e=>!!e&&((0,i.isArray)(e)?e.some((e=>e.length>1)):e.length>1);function Z(e){const t={};for(const i in e)i in X||(t[i]=e[i]);if(!1===e.css)return t;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:u=a,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,g=Q(s),m=g&&g[0],v=g&&g[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:x,onLeave:w,onLeaveCancelled:_,onBeforeAppear:S=y,onAppear:k=b,onAppearCancelled:C=x}=t,A=(e,t,n)=>{te(e,t?h:l),te(e,t?u:a),n&&n()},T=(e,t)=>{e._isLeaving=!1,te(e,d),te(e,p),te(e,f),t&&t()},I=e=>(t,n)=>{const i=e?k:b,s=()=>A(t,e,n);G(i,[t,s]),ne((()=>{te(t,e?c:o),ee(t,e?h:l),K(i)||re(t,r,m,s)}))};return(0,i.extend)(t,{onBeforeEnter(e){G(y,[e]),ee(e,o),ee(e,a)},onBeforeAppear(e){G(S,[e]),ee(e,c),ee(e,u)},onEnter:I(!1),onAppear:I(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>T(e,t);ee(e,d),le(),ee(e,f),ne((()=>{e._isLeaving&&(te(e,d),ee(e,p),K(w)||re(e,r,v,n))})),G(w,[e,n])},onEnterCancelled(e){A(e,!1),G(x,[e])},onAppearCancelled(e){A(e,!0),G(C,[e])},onLeaveCancelled(e){T(e),G(_,[e])}})}function Q(e){if(null==e)return null;if((0,i.isObject)(e))return[J(e.enter),J(e.leave)];{const t=J(e);return[t,t]}}function J(e){const t=(0,i.toNumber)(e);return t}function ee(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function te(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function ne(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let ie=0;function re(e,t,n,i){const r=e._endId=++ie,s=()=>{r===e._endId&&i()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=se(e,t);if(!o)return i();const c=o+"end";let u=0;const h=()=>{e.removeEventListener(c,d),s()},d=t=>{t.target===e&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),a+1),e.addEventListener(c,d)}function se(e,t){const n=window.getComputedStyle(e),i=e=>(n[e]||"").split(", "),r=i(j+"Delay"),s=i(j+"Duration"),o=oe(r,s),a=i(Y+"Delay"),l=i(Y+"Duration"),c=oe(a,l);let u=null,h=0,d=0;t===j?o>0&&(u=j,h=o,d=s.length):t===Y?c>0&&(u=Y,h=c,d=l.length):(h=Math.max(o,c),u=h>0?o>c?j:Y:null,d=u?u===j?s.length:l.length:0);const f=u===j&&/\b(transform|all)(,|$)/.test(n[j+"Property"]);return{type:u,timeout:h,propCount:d,hasTransform:f}}function oe(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>ae(t)+ae(e[n]))))}function ae(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function le(){return document.body.offsetHeight}const ce=new WeakMap,ue=new WeakMap,he={name:"TransitionGroup",props:(0,i.extend)({},$,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,r.FN)(),i=(0,r.Y8)();let o,a;return(0,r.ic)((()=>{if(!o.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!me(o[0].el,n.vnode.el,t))return;o.forEach(fe),o.forEach(pe);const i=o.filter(ge);le(),i.forEach((e=>{const n=e.el,i=n.style;ee(n,t),i.transform=i.webkitTransform=i.transitionDuration="";const r=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",r),n._moveCb=null,te(n,t))};n.addEventListener("transitionend",r)}))})),()=>{const l=(0,s.IU)(e),c=Z(l);let u=l.tag||r.HY;o=a,a=t.default?(0,r.Q6)(t.default()):[];for(let e=0;e<a.length;e++){const t=a[e];null!=t.key&&(0,r.nK)(t,(0,r.U2)(t,c,i,n))}if(o)for(let e=0;e<o.length;e++){const t=o[e];(0,r.nK)(t,(0,r.U2)(t,c,i,n)),ce.set(t,t.el.getBoundingClientRect())}return(0,r.Wm)(u,null,a)}}},de=he;function fe(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function pe(e){ue.set(e,e.el.getBoundingClientRect())}function ge(e){const t=ce.get(e),n=ue.get(e),i=t.left-n.left,r=t.top-n.top;if(i||r){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${i}px,${r}px)`,t.transitionDuration="0s",e}}function me(e,t,n){const i=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&i.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&i.classList.add(e))),i.style.display="none";const r=1===t.nodeType?t:t.parentNode;r.appendChild(i);const{hasTransform:s}=se(i);return r.removeChild(i),s}const ve=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,i.isArray)(t)?e=>(0,i.invokeArrayFns)(t,e):t};function ye(e){e.target.composing=!0}function be(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const xe={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e._assign=ve(s);const o=r||s.props&&"number"===s.props.type;A(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),o&&(r=(0,i.toNumber)(r)),e._assign(r)})),n&&A(e,"change",(()=>{e.value=e.value.trim()})),t||(A(e,"compositionstart",ye),A(e,"compositionend",be),A(e,"change",be))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},o){if(e._assign=ve(o),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(r&&e.value.trim()===t)return;if((s||"number"===e.type)&&(0,i.toNumber)(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}},we={deep:!0,created(e,t,n){e._assign=ve(n),A(e,"change",(()=>{const t=e._modelValue,n=Ae(e),r=e.checked,s=e._assign;if((0,i.isArray)(t)){const e=(0,i.looseIndexOf)(t,n),o=-1!==e;if(r&&!o)s(t.concat(n));else if(!r&&o){const n=[...t];n.splice(e,1),s(n)}}else if((0,i.isSet)(t)){const e=new Set(t);r?e.add(n):e.delete(n),s(e)}else s(Te(e,r))}))},mounted:_e,beforeUpdate(e,t,n){e._assign=ve(n),_e(e,t,n)}};function _e(e,{value:t,oldValue:n},r){e._modelValue=t,(0,i.isArray)(t)?e.checked=(0,i.looseIndexOf)(t,r.props.value)>-1:(0,i.isSet)(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=(0,i.looseEqual)(t,Te(e,!0)))}const Se={created(e,{value:t},n){e.checked=(0,i.looseEqual)(t,n.props.value),e._assign=ve(n),A(e,"change",(()=>{e._assign(Ae(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=ve(r),t!==n&&(e.checked=(0,i.looseEqual)(t,r.props.value))}},ke={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=(0,i.isSet)(t);A(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?(0,i.toNumber)(Ae(e)):Ae(e)));e._assign(e.multiple?s?new Set(t):t:t[0])})),e._assign=ve(r)},mounted(e,{value:t}){Ce(e,t)},beforeUpdate(e,t,n){e._assign=ve(n)},updated(e,{value:t}){Ce(e,t)}};function Ce(e,t){const n=e.multiple;if(!n||(0,i.isArray)(t)||(0,i.isSet)(t)){for(let r=0,s=e.options.length;r<s;r++){const s=e.options[r],o=Ae(s);if(n)(0,i.isArray)(t)?s.selected=(0,i.looseIndexOf)(t,o)>-1:s.selected=t.has(o);else if((0,i.looseEqual)(Ae(s),t))return void(e.selectedIndex!==r&&(e.selectedIndex=r))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Ae(e){return"_value"in e?e._value:e.value}function Te(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Ie={created(e,t,n){Pe(e,t,n,null,"created")},mounted(e,t,n){Pe(e,t,n,null,"mounted")},beforeUpdate(e,t,n,i){Pe(e,t,n,i,"beforeUpdate")},updated(e,t,n,i){Pe(e,t,n,i,"updated")}};function Ee(e,t){switch(e){case"SELECT":return ke;case"TEXTAREA":return xe;default:switch(t){case"checkbox":return we;case"radio":return Se;default:return xe}}}function Pe(e,t,n,i,r){const s=Ee(e.tagName,n.props&&n.props.type),o=s[r];o&&o(e,t,n,i)}function Re(){xe.getSSRProps=({value:e})=>({value:e}),Se.getSSRProps=({value:e},t)=>{if(t.props&&(0,i.looseEqual)(t.props.value,e))return{checked:!0}},we.getSSRProps=({value:e},t)=>{if((0,i.isArray)(e)){if(t.props&&(0,i.looseIndexOf)(e,t.props.value)>-1)return{checked:!0}}else if((0,i.isSet)(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Ie.getSSRProps=(e,t)=>{if("string"!==typeof t.type)return;const n=Ee(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0}}const Le=["ctrl","shift","alt","meta"],Ne={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Le.some((n=>e[`${n}Key`]&&!t.includes(n)))},Oe=(e,t)=>(n,...i)=>{for(let e=0;e<t.length;e++){const i=Ne[t[e]];if(i&&i(n,t))return}return e(n,...i)},Me={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},De=(e,t)=>n=>{if(!("key"in n))return;const r=(0,i.hyphenate)(n.key);return t.some((e=>e===r||Me[e]===r))?e(n):void 0},Fe={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):ze(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!==!n&&(i?t?(i.beforeEnter(e),ze(e,!0),i.enter(e)):i.leave(e,(()=>{ze(e,!1)})):ze(e,t))},beforeUnmount(e,{value:t}){ze(e,t)}};function ze(e,t){e.style.display=t?e._vod:"none"}function Be(){Fe.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const qe=(0,i.extend)({patchProp:O},c);let Ve,He=!1;function Ue(){return Ve||(Ve=(0,r.Us)(qe))}function je(){return Ve=He?Ve:(0,r.Eo)(qe),He=!0,Ve}const Ye=(...e)=>{Ue().render(...e)},We=(...e)=>{je().hydrate(...e)},Xe=(...e)=>{const t=Ue().createApp(...e);const{mount:n}=t;return t.mount=e=>{const r=Ge(e);if(!r)return;const s=t._component;(0,i.isFunction)(s)||s.render||s.template||(s.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t},$e=(...e)=>{const t=je().createApp(...e);const{mount:n}=t;return t.mount=e=>{const t=Ge(e);if(t)return n(t,!0,t instanceof SVGElement)},t};function Ge(e){if((0,i.isString)(e)){const t=document.querySelector(e);return t}return e}let Ke=!1;const Ze=()=>{Ke||(Ke=!0,Re(),Be())}},6970:(e,t,n)=>{"use strict";function i(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.r(t),n.d(t,{EMPTY_ARR:()=>j,EMPTY_OBJ:()=>U,NO:()=>W,NOOP:()=>Y,PatchFlagNames:()=>r,camelize:()=>ye,capitalize:()=>we,def:()=>Ce,escapeHtml:()=>M,escapeHtmlComment:()=>F,extend:()=>K,genPropsAccessExp:()=>Pe,generateCodeFrame:()=>c,getGlobalThis:()=>Ie,hasChanged:()=>Se,hasOwn:()=>J,hyphenate:()=>xe,includeBooleanAttr:()=>f,invokeArrayFns:()=>ke,isArray:()=>ee,isBooleanAttr:()=>d,isBuiltInDirective:()=>ge,isDate:()=>ie,isFunction:()=>re,isGloballyWhitelisted:()=>a,isHTMLTag:()=>R,isIntegerKey:()=>fe,isKnownHtmlAttr:()=>b,isKnownSvgAttr:()=>x,isMap:()=>te,isModelListener:()=>G,isNoUnitNumericStyleProp:()=>y,isObject:()=>ae,isOn:()=>$,isPlainObject:()=>de,isPromise:()=>le,isReservedProp:()=>pe,isSSRSafeAttrName:()=>m,isSVGTag:()=>L,isSet:()=>ne,isSpecialBooleanAttr:()=>h,isString:()=>se,isSymbol:()=>oe,isVoidTag:()=>N,looseEqual:()=>B,looseIndexOf:()=>q,makeMap:()=>i,normalizeClass:()=>A,normalizeProps:()=>T,normalizeStyle:()=>w,objectToString:()=>ce,parseStringStyle:()=>k,propsToAttrMap:()=>v,remove:()=>Z,slotFlagsText:()=>s,stringifyStyle:()=>C,toDisplayString:()=>V,toHandlerKey:()=>_e,toNumber:()=>Ae,toRawType:()=>he,toTypeString:()=>ue});const r={[1]:"TEXT",[2]:"CLASS",[4]:"STYLE",[8]:"PROPS",[16]:"FULL_PROPS",[32]:"HYDRATE_EVENTS",[64]:"STABLE_FRAGMENT",[128]:"KEYED_FRAGMENT",[256]:"UNKEYED_FRAGMENT",[512]:"NEED_PATCH",[1024]:"DYNAMIC_SLOTS",[2048]:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},s={[1]:"STABLE",[2]:"DYNAMIC",[3]:"FORWARDED"},o="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",a=i(o),l=2;function c(e,t=0,n=e.length){let i=e.split(/(\r?\n)/);const r=i.filter(((e,t)=>t%2===1));i=i.filter(((e,t)=>t%2===0));let s=0;const o=[];for(let a=0;a<i.length;a++)if(s+=i[a].length+(r[a]&&r[a].length||0),s>=t){for(let e=a-l;e<=a+l||n>s;e++){if(e<0||e>=i.length)continue;const l=e+1;o.push(`${l}${" ".repeat(Math.max(3-String(l).length,0))}|  ${i[e]}`);const c=i[e].length,u=r[e]&&r[e].length||0;if(e===a){const e=t-(s-(c+u)),i=Math.max(1,n>s?c-e:n-t);o.push("   |  "+" ".repeat(e)+"^".repeat(i))}else if(e>a){if(n>s){const e=Math.max(Math.min(n-s,c),1);o.push("   |  "+"^".repeat(e))}s+=c+u}}break}return o.join("\n")}const u="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",h=i(u),d=i(u+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function f(e){return!!e||""===e}const p=/[>/="'\u0009\u000a\u000c\u0020]/,g={};function m(e){if(g.hasOwnProperty(e))return g[e];const t=p.test(e);return t&&console.error(`unsafe attribute name: ${e}`),g[e]=!t}const v={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},y=i("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),b=i("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),x=i("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan");function w(e){if(ee(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=se(i)?k(i):w(i);if(r)for(const e in r)t[e]=r[e]}return t}return se(e)||ae(e)?e:void 0}const _=/;(?![^(]*\))/g,S=/:(.+)/;function k(e){const t={};return e.split(_).forEach((e=>{if(e){const n=e.split(S);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function C(e){let t="";if(!e||se(e))return t;for(const n in e){const i=e[n],r=n.startsWith("--")?n:xe(n);(se(i)||"number"===typeof i&&y(r))&&(t+=`${r}:${i};`)}return t}function A(e){let t="";if(se(e))t=e;else if(ee(e))for(let n=0;n<e.length;n++){const i=A(e[n]);i&&(t+=i+" ")}else if(ae(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function T(e){if(!e)return null;let{class:t,style:n}=e;return t&&!se(t)&&(e.class=A(t)),n&&(e.style=w(n)),e}const I="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",E="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",P="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",R=i(I),L=i(E),N=i(P),O=/["'&<>]/;function M(e){const t=""+e,n=O.exec(t);if(!n)return t;let i,r,s="",o=0;for(r=n.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}o!==r&&(s+=t.slice(o,r)),o=r+1,s+=i}return o!==r?s+t.slice(o,r):s}const D=/^-?>|<!--|-->|--!>|<!-$/g;function F(e){return e.replace(D,"")}function z(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=B(e[i],t[i]);return n}function B(e,t){if(e===t)return!0;let n=ie(e),i=ie(t);if(n||i)return!(!n||!i)&&e.getTime()===t.getTime();if(n=oe(e),i=oe(t),n||i)return e===t;if(n=ee(e),i=ee(t),n||i)return!(!n||!i)&&z(e,t);if(n=ae(e),i=ae(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,s=Object.keys(t).length;if(r!==s)return!1;for(const n in e){const i=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(i&&!r||!i&&r||!B(e[n],t[n]))return!1}}return String(e)===String(t)}function q(e,t){return e.findIndex((e=>B(e,t)))}const V=e=>se(e)?e:null==e?"":ee(e)||ae(e)&&(e.toString===ce||!re(e.toString))?JSON.stringify(e,H,2):String(e),H=(e,t)=>t&&t.__v_isRef?H(e,t.value):te(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:ne(t)?{[`Set(${t.size})`]:[...t.values()]}:!ae(t)||ee(t)||de(t)?t:String(t),U={},j=[],Y=()=>{},W=()=>!1,X=/^on[^a-z]/,$=e=>X.test(e),G=e=>e.startsWith("onUpdate:"),K=Object.assign,Z=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Q=Object.prototype.hasOwnProperty,J=(e,t)=>Q.call(e,t),ee=Array.isArray,te=e=>"[object Map]"===ue(e),ne=e=>"[object Set]"===ue(e),ie=e=>"[object Date]"===ue(e),re=e=>"function"===typeof e,se=e=>"string"===typeof e,oe=e=>"symbol"===typeof e,ae=e=>null!==e&&"object"===typeof e,le=e=>ae(e)&&re(e.then)&&re(e.catch),ce=Object.prototype.toString,ue=e=>ce.call(e),he=e=>ue(e).slice(8,-1),de=e=>"[object Object]"===ue(e),fe=e=>se(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,pe=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ge=i("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),me=e=>{const t=Object.create(null);return n=>{const i=t[n];return i||(t[n]=e(n))}},ve=/-(\w)/g,ye=me((e=>e.replace(ve,((e,t)=>t?t.toUpperCase():"")))),be=/\B([A-Z])/g,xe=me((e=>e.replace(be,"-$1").toLowerCase())),we=me((e=>e.charAt(0).toUpperCase()+e.slice(1))),_e=me((e=>e?`on${we(e)}`:"")),Se=(e,t)=>!Object.is(e,t),ke=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ce=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Ae=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Te;const Ie=()=>Te||(Te="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}),Ee=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function Pe(e){return Ee.test(e)?`__props.${e}`:`__props[${JSON.stringify(e)}]`}},0:(e,t,n)=>{"use strict";var i;
/*!
 * ApexCharts v3.35.3
 * (c) 2018-2022 ApexCharts
 * Released under the MIT License.
 */function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var r=d(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p(this,n)}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(s.push(i.value),!t||s.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw r}}return s}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var x=function(){function e(){a(this,e)}return c(e,[{key:"shadeRGBColor",value:function(e,t){var n=t.split(","),i=e<0?0:255,r=e<0?-1*e:e,s=parseInt(n[0].slice(4),10),o=parseInt(n[1],10),a=parseInt(n[2],10);return"rgb("+(Math.round((i-s)*r)+s)+","+(Math.round((i-o)*r)+o)+","+(Math.round((i-a)*r)+a)+")"}},{key:"shadeHexColor",value:function(e,t){var n=parseInt(t.slice(1),16),i=e<0?0:255,r=e<0?-1*e:e,s=n>>16,o=n>>8&255,a=255&n;return"#"+(16777216+65536*(Math.round((i-s)*r)+s)+256*(Math.round((i-o)*r)+o)+(Math.round((i-a)*r)+a)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,n){return e.isColorHex(n)?this.shadeHexColor(t,n):this.shadeRGBColor(t,n)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&"object"===o(e)&&!Array.isArray(e)&&null!=e}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n}},{key:"extend",value:function(e,t){var n=this;"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t});var i=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((function(r){n.isObject(t[r])&&r in e?i[r]=n.extend(e[r],t[r]):Object.assign(i,u({},r,t[r]))})),i}},{key:"extendArray",value:function(t,n){var i=[];return t.map((function(t){i.push(e.extend(n,t))})),i}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(t){if(e.is("Array",t)){for(var n=[],i=0;i<t.length;i++)n[i]=this.clone(t[i]);return n}if(e.is("Null",t))return null;if(e.is("Date",t))return t;if("object"===o(t)){var r={};for(var s in t)t.hasOwnProperty(s)&&(r[s]=this.clone(t[s]));return r}return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return null===e?e:parseFloat(e)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){var t=String(e).split(/[eE]/);if(1===t.length)return t[0];var n="",i=e<0?"-":"",r=t[0].replace(".",""),s=Number(t[1])+1;if(s<0){for(n=i+"0.";s++;)n+="0";return n+r.replace(/^-/,"")}for(s-=r.length;s--;)n+="0";return r+n}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),n=e.clientHeight,i=e.clientWidth;return n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[i-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce((function(e,t){return Array.isArray(t)&&(t=t.reduce((function(e,t){return e.length>t.length?e:t}))),e.length>t.length?e:t}),0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==e.substring(0,1)&&(e="#999999");var n=e.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var i=0;i<n.length;i++)n[i]=parseInt(1===n[i].length?n[i]+n[i]:n[i],16);return void 0!==t&&n.push(t),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var n=[],i=2*Math.PI/t,r=0;r<t;r++){var s={};s.x=e*Math.sin(r*i),s.y=-e*Math.cos(r*i),n.push(s)}return n}},{key:"polarToCartesian",value:function(e,t,n,i){var r=(i-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=e.toString().slice();return n.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,n){if(n>=e.length)for(var i=n-e.length+1;i--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style.key=t[n])}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)}}]),e}(),w=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.setEasingFunctions()}return c(e,[{key:"setEasingFunctions",value:function(){var e;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":e="-";break;case"easein":e="<";break;case"easeout":e=">";break;case"easeinout":e="<>";break;case"swing":e=function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1};break;case"bounce":e=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375};break;case"elastic":e=function(e){return e===!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1};break;default:e="<>"}this.w.globals.easing=e}}},{key:"animateLine",value:function(e,t,n,i){e.attr(t).animate(i).attr(n)}},{key:"animateMarker",value:function(e,t,n,i,r,s){t||(t=0),e.attr({r:t,width:t,height:t}).animate(i,r).attr({r:n,width:n.width,height:n.height}).afterAll((function(){s()}))}},{key:"animateCircle",value:function(e,t,n,i,r){e.attr({r:t.r,cx:t.cx,cy:t.cy}).animate(i,r).attr({r:n.r,cx:n.cx,cy:n.cy})}},{key:"animateRect",value:function(e,t,n,i,r){e.attr(t).animate(i).attr(n).afterAll((function(){return r()}))}},{key:"animatePathsGradually",value:function(e){var t=e.el,n=e.realIndex,i=e.j,r=e.fill,s=e.pathFrom,o=e.pathTo,a=e.speed,l=e.delay,c=this.w,u=0;c.config.chart.animations.animateGradually.enabled&&(u=c.config.chart.animations.animateGradually.delay),c.config.chart.animations.dynamicAnimation.enabled&&c.globals.dataChanged&&"bar"!==c.config.chart.type&&(u=0),this.morphSVG(t,n,i,"line"!==c.config.chart.type||c.globals.comboCharts?r:"stroke",s,o,a,l*u)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(e){e.el.classList.remove("apexcharts-element-hidden")}))}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof t.config.chart.events.animationEnd&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,n,i,r,s,o,a){var l=this,c=this.w;r||(r=e.attr("pathFrom")),s||(s=e.attr("pathTo"));var u=function(e){return"radar"===c.config.chart.type&&(o=1),"M 0 ".concat(c.globals.gridHeight)};(!r||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=u()),(!s||s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s=u()),c.globals.shouldAnimate||(o=1),e.plot(r).animate(1,c.globals.easing,a).plot(r).animate(o,c.globals.easing,a).plot(s).afterAll((function(){x.isNumber(n)?n===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&l.animationCompleted(e):"none"!==i&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&t===c.globals.series.length-1||c.globals.comboCharts)&&l.animationCompleted(e),l.showDelayedElements()}))}}]),e}(),_=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"getDefaultFilter",value:function(e,t){var n=this.w;e.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==n.config.states.normal.filter?this.applyFilter(e,t,n.config.states.normal.filter.type,n.config.states.normal.filter.value):n.config.chart.dropShadow.enabled&&this.dropShadow(e,n.config.chart.dropShadow,t)}},{key:"addNormalFilter",value:function(e,t){var n=this.w;n.config.chart.dropShadow.enabled&&!e.node.classList.contains("apexcharts-marker")&&this.dropShadow(e,n.config.chart.dropShadow,t)}},{key:"addLightenFilter",value:function(e,t,n){var i=this,r=this.w,s=n.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter((function(e){var n=r.config.chart.dropShadow;(n.enabled?i.addShadow(e,t,n):e).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:s}})})),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"addDarkenFilter",value:function(e,t,n){var i=this,r=this.w,s=n.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter((function(e){var n=r.config.chart.dropShadow;(n.enabled?i.addShadow(e,t,n):e).componentTransfer({rgb:{type:"linear",slope:s}})})),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"applyFilter",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(n){case"none":this.addNormalFilter(e,t);break;case"lighten":this.addLightenFilter(e,t,{intensity:i});break;case"darken":this.addDarkenFilter(e,t,{intensity:i})}}},{key:"addShadow",value:function(e,t,n){var i=n.blur,r=n.top,s=n.left,o=n.color,a=n.opacity,l=e.flood(Array.isArray(o)?o[t]:o,a).composite(e.sourceAlpha,"in").offset(s,r).gaussianBlur(i).merge(e.source);return e.blend(e.source,l)}},{key:"dropShadow",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=t.top,r=t.left,s=t.blur,o=t.color,a=t.opacity,l=t.noUserSpaceOnUse,c=this.w;return e.unfilter(!0),x.isIE()&&"radialBar"===c.config.chart.type||(o=Array.isArray(o)?o[n]:o,e.filter((function(e){var t=null;t=x.isSafari()||x.isFirefox()||x.isIE()?e.flood(o,a).composite(e.sourceAlpha,"in").offset(r,i).gaussianBlur(s):e.flood(o,a).composite(e.sourceAlpha,"in").offset(r,i).gaussianBlur(s).merge(e.source),e.blend(e.source,t)})),l||e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)),e}},{key:"setSelectionFilter",value:function(e,t,n){var i=this.w;if(void 0!==i.globals.selectedDataPoints[t]&&i.globals.selectedDataPoints[t].indexOf(n)>-1){e.node.setAttribute("selected",!0);var r=i.config.states.active.filter;"none"!==r&&this.applyFilter(e,t,r.type,r.value)}}},{key:"_scaleFilterSize",value:function(e){!function(t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),e}(),S=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"drawLine",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",l=this.w,c=l.globals.dom.Paper.line().attr({x1:e,y1:t,x2:n,y2:i,stroke:r,"stroke-dasharray":s,"stroke-width":o,"stroke-linecap":a});return c}},{key:"drawRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,u=this.w,h=u.globals.dom.Paper.rect();return h.attr({x:e,y:t,width:n>0?n:0,height:i>0?i:0,rx:r,ry:r,opacity:o,"stroke-width":null!==a?a:0,stroke:null!==l?l:"none","stroke-dasharray":c}),h.node.setAttribute("fill",s),h}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",r=this.w,s=r.globals.dom.Paper.polygon(e).attr({fill:i,stroke:t,"stroke-width":n});return s}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.w;e<0&&(e=0);var i=n.globals.dom.Paper.circle(2*e);return null!==t&&i.attr(t),i}},{key:"drawPath",value:function(e){var t=e.d,n=void 0===t?"":t,i=e.stroke,r=void 0===i?"#a8a8a8":i,s=e.strokeWidth,o=void 0===s?1:s,a=e.fill,l=e.fillOpacity,c=void 0===l?1:l,u=e.strokeOpacity,h=void 0===u?1:u,d=e.classes,f=e.strokeLinecap,p=void 0===f?null:f,g=e.strokeDashArray,m=void 0===g?0:g,v=this.w;return null===p&&(p=v.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(v.globals.gridHeight)),v.globals.dom.Paper.path(n).attr({fill:a,"fill-opacity":c,stroke:r,"stroke-opacity":h,"stroke-linecap":p,"stroke-width":o,"stroke-dasharray":m,class:d})}},{key:"group",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,n=t.globals.dom.Paper.group();return null!==e&&n.attr(e),n}},{key:"move",value:function(e,t){var n=["M",e,t].join(" ");return n}},{key:"line",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;return null===n?i=["L",e,t].join(" "):"H"===n?i=["H",e].join(" "):"V"===n&&(i=["V",t].join(" ")),i}},{key:"curve",value:function(e,t,n,i,r,s){var o=["C",e,t,n,i,r,s].join(" ");return o}},{key:"quadraticCurve",value:function(e,t,n,i){return["Q",e,t,n,i].join(" ")}},{key:"arc",value:function(e,t,n,i,r,s,o){var a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l="A";a&&(l="a");var c=[l,e,t,n,i,r,s,o].join(" ");return c}},{key:"renderPaths",value:function(e){var t,n=e.j,i=e.realIndex,r=e.pathFrom,o=e.pathTo,a=e.stroke,l=e.strokeWidth,c=e.strokeLinecap,u=e.fill,h=e.animationDelay,d=e.initialSpeed,f=e.dataChangeSpeed,p=e.className,g=e.shouldClipToGrid,m=void 0===g||g,v=e.bindEventsOnPaths,y=void 0===v||v,b=e.drawShadow,x=void 0===b||b,S=this.w,k=new _(this.ctx),C=new w(this.ctx),A=this.w.config.chart.animations.enabled,T=A&&this.w.config.chart.animations.dynamicAnimation.enabled,I=!!(A&&!S.globals.resized||T&&S.globals.dataChanged&&S.globals.shouldAnimate);I?t=r:(t=o,S.globals.animationEnded=!0);var E=S.config.stroke.dashArray,P=0;P=Array.isArray(E)?E[i]:S.config.stroke.dashArray;var R=this.drawPath({d:t,stroke:a,strokeWidth:l,fill:u,fillOpacity:1,classes:p,strokeLinecap:c,strokeDashArray:P});if(R.attr("index",i),m&&R.attr({"clip-path":"url(#gridRectMask".concat(S.globals.cuid,")")}),"none"!==S.config.states.normal.filter.type)k.getDefaultFilter(R,i);else if(S.config.chart.dropShadow.enabled&&x&&(!S.config.chart.dropShadow.enabledOnSeries||S.config.chart.dropShadow.enabledOnSeries&&-1!==S.config.chart.dropShadow.enabledOnSeries.indexOf(i))){var L=S.config.chart.dropShadow;k.dropShadow(R,L,i)}y&&(R.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,R)),R.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,R)),R.node.addEventListener("mousedown",this.pathMouseDown.bind(this,R))),R.attr({pathTo:o,pathFrom:r});var N={el:R,j:n,realIndex:i,pathFrom:r,pathTo:o,fill:u,strokeWidth:l,delay:h};return!A||S.globals.resized||S.globals.dataChanged?!S.globals.resized&&S.globals.dataChanged||C.showDelayedElements():C.animatePathsGradually(s(s({},N),{},{speed:d})),S.globals.dataChanged&&T&&I&&C.animatePathsGradually(s(s({},N),{},{speed:f})),R}},{key:"drawPattern",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=this.w,o=s.globals.dom.Paper.pattern(t,n,(function(s){"horizontalLines"===e?s.line(0,0,n,0).stroke({color:i,width:r+1}):"verticalLines"===e?s.line(0,0,0,t).stroke({color:i,width:r+1}):"slantedLines"===e?s.line(0,0,t,n).stroke({color:i,width:r}):"squares"===e?s.rect(t,n).fill("none").stroke({color:i,width:r}):"circles"===e&&s.circle(t).fill("none").stroke({color:i,width:r})}));return o}},{key:"drawGradient",value:function(e,t,n,i,r){var s,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=this.w;t.length<9&&0===t.indexOf("#")&&(t=x.hexToRgba(t,i)),n.length<9&&0===n.indexOf("#")&&(n=x.hexToRgba(n,r));var h=0,d=1,f=1,p=null;null!==a&&(h=void 0!==a[0]?a[0]/100:0,d=void 0!==a[1]?a[1]/100:1,f=void 0!==a[2]?a[2]/100:1,p=void 0!==a[3]?a[3]/100:null);var g=!("donut"!==u.config.chart.type&&"pie"!==u.config.chart.type&&"polarArea"!==u.config.chart.type&&"bubble"!==u.config.chart.type);if(s=null===l||0===l.length?u.globals.dom.Paper.gradient(g?"radial":"linear",(function(e){e.at(h,t,i),e.at(d,n,r),e.at(f,n,r),null!==p&&e.at(p,t,i)})):u.globals.dom.Paper.gradient(g?"radial":"linear",(function(e){(Array.isArray(l[c])?l[c]:l).forEach((function(t){e.at(t.offset/100,t.color,t.opacity)}))})),g){var m=u.globals.gridWidth/2,v=u.globals.gridHeight/2;"bubble"!==u.config.chart.type?s.attr({gradientUnits:"userSpaceOnUse",cx:m,cy:v,r:o}):s.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===e?s.from(0,0).to(0,1):"diagonal"===e?s.from(0,0).to(1,1):"horizontal"===e?s.from(0,1).to(1,1):"diagonal2"===e&&s.from(1,0).to(0,1);return s}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,n=e.maxWidth,i=e.fontSize,r=e.fontFamily,s=this.getTextRects(t,i,r),o=s.width/t.length,a=Math.floor(n/o);return n<s.width?t.slice(0,a-3)+"...":t}},{key:"drawText",value:function(e){var t=this,n=e.x,i=e.y,r=e.text,o=e.textAnchor,a=e.fontSize,l=e.fontFamily,c=e.fontWeight,u=e.foreColor,h=e.opacity,d=e.maxWidth,f=e.cssClass,p=void 0===f?"":f,g=e.isPlainText,m=void 0===g||g,v=this.w;void 0===r&&(r="");var y=r;o||(o="start"),u&&u.length||(u=v.config.chart.foreColor),l=l||v.config.chart.fontFamily,c=c||"regular";var b,x={maxWidth:d,fontSize:a=a||"11px",fontFamily:l};return Array.isArray(r)?b=v.globals.dom.Paper.text((function(e){for(var n=0;n<r.length;n++)y=r[n],d&&(y=t.getTextBasedOnMaxWidth(s({text:r[n]},x))),0===n?e.tspan(y):e.tspan(y).newLine()})):(d&&(y=this.getTextBasedOnMaxWidth(s({text:r},x))),b=m?v.globals.dom.Paper.plain(r):v.globals.dom.Paper.text((function(e){return e.tspan(y)}))),b.attr({x:n,y:i,"text-anchor":o,"dominant-baseline":"auto","font-size":a,"font-family":l,"font-weight":c,fill:u,class:"apexcharts-text "+p}),b.node.style.fontFamily=l,b.node.style.opacity=h,b}},{key:"drawMarker",value:function(e,t,n){e=e||0;var i=n.pSize||0,r=null;if("square"===n.shape||"rect"===n.shape){var s=void 0===n.pRadius?i/2:n.pRadius;null!==t&&i||(i=0,s=0);var o=1.2*i+s,a=this.drawRect(o,o,o,o,s);a.attr({x:e-o/2,y:t-o/2,cx:e,cy:t,class:n.class?n.class:"",fill:n.pointFillColor,"fill-opacity":n.pointFillOpacity?n.pointFillOpacity:1,stroke:n.pointStrokeColor,"stroke-width":n.pointStrokeWidth?n.pointStrokeWidth:0,"stroke-opacity":n.pointStrokeOpacity?n.pointStrokeOpacity:1}),r=a}else"circle"!==n.shape&&n.shape||(x.isNumber(t)||(i=0,t=0),r=this.drawCircle(i,{cx:e,cy:t,class:n.class?n.class:"",stroke:n.pointStrokeColor,fill:n.pointFillColor,"fill-opacity":n.pointFillOpacity?n.pointFillOpacity:1,"stroke-width":n.pointStrokeWidth?n.pointStrokeWidth:0,"stroke-opacity":n.pointStrokeOpacity?n.pointStrokeOpacity:1}));return r}},{key:"pathMouseEnter",value:function(e,t){var n=this.w,i=new _(this.ctx),r=parseInt(e.node.getAttribute("index"),10),s=parseInt(e.node.getAttribute("j"),10);if("function"==typeof n.config.chart.events.dataPointMouseEnter&&n.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:r,dataPointIndex:s,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:r,dataPointIndex:s,w:n}]),("none"===n.config.states.active.filter.type||"true"!==e.node.getAttribute("selected"))&&"none"!==n.config.states.hover.filter.type&&!n.globals.isTouchDevice){var o=n.config.states.hover.filter;i.applyFilter(e,r,o.type,o.value)}}},{key:"pathMouseLeave",value:function(e,t){var n=this.w,i=new _(this.ctx),r=parseInt(e.node.getAttribute("index"),10),s=parseInt(e.node.getAttribute("j"),10);"function"==typeof n.config.chart.events.dataPointMouseLeave&&n.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:r,dataPointIndex:s,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:r,dataPointIndex:s,w:n}]),"none"!==n.config.states.active.filter.type&&"true"===e.node.getAttribute("selected")||"none"!==n.config.states.hover.filter.type&&i.getDefaultFilter(e,r)}},{key:"pathMouseDown",value:function(e,t){var n=this.w,i=new _(this.ctx),r=parseInt(e.node.getAttribute("index"),10),s=parseInt(e.node.getAttribute("j"),10),o="false";if("true"===e.node.getAttribute("selected")){if(e.node.setAttribute("selected","false"),n.globals.selectedDataPoints[r].indexOf(s)>-1){var a=n.globals.selectedDataPoints[r].indexOf(s);n.globals.selectedDataPoints[r].splice(a,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var l=n.globals.dom.Paper.select(".apexcharts-series path").members,c=n.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,u=function(e){Array.prototype.forEach.call(e,(function(e){e.node.setAttribute("selected","false"),i.getDefaultFilter(e,r)}))};u(l),u(c)}e.node.setAttribute("selected","true"),o="true",void 0===n.globals.selectedDataPoints[r]&&(n.globals.selectedDataPoints[r]=[]),n.globals.selectedDataPoints[r].push(s)}if("true"===o){var h=n.config.states.active.filter;if("none"!==h)i.applyFilter(e,r,h.type,h.value);else if("none"!==n.config.states.hover.filter&&!n.globals.isTouchDevice){var d=n.config.states.hover.filter;i.applyFilter(e,r,d.type,d.value)}}else"none"!==n.config.states.active.filter.type&&("none"===n.config.states.hover.filter.type||n.globals.isTouchDevice?i.getDefaultFilter(e,r):(d=n.config.states.hover.filter,i.applyFilter(e,r,d.type,d.value)));"function"==typeof n.config.chart.events.dataPointSelection&&n.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:s,w:n}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:s,w:n}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&"function"==typeof e.getBBox&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=this.w,o=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:n,foreColor:"#fff",opacity:0});i&&o.attr("transform",i),s.globals.dom.Paper.add(o);var a=o.bbox();return r||(a=o.node.getBoundingClientRect()),o.remove(),{width:a.width,height:a.height}}},{key:"placeTextWithEllipsis",value:function(e,t,n){if("function"==typeof e.getComputedTextLength&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=n/1.1)){for(var i=t.length-3;i>0;i-=3)if(e.getSubStringLength(0,i)<=n/1.1)return void(e.textContent=t.substring(0,i)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}}]),e}(),k=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"getStackedSeriesTotals",value:function(){var e=this.w,t=[];if(0===e.globals.series.length)return t;for(var n=0;n<e.globals.series[e.globals.maxValsInArrayIndex].length;n++){for(var i=0,r=0;r<e.globals.series.length;r++)void 0!==e.globals.series[r][n]&&(i+=e.globals.series[r][n]);t.push(i)}return e.globals.stackedSeriesTotals=t,t}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?this.w.config.series.reduce((function(e,t){return e+t}),0):this.w.globals.series[e].reduce((function(e,t){return e+t}),0)}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===e?this.w.config.series.filter((function(e){return null!==e})):this.w.config.series[e].data.filter((function(e){return null!==e}))).length}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every((function(e,t,n){return e===n[0]}))}},{key:"getCategoryLabels",value:function(e){var t=this.w,n=e.slice();return t.config.xaxis.convertedCatToNumeric&&(n=e.map((function(e,n){return t.config.xaxis.labels.formatter(e-t.globals.minX+1)}))),n}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map((function(e){return e.length})).indexOf(Math.max.apply(Math,e.globals.series.map((function(e){return e.length}))))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach((function(e){t=Math.max(t,e)})),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach((function(e){t=Math.max(t,e.size)})),t>0&&(t+=e.config.markers.hover.sizeOffset+1),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map((function(e,t){var n=0;if(Array.isArray(e))for(var i=0;i<e.length;i++)n+=e[i];else n+=e;return n}))}},{key:"getSeriesTotalsXRange",value:function(e,t){var n=this.w;return n.globals.series.map((function(i,r){for(var s=0,o=0;o<i.length;o++)n.globals.seriesX[r][o]>e&&n.globals.seriesX[r][o]<t&&(s+=i[o]);return s}))}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map((function(t,n){var i=[];if(Array.isArray(t))for(var r=0;r<t.length;r++){var s=e.globals.stackedSeriesTotals[r],o=0;s&&(o=100*t[r]/s),i.push(o)}else{var a=100*t/e.globals.seriesTotals.reduce((function(e,t){return e+t}),0);i.push(a)}return i}))}},{key:"getCalculatedRatios",value:function(){var e,t,n,i,r=this.w.globals,s=[],o=0,a=[],l=.1,c=0;if(r.yRange=[],r.isMultipleYAxis)for(var u=0;u<r.minYArr.length;u++)r.yRange.push(Math.abs(r.minYArr[u]-r.maxYArr[u])),a.push(0);else r.yRange.push(Math.abs(r.minY-r.maxY));r.xRange=Math.abs(r.maxX-r.minX),r.zRange=Math.abs(r.maxZ-r.minZ);for(var h=0;h<r.yRange.length;h++)s.push(r.yRange[h]/r.gridHeight);if(t=r.xRange/r.gridWidth,n=Math.abs(r.initialMaxX-r.initialMinX)/r.gridWidth,e=r.yRange/r.gridWidth,i=r.xRange/r.gridHeight,(o=r.zRange/r.gridHeight*16)||(o=1),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(r.hasNegs=!0),r.isMultipleYAxis){a=[];for(var d=0;d<s.length;d++)a.push(-r.minYArr[d]/s[d])}else a.push(-r.minY/s[0]),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(l=-r.minY/e,c=r.minX/t);return{yRatio:s,invertedYRatio:e,zRatio:o,xRatio:t,initialXRatio:n,invertedXRatio:i,baseLineInvertedY:l,baseLineY:a,baseLineX:c}}},{key:"getLogSeries",value:function(e){var t=this,n=this.w;return n.globals.seriesLog=e.map((function(e,i){return n.config.yaxis[i]&&n.config.yaxis[i].logarithmic?e.map((function(e){return null===e?null:t.getLogVal(n.config.yaxis[i].logBase,e,i)})):e})),n.globals.invalidLogScale?e:n.globals.seriesLog}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,n){if(0===t)return 0;var i=this.w,r=0===i.globals.minYArr[n]?-1:this.getBaseLog(e,i.globals.minYArr[n]),s=(0===i.globals.maxYArr[n]?0:this.getBaseLog(e,i.globals.maxYArr[n]))-r;return t<1?t/s:(this.getBaseLog(e,t)-r)/s}},{key:"getLogYRatios",value:function(e){var t=this,n=this.w,i=this.w.globals;return i.yLogRatio=e.slice(),i.logYRange=i.yRange.map((function(e,r){if(n.config.yaxis[r]&&t.w.config.yaxis[r].logarithmic){var s,o=-Number.MAX_VALUE,a=Number.MIN_VALUE;return i.seriesLog.forEach((function(e,t){e.forEach((function(e){n.config.yaxis[t]&&n.config.yaxis[t].logarithmic&&(o=Math.max(e,o),a=Math.min(e,a))}))})),s=Math.pow(i.yRange[r],Math.abs(a-o)/i.yRange[r]),i.yLogRatio[r]=s/i.gridHeight,s}})),i.invalidLogScale?e.slice():i.yLogRatio}}],[{key:"checkComboSeries",value:function(e){var t=!1,n=0,i=0;return e.length&&void 0!==e[0].type&&e.forEach((function(e){"bar"!==e.type&&"column"!==e.type&&"candlestick"!==e.type&&"boxPlot"!==e.type||n++,void 0!==e.type&&i++})),i>0&&(t=!0),{comboBarCount:n,comboCharts:t}}},{key:"extendArrayProps",value:function(e,t,n){return t.yaxis&&(t=e.extendYAxis(t,n)),t.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),t.annotations.xaxis&&(t=e.extendXAxisAnnotations(t)),t.annotations.points&&(t=e.extendPointAnnotations(t))),t}}]),e}(),C=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t}return c(e,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.w;if("vertical"===e.label.orientation){var i=null!==t?t:0,r=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(i,"']"));if(null!==r){var s=r.getBoundingClientRect();r.setAttribute("x",parseFloat(r.getAttribute("x"))-s.height+4),"top"===e.label.position?r.setAttribute("y",parseFloat(r.getAttribute("y"))+s.width):r.setAttribute("y",parseFloat(r.getAttribute("y"))-s.width);var o=this.annoCtx.graphics.rotateAroundCenter(r),a=o.x,l=o.y;r.setAttribute("transform","rotate(-90 ".concat(a," ").concat(l,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var n=this.w;if(!e||void 0===t.label.text||void 0!==t.label.text&&!String(t.label.text).trim())return null;var i=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),r=e.getBoundingClientRect(),s=t.label.style.padding.left,o=t.label.style.padding.right,a=t.label.style.padding.top,l=t.label.style.padding.bottom;"vertical"===t.label.orientation&&(a=t.label.style.padding.left,l=t.label.style.padding.right,s=t.label.style.padding.top,o=t.label.style.padding.bottom);var c=r.left-i.left-s,u=r.top-i.top-a,h=this.annoCtx.graphics.drawRect(c-n.globals.barPadForNumericAxis,u,r.width+s+o,r.height+a+l,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&h.node.classList.add(t.id),h}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,n=function(n,i,r){var s=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(i,"']"));if(s){var o=s.parentNode,a=e.addBackgroundToAnno(s,n);a&&(o.insertBefore(a.node,s),n.label.mouseEnter&&a.node.addEventListener("mouseenter",n.label.mouseEnter.bind(e,n)),n.label.mouseLeave&&a.node.addEventListener("mouseleave",n.label.mouseLeave.bind(e,n)))}};t.config.annotations.xaxis.map((function(e,t){n(e,t,"xaxis")})),t.config.annotations.yaxis.map((function(e,t){n(e,t,"yaxis")})),t.config.annotations.points.map((function(e,t){n(e,t,"point")}))}},{key:"getY1Y2",value:function(e,t){var n,i="y1"===e?t.y:t.y2,r=this.w;if(this.annoCtx.invertAxis){var s=r.globals.labels.indexOf(i);r.config.xaxis.convertedCatToNumeric&&(s=r.globals.categoryLabels.indexOf(i));var o=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(s+1)+")");o&&(n=parseFloat(o.getAttribute("y")))}else{var a;a=r.config.yaxis[t.yAxisIndex].logarithmic?(i=new k(this.annoCtx.ctx).getLogVal(i,t.yAxisIndex))/r.globals.yLogRatio[t.yAxisIndex]:(i-r.globals.minYArr[t.yAxisIndex])/(r.globals.yRange[t.yAxisIndex]/r.globals.gridHeight),n=r.globals.gridHeight-a,r.config.yaxis[t.yAxisIndex]&&r.config.yaxis[t.yAxisIndex].reversed&&(n=a)}return n}},{key:"getX1X2",value:function(e,t){var n=this.w,i=this.annoCtx.invertAxis?n.globals.minY:n.globals.minX,r=this.annoCtx.invertAxis?n.globals.maxY:n.globals.maxX,s=this.annoCtx.invertAxis?n.globals.yRange[0]:n.globals.xRange,o=(t.x-i)/(s/n.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(o=(r-t.x)/(s/n.globals.gridWidth)),"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||(o=this.getStringX(t.x));var a=(t.x2-i)/(s/n.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(a=(r-t.x2)/(s/n.globals.gridWidth)),"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||(a=this.getStringX(t.x2)),"x1"===e?o:a}},{key:"getStringX",value:function(e){var t=this.w,n=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var i=t.globals.labels.indexOf(e),r=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(i+1)+")");return r&&(n=parseFloat(r.getAttribute("x"))),n}}]),e}(),A=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new C(this.annoCtx)}return c(e,[{key:"addXaxisAnnotation",value:function(e,t,n){var i,r=this.w,s=this.helpers.getX1X2("x1",e),o=e.label.text,a=e.strokeDashArray;if(x.isNumber(s)){if(null===e.x2||void 0===e.x2){var l=this.annoCtx.graphics.drawLine(s+e.offsetX,0+e.offsetY,s+e.offsetX,r.globals.gridHeight+e.offsetY,e.borderColor,a,e.borderWidth);t.appendChild(l.node),e.id&&l.node.classList.add(e.id)}else{if((i=this.helpers.getX1X2("x2",e))<s){var c=s;s=i,i=c}var u=this.annoCtx.graphics.drawRect(s+e.offsetX,0+e.offsetY,i-s,r.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,a);u.node.classList.add("apexcharts-annotation-rect"),u.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(u.node),e.id&&u.node.classList.add(e.id)}var h="top"===e.label.position?4:r.globals.gridHeight,d=this.annoCtx.graphics.getTextRects(o,parseFloat(e.label.style.fontSize)),f=this.annoCtx.graphics.drawText({x:s+e.label.offsetX,y:h+e.label.offsetY-("vertical"===e.label.orientation?"top"===e.label.position?d.width/2-12:-d.width/2:0),text:o,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});f.attr({rel:n}),t.appendChild(f.node),this.annoCtx.helpers.setOrientations(e,n)}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map((function(t,i){e.addXaxisAnnotation(t,n.node,i)})),n}}]),e}(),T=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new C(this.annoCtx)}return c(e,[{key:"addYaxisAnnotation",value:function(e,t,n){var i,r=this.w,s=e.strokeDashArray,o=this.helpers.getY1Y2("y1",e),a=e.label.text;if(null===e.y2||void 0===e.y2){var l=this.annoCtx.graphics.drawLine(0+e.offsetX,o+e.offsetY,this._getYAxisAnnotationWidth(e),o+e.offsetY,e.borderColor,s,e.borderWidth);t.appendChild(l.node),e.id&&l.node.classList.add(e.id)}else{if((i=this.helpers.getY1Y2("y2",e))>o){var c=o;o=i,i=c}var u=this.annoCtx.graphics.drawRect(0+e.offsetX,i+e.offsetY,this._getYAxisAnnotationWidth(e),o-i,0,e.fillColor,e.opacity,1,e.borderColor,s);u.node.classList.add("apexcharts-annotation-rect"),u.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(u.node),e.id&&u.node.classList.add(e.id)}var h="right"===e.label.position?r.globals.gridWidth:0,d=this.annoCtx.graphics.drawText({x:h+e.label.offsetX,y:(null!=i?i:o)+e.label.offsetY-3,text:a,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});d.attr({rel:n}),t.appendChild(d.node)}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.map((function(t,i){e.addYaxisAnnotation(t,n.node,i)})),n}}]),e}(),I=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new C(this.annoCtx)}return c(e,[{key:"addPointAnnotation",value:function(e,t,n){this.w;var i=this.helpers.getX1X2("x1",e),r=this.helpers.getY1Y2("y1",e);if(x.isNumber(i)){var s={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},o=this.annoCtx.graphics.drawMarker(i+e.marker.offsetX,r+e.marker.offsetY,s);t.appendChild(o.node);var a=e.label.text?e.label.text:"",l=this.annoCtx.graphics.drawText({x:i+e.label.offsetX,y:r+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:a,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(l.attr({rel:n}),t.appendChild(l.node),e.customSVG.SVG){var c=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});c.attr({transform:"translate(".concat(i+e.customSVG.offsetX,", ").concat(r+e.customSVG.offsetY,")")}),c.node.innerHTML=e.customSVG.SVG,t.appendChild(c.node)}if(e.image.path){var u=e.image.width?e.image.width:20,h=e.image.height?e.image.height:20;o=this.annoCtx.addImage({x:i+e.image.offsetX-u/2,y:r+e.image.offsetY-h/2,width:u,height:h,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&o.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&o.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e))}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map((function(t,i){e.addPointAnnotation(t,n.node,i)})),n}}]),e}(),E={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},P=function(){function e(){a(this,e),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return c(e,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[E],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(e){return new Date(e).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)/e.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return null!==e?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),e}(),R=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.graphics=new S(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new C(this),this.xAxisAnnotations=new A(this),this.yAxisAnnotations=new T(this),this.pointsAnnotations=new I(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return c(e,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),i=this.pointsAnnotations.drawPointAnnotations(),r=e.config.chart.animations.enabled,s=[t,n,i],o=[n.node,t.node,i.node],a=0;a<3;a++)e.globals.dom.elGraphical.add(s[a]),!r||e.globals.resized||e.globals.dataChanged||"scatter"!==e.config.chart.type&&"bubble"!==e.config.chart.type&&e.globals.dataPoints>1&&o[a].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:o[a],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map((function(t,n){e.addImage(t,n)}))}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map((function(t,n){e.addText(t,n)}))}},{key:"addXaxisAnnotation",value:function(e,t,n){this.xAxisAnnotations.addXaxisAnnotation(e,t,n)}},{key:"addYaxisAnnotation",value:function(e,t,n){this.yAxisAnnotations.addYaxisAnnotation(e,t,n)}},{key:"addPointAnnotation",value:function(e,t,n){this.pointsAnnotations.addPointAnnotation(e,t,n)}},{key:"addText",value:function(e,t){var n=e.x,i=e.y,r=e.text,s=e.textAnchor,o=e.foreColor,a=e.fontSize,l=e.fontFamily,c=e.fontWeight,u=e.cssClass,h=e.backgroundColor,d=e.borderWidth,f=e.strokeDashArray,p=e.borderRadius,g=e.borderColor,m=e.appendTo,v=void 0===m?".apexcharts-annotations":m,y=e.paddingLeft,b=void 0===y?4:y,x=e.paddingRight,w=void 0===x?4:x,_=e.paddingBottom,S=void 0===_?2:_,k=e.paddingTop,C=void 0===k?2:k,A=this.w,T=this.graphics.drawText({x:n,y:i,text:r,textAnchor:s||"start",fontSize:a||"12px",fontWeight:c||"regular",fontFamily:l||A.config.chart.fontFamily,foreColor:o||A.config.chart.foreColor,cssClass:u}),I=A.globals.dom.baseEl.querySelector(v);I&&I.appendChild(T.node);var E=T.bbox();if(r){var P=this.graphics.drawRect(E.x-b,E.y-C,E.width+b+w,E.height+S+C,p,h||"transparent",1,d,g,f);I.insertBefore(P.node,T.node)}}},{key:"addImage",value:function(e,t){var n=this.w,i=e.path,r=e.x,s=void 0===r?0:r,o=e.y,a=void 0===o?0:o,l=e.width,c=void 0===l?20:l,u=e.height,h=void 0===u?20:u,d=e.appendTo,f=void 0===d?".apexcharts-annotations":d,p=n.globals.dom.Paper.image(i);p.size(c,h).move(s,a);var g=n.globals.dom.baseEl.querySelector(f);return g&&g.appendChild(p.node),p}},{key:"addXaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(e,t,n){return void 0===this.invertAxis&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(e){var t=e.params,n=e.pushToMemory,i=e.context,r=e.type,s=e.contextMethod,o=i,a=o.w,l=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations")),c=l.childNodes.length+1,u=new P,h=Object.assign({},"xaxis"===r?u.xAxisAnnotation:"yaxis"===r?u.yAxisAnnotation:u.pointAnnotation),d=x.extend(h,t);switch(r){case"xaxis":this.addXaxisAnnotation(d,l,c);break;case"yaxis":this.addYaxisAnnotation(d,l,c);break;case"point":this.addPointAnnotation(d,l,c)}var f=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(c,"']")),p=this.helpers.addBackgroundToAnno(f,d);return p&&l.insertBefore(p.node,f),n&&a.globals.memory.methodsToExec.push({context:o,id:d.id?d.id:x.randomId(),method:s,label:"addAnnotation",params:t}),i}},{key:"clearAnnotations",value:function(e){var t=e.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");t.globals.memory.methodsToExec.map((function(e,n){"addText"!==e.label&&"addAnnotation"!==e.label||t.globals.memory.methodsToExec.splice(n,1)})),n=x.listToArray(n),Array.prototype.forEach.call(n,(function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}))}},{key:"removeAnnotation",value:function(e,t){var n=e.w,i=n.globals.dom.baseEl.querySelectorAll(".".concat(t));i&&(n.globals.memory.methodsToExec.map((function(e,i){e.id===t&&n.globals.memory.methodsToExec.splice(i,1)})),Array.prototype.forEach.call(i,(function(e){e.parentElement.removeChild(e)})))}}]),e}(),L=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0}return c(e,[{key:"clippedImgArea",value:function(e){var t=this.w,n=t.config,i=parseInt(t.globals.gridWidth,10),r=parseInt(t.globals.gridHeight,10),s=i>r?i:r,o=e.image,a=0,l=0;void 0===e.width&&void 0===e.height?void 0!==n.fill.image.width&&void 0!==n.fill.image.height?(a=n.fill.image.width+1,l=n.fill.image.height):(a=s+1,l=s):(a=e.width,l=e.height);var c=document.createElementNS(t.globals.SVGNS,"pattern");S.setAttrs(c,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:a+"px",height:l+"px"});var u=document.createElementNS(t.globals.SVGNS,"image");c.appendChild(u),u.setAttributeNS(window.SVG.xlink,"href",o),S.setAttrs(u,{x:0,y:0,preserveAspectRatio:"none",width:a+"px",height:l+"px"}),u.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(e){var t=this.w;return("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||"heatmap"===t.config.chart.type||"treemap"===t.config.chart.type?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(e){var t=this.w;this.opts=e;var n,i,r,s=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var o=this.getFillColors()[this.seriesIndex];void 0!==t.globals.seriesColors[this.seriesIndex]&&(o=t.globals.seriesColors[this.seriesIndex]),"function"==typeof o&&(o=o({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:t}));var a=this.getFillType(this.seriesIndex),l=Array.isArray(s.fill.opacity)?s.fill.opacity[this.seriesIndex]:s.fill.opacity;e.color&&(o=e.color);var c=o;if(-1===o.indexOf("rgb")?o.length<9&&(c=x.hexToRgba(o,l)):o.indexOf("rgba")>-1&&(l=x.getOpacityFromRGBA(o)),e.opacity&&(l=e.opacity),"pattern"===a&&(i=this.handlePatternFill(i,o,l,c)),"gradient"===a&&(r=this.handleGradientFill(o,l,this.seriesIndex)),"image"===a){var u=s.fill.image.src,h=e.patternID?e.patternID:"";this.clippedImgArea({opacity:l,image:Array.isArray(u)?e.seriesNumber<u.length?u[e.seriesNumber]:u[0]:u,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:"pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(h)}),n="url(#pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(h,")")}else n="gradient"===a?r:"pattern"===a?i:c;return e.solid&&(n=c),n}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,n=this.opts,i=[];return e.globals.comboCharts?"line"===e.config.series[this.seriesIndex].type?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors):"line"===t.chart.type?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors),void 0!==n.fillColors&&(i=[],Array.isArray(n.fillColors)?i=n.fillColors.slice():i.push(n.fillColors)),i}},{key:"handlePatternFill",value:function(e,t,n,i){var r=this.w.config,s=this.opts,o=new S(this.ctx),a=void 0===r.fill.pattern.strokeWidth?Array.isArray(r.stroke.width)?r.stroke.width[this.seriesIndex]:r.stroke.width:Array.isArray(r.fill.pattern.strokeWidth)?r.fill.pattern.strokeWidth[this.seriesIndex]:r.fill.pattern.strokeWidth,l=t;return e=Array.isArray(r.fill.pattern.style)?void 0!==r.fill.pattern.style[s.seriesNumber]?o.drawPattern(r.fill.pattern.style[s.seriesNumber],r.fill.pattern.width,r.fill.pattern.height,l,a,n):i:o.drawPattern(r.fill.pattern.style,r.fill.pattern.width,r.fill.pattern.height,l,a,n),e}},{key:"handleGradientFill",value:function(e,t,n){var i,r=this.w.config,s=this.opts,o=new S(this.ctx),a=new x,l=r.fill.gradient.type,c=e,u=void 0===r.fill.gradient.opacityFrom?t:Array.isArray(r.fill.gradient.opacityFrom)?r.fill.gradient.opacityFrom[n]:r.fill.gradient.opacityFrom;c.indexOf("rgba")>-1&&(u=x.getOpacityFromRGBA(c));var h=void 0===r.fill.gradient.opacityTo?t:Array.isArray(r.fill.gradient.opacityTo)?r.fill.gradient.opacityTo[n]:r.fill.gradient.opacityTo;if(void 0===r.fill.gradient.gradientToColors||0===r.fill.gradient.gradientToColors.length)i="dark"===r.fill.gradient.shade?a.shadeColor(-1*parseFloat(r.fill.gradient.shadeIntensity),e.indexOf("rgb")>-1?x.rgb2hex(e):e):a.shadeColor(parseFloat(r.fill.gradient.shadeIntensity),e.indexOf("rgb")>-1?x.rgb2hex(e):e);else if(r.fill.gradient.gradientToColors[s.seriesNumber]){var d=r.fill.gradient.gradientToColors[s.seriesNumber];i=d,d.indexOf("rgba")>-1&&(h=x.getOpacityFromRGBA(d))}else i=e;if(r.fill.gradient.inverseColors){var f=c;c=i,i=f}return c.indexOf("rgb")>-1&&(c=x.rgb2hex(c)),i.indexOf("rgb")>-1&&(i=x.rgb2hex(i)),o.drawGradient(l,c,i,u,h,s.size,r.fill.gradient.stops,r.fill.gradient.colorStops,n)}}]),e}(),N=function(){function e(t,n){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)void 0===e.globals.markers.size[t]&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map((function(t){return e.config.markers.size}))}},{key:"plotChartMarkers",value:function(e,t,n,i){var r,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.w,a=t,l=e,c=null,u=new S(this.ctx),h=o.config.markers.discrete&&o.config.markers.discrete.length;if((o.globals.markers.size[t]>0||s||h)&&(c=u.group({class:s||h?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(o.globals.cuid,")")),Array.isArray(l.x))for(var d=0;d<l.x.length;d++){var f=n;1===n&&0===d&&(f=0),1===n&&1===d&&(f=1);var p="apexcharts-marker";"line"!==o.config.chart.type&&"area"!==o.config.chart.type||o.globals.comboCharts||o.config.tooltip.intersect||(p+=" no-pointer-events");var g=Array.isArray(o.config.markers.size)?o.globals.markers.size[t]>0:o.config.markers.size>0;if(g||s||h){x.isNumber(l.y[d])?p+=" w".concat(x.randomId()):p="apexcharts-nullpoint";var m=this.getMarkerConfig({cssClass:p,seriesIndex:t,dataPointIndex:f});o.config.series[a].data[f]&&(o.config.series[a].data[f].fillColor&&(m.pointFillColor=o.config.series[a].data[f].fillColor),o.config.series[a].data[f].strokeColor&&(m.pointStrokeColor=o.config.series[a].data[f].strokeColor)),i&&(m.pSize=i),(r=u.drawMarker(l.x[d],l.y[d],m)).attr("rel",f),r.attr("j",f),r.attr("index",t),r.node.setAttribute("default-marker-size",m.pSize);var v=new _(this.ctx);v.setSelectionFilter(r,t,f),this.addEvents(r),c&&c.add(r)}else void 0===o.globals.pointsArray[t]&&(o.globals.pointsArray[t]=[]),o.globals.pointsArray[t].push([l.x[d],l.y[d]])}return c}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,n=e.seriesIndex,i=e.dataPointIndex,r=void 0===i?null:i,s=e.finishRadius,o=void 0===s?null:s,a=this.w,l=this.getMarkerStyle(n),c=a.globals.markers.size[n],u=a.config.markers;return null!==r&&u.discrete.length&&u.discrete.map((function(e){e.seriesIndex===n&&e.dataPointIndex===r&&(l.pointStrokeColor=e.strokeColor,l.pointFillColor=e.fillColor,c=e.size,l.pointShape=e.shape)})),{pSize:null===o?c:o,pRadius:u.radius,width:Array.isArray(u.width)?u.width[n]:u.width,height:Array.isArray(u.height)?u.height[n]:u.height,pointStrokeWidth:Array.isArray(u.strokeWidth)?u.strokeWidth[n]:u.strokeWidth,pointStrokeColor:l.pointStrokeColor,pointFillColor:l.pointFillColor,shape:l.pointShape||(Array.isArray(u.shape)?u.shape[n]:u.shape),class:t,pointStrokeOpacity:Array.isArray(u.strokeOpacity)?u.strokeOpacity[n]:u.strokeOpacity,pointStrokeDashArray:Array.isArray(u.strokeDashArray)?u.strokeDashArray[n]:u.strokeDashArray,pointFillOpacity:Array.isArray(u.fillOpacity)?u.fillOpacity[n]:u.fillOpacity,seriesIndex:n}}},{key:"addEvents",value:function(e){var t=this.w,n=new S(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,n=t.globals.markers.colors,i=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(i)?i[e]:i,pointFillColor:Array.isArray(n)?n[e]:n}}}]),e}(),O=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return c(e,[{key:"draw",value:function(e,t,n){var i=this.w,r=new S(this.ctx),s=n.realIndex,o=n.pointsPos,a=n.zRatio,l=n.elParent,c=r.group({class:"apexcharts-series-markers apexcharts-series-".concat(i.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(i.globals.cuid,")")),Array.isArray(o.x))for(var u=0;u<o.x.length;u++){var h=t+1,d=!0;0===t&&0===u&&(h=0),0===t&&1===u&&(h=1);var f=0,p=i.globals.markers.size[s];if(a!==1/0){p=i.globals.seriesZ[s][h]/a;var g=i.config.plotOptions.bubble;g.minBubbleRadius&&p<g.minBubbleRadius&&(p=g.minBubbleRadius),g.maxBubbleRadius&&p>g.maxBubbleRadius&&(p=g.maxBubbleRadius)}i.config.chart.animations.enabled||(f=p);var m=o.x[u],v=o.y[u];if(f=f||0,null!==v&&void 0!==i.globals.series[s][h]||(d=!1),d){var y=this.drawPoint(m,v,f,p,s,h,t);c.add(y)}l.add(c)}}},{key:"drawPoint",value:function(e,t,n,i,r,s,o){var a=this.w,l=r,c=new w(this.ctx),u=new _(this.ctx),h=new L(this.ctx),d=new N(this.ctx),f=new S(this.ctx),p=d.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:s,finishRadius:"bubble"===a.config.chart.type||a.globals.comboCharts&&a.config.series[r]&&"bubble"===a.config.series[r].type?i:null});i=p.pSize;var g,m=h.fillPath({seriesNumber:r,dataPointIndex:s,color:p.pointFillColor,patternUnits:"objectBoundingBox",value:a.globals.series[r][o]});if("circle"===p.shape?g=f.drawCircle(n):"square"!==p.shape&&"rect"!==p.shape||(g=f.drawRect(0,0,p.width-p.pointStrokeWidth/2,p.height-p.pointStrokeWidth/2,p.pRadius)),a.config.series[l].data[s]&&a.config.series[l].data[s].fillColor&&(m=a.config.series[l].data[s].fillColor),g.attr({x:e-p.width/2-p.pointStrokeWidth/2,y:t-p.height/2-p.pointStrokeWidth/2,cx:e,cy:t,fill:m,"fill-opacity":p.pointFillOpacity,stroke:p.pointStrokeColor,r:i,"stroke-width":p.pointStrokeWidth,"stroke-dasharray":p.pointStrokeDashArray,"stroke-opacity":p.pointStrokeOpacity}),a.config.chart.dropShadow.enabled){var v=a.config.chart.dropShadow;u.dropShadow(g,v,r)}if(!this.initialAnim||a.globals.dataChanged||a.globals.resized)a.globals.animationEnded=!0;else{var y=a.config.chart.animations.speed;c.animateMarker(g,0,"circle"===p.shape?i:{width:p.width,height:p.height},y,a.globals.easing,(function(){window.setTimeout((function(){c.animationCompleted(g)}),100)}))}if(a.globals.dataChanged&&"circle"===p.shape)if(this.dynamicAnim){var b,x,k,C,A=a.config.chart.animations.dynamicAnimation.speed;null!=(C=a.globals.previousPaths[r]&&a.globals.previousPaths[r][o])&&(b=C.x,x=C.y,k=void 0!==C.r?C.r:i);for(var T=0;T<a.globals.collapsedSeries.length;T++)a.globals.collapsedSeries[T].index===r&&(A=1,i=0);0===e&&0===t&&(i=0),c.animateCircle(g,{cx:b,cy:x,r:k},{cx:e,cy:t,r:i},A,a.globals.easing)}else g.attr({r:i});return g.attr({rel:s,j:s,index:r,"default-marker-size":i}),u.setSelectionFilter(g,r,s),d.addEvents(g),g.node.classList.add("apexcharts-marker"),g}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),e}(),M=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"dataLabelsCorrection",value:function(e,t,n,i,r,s,o){var a=this.w,l=!1,c=new S(this.ctx).getTextRects(n,o),u=c.width,h=c.height;t<0&&(t=0),t>a.globals.gridHeight+h&&(t=a.globals.gridHeight+h/2),void 0===a.globals.dataLabelsRects[i]&&(a.globals.dataLabelsRects[i]=[]),a.globals.dataLabelsRects[i].push({x:e,y:t,width:u,height:h});var d=a.globals.dataLabelsRects[i].length-2,f=void 0!==a.globals.lastDrawnDataLabelsIndexes[i]?a.globals.lastDrawnDataLabelsIndexes[i][a.globals.lastDrawnDataLabelsIndexes[i].length-1]:0;if(void 0!==a.globals.dataLabelsRects[i][d]){var p=a.globals.dataLabelsRects[i][f];(e>p.x+p.width+2||t>p.y+p.height+2||e+u<p.x)&&(l=!0)}return(0===r||s)&&(l=!0),{x:e,y:t,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(e,t,n){var i=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,s=this.w,o=new S(this.ctx),a=s.config.dataLabels,l=0,c=0,u=n,h=null;if(!a.enabled||!Array.isArray(e.x))return h;h=o.group({class:"apexcharts-data-labels"});for(var d=0;d<e.x.length;d++)if(l=e.x[d]+a.offsetX,c=e.y[d]+a.offsetY+r,!isNaN(l)){1===n&&0===d&&(u=0),1===n&&1===d&&(u=1);var f=s.globals.series[t][u],p="",g=function(e){return s.config.dataLabels.formatter(e,{ctx:i.ctx,seriesIndex:t,dataPointIndex:u,w:s})};if("bubble"===s.config.chart.type){p=g(f=s.globals.seriesZ[t][u]),c=e.y[d];var m=new O(this.ctx),v=m.centerTextInBubble(c,t,u);c=v.y}else void 0!==f&&(p=g(f));this.plotDataLabelsText({x:l,y:c,text:p,i:t,j:u,parent:h,offsetCorrection:!0,dataLabelsConfig:s.config.dataLabels})}return h}},{key:"plotDataLabelsText",value:function(e){var t=this.w,n=new S(this.ctx),i=e.x,r=e.y,s=e.i,o=e.j,a=e.text,l=e.textAnchor,c=e.fontSize,u=e.parent,h=e.dataLabelsConfig,d=e.color,f=e.alwaysDrawDataLabel,p=e.offsetCorrection;if(!(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(s)<0)){var g={x:i,y:r,drawnextLabel:!0,textRects:null};p&&(g=this.dataLabelsCorrection(i,r,a,s,o,f,parseInt(h.style.fontSize,10))),t.globals.zoomed||(i=g.x,r=g.y),g.textRects&&(i<-10-g.textRects.width||i>t.globals.gridWidth+g.textRects.width+10)&&(a="");var m=t.globals.dataLabels.style.colors[s];(("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(m=t.globals.dataLabels.style.colors[o]),"function"==typeof m&&(m=m({series:t.globals.series,seriesIndex:s,dataPointIndex:o,w:t})),d&&(m=d);var v=h.offsetX,y=h.offsetY;if("bar"!==t.config.chart.type&&"rangeBar"!==t.config.chart.type||(v=0,y=0),g.drawnextLabel){var b=n.drawText({width:100,height:parseInt(h.style.fontSize,10),x:i+v,y:r+y,foreColor:m,textAnchor:l||h.textAnchor,text:a,fontSize:c||h.style.fontSize,fontFamily:h.style.fontFamily,fontWeight:h.style.fontWeight||"normal"});if(b.attr({class:"apexcharts-datalabel",cx:i,cy:r}),h.dropShadow.enabled){var x=h.dropShadow;new _(this.ctx).dropShadow(b,x)}u.add(b),void 0===t.globals.lastDrawnDataLabelsIndexes[s]&&(t.globals.lastDrawnDataLabelsIndexes[s]=[]),t.globals.lastDrawnDataLabelsIndexes[s].push(o)}}}},{key:"addBackgroundToDataLabel",value:function(e,t){var n=this.w,i=n.config.dataLabels.background,r=i.padding,s=i.padding/2,o=t.width,a=t.height,l=new S(this.ctx).drawRect(t.x-r,t.y-s/2,o+2*r,a+s,i.borderRadius,"transparent"===n.config.chart.background?"#fff":n.config.chart.background,i.opacity,i.borderWidth,i.borderColor);return i.dropShadow.enabled&&new _(this.ctx).dropShadow(l,i.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var e=this.w;if("bubble"!==e.config.chart.type)for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<t.length;n++){var i=t[n],r=i.getBBox(),s=null;if(r.width&&r.height&&(s=this.addBackgroundToDataLabel(i,r)),s){i.parentNode.insertBefore(s.node,i);var o=i.getAttribute("fill");!e.config.chart.animations.enabled||e.globals.resized||e.globals.dataChanged?s.attr({fill:o}):s.animate().attr({fill:o}),i.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),n=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),i=0;i<t.length;i++)n&&n.insertBefore(t[i],n.nextSibling)}}]),e}(),D=function(){function e(t){a(this,e),this.w=t.w,this.barCtx=t}return c(e,[{key:"handleBarDataLabels",value:function(e){var t=e.x,n=e.y,i=e.y1,r=e.y2,s=e.i,o=e.j,a=e.realIndex,l=e.series,c=e.barHeight,u=e.barWidth,h=e.barYPosition,d=e.visibleSeries,f=e.renderedPath,p=this.w,g=new S(this.barCtx.ctx),m=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[a]:this.barCtx.strokeWidth,v=t+parseFloat(u*d),y=n+parseFloat(c*d);p.globals.isXNumeric&&!p.globals.isBarHorizontal&&(v=t+parseFloat(u*(d+1)),y=n+parseFloat(c*(d+1))-m);var b=t,x=n,w={},_=p.config.dataLabels,k=this.barCtx.barOptions.dataLabels;void 0!==h&&this.barCtx.isRangeBar&&(y=h,x=h);var C=_.offsetX,A=_.offsetY,T={width:0,height:0};if(p.config.dataLabels.enabled){var I=this.barCtx.series[s][o];T=g.getTextRects(p.globals.yLabelFormatters[0](I),parseFloat(_.style.fontSize))}var E={x:t,y:n,i:s,j:o,renderedPath:f,bcx:v,bcy:y,barHeight:c,barWidth:u,textRects:T,strokeWidth:m,dataLabelsX:b,dataLabelsY:x,barDataLabelsConfig:k,offX:C,offY:A};return w=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(E):this.calculateColumnsDataLabelsPosition(E),f.attr({cy:w.bcy,cx:w.bcx,j:o,val:l[s][o],barHeight:c,barWidth:u}),this.drawCalculatedDataLabels({x:w.dataLabelsX,y:w.dataLabelsY,val:this.barCtx.isRangeBar?[i,r]:l[s][o],i:a,j:o,barWidth:u,barHeight:c,textRects:T,dataLabelsConfig:_})}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t,n=this.w,i=e.i,r=e.j,s=e.y,o=e.bcx,a=e.barWidth,l=e.barHeight,c=e.textRects,u=e.dataLabelsY,h=e.barDataLabelsConfig,d=e.strokeWidth,f=e.offX,p=e.offY;l=Math.abs(l);var g="vertical"===n.config.plotOptions.bar.dataLabels.orientation;o-=d/2;var m=n.globals.gridWidth/n.globals.dataPoints;t=n.globals.isXNumeric?o-a/2+f:o-m+a/2+f,g&&(t=t+c.height/2-d/2-2);var v=this.barCtx.series[i][r]<0,y=s;switch(this.barCtx.isReversed&&(y=s-l+(v?2*l:0),s-=l),h.position){case"center":u=g?v?y+l/2+p:y+l/2-p:v?y-l/2+c.height/2+p:y+l/2+c.height/2-p;break;case"bottom":u=g?v?y+l+p:y+l-p:v?y-l+c.height+d+p:y+l-c.height/2+d-p;break;case"top":u=g?v?y+p:y-p:v?y-c.height/2-p:y+c.height+p}return n.config.chart.stacked||(u<0?u=0+d:u+c.height/3>n.globals.gridHeight&&(u=n.globals.gridHeight-d)),{bcx:o,bcy:s,dataLabelsX:t,dataLabelsY:u}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this.w,n=e.x,i=e.i,r=e.j,s=e.bcy,o=e.barHeight,a=e.barWidth,l=e.textRects,c=e.dataLabelsX,u=e.strokeWidth,h=e.barDataLabelsConfig,d=e.offX,f=e.offY,p=t.globals.gridHeight/t.globals.dataPoints;a=Math.abs(a);var g=s-(this.barCtx.isRangeBar?0:p)+o/2+l.height/2+f-3,m=this.barCtx.series[i][r]<0,v=n;switch(this.barCtx.isReversed&&(v=n+a-(m?2*a:0),n=t.globals.gridWidth-a),h.position){case"center":c=m?v+a/2-d:Math.max(l.width/2,v-a/2)+d;break;case"bottom":c=m?v+a-u-Math.round(l.width/2)-d:v-a+u+Math.round(l.width/2)+d;break;case"top":c=m?v-u+Math.round(l.width/2)-d:v-u-Math.round(l.width/2)+d}return t.config.chart.stacked||(c<0?c=c+l.width+u:c+l.width/2>t.globals.gridWidth&&(c=t.globals.gridWidth-l.width-u)),{bcx:n,bcy:s,dataLabelsX:c,dataLabelsY:g}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,n=e.y,i=e.val,r=e.i,o=e.j,a=e.textRects,l=e.barHeight,c=e.barWidth,u=e.dataLabelsConfig,h=this.w,d="rotate(0)";"vertical"===h.config.plotOptions.bar.dataLabels.orientation&&(d="rotate(-90, ".concat(t,", ").concat(n,")"));var f=new M(this.barCtx.ctx),p=new S(this.barCtx.ctx),g=u.formatter,m=null,v=h.globals.collapsedSeriesIndices.indexOf(r)>-1;if(u.enabled&&!v){m=p.group({class:"apexcharts-data-labels",transform:d});var y="";void 0!==i&&(y=g(i,{seriesIndex:r,dataPointIndex:o,w:h}));var b=h.globals.series[r][o]<0,x=h.config.plotOptions.bar.dataLabels.position;"vertical"===h.config.plotOptions.bar.dataLabels.orientation&&("top"===x&&(u.textAnchor=b?"end":"start"),"center"===x&&(u.textAnchor="middle"),"bottom"===x&&(u.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<p.getTextRects(y,parseFloat(u.style.fontSize)).width&&(y=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?a.width/1.6>Math.abs(c)&&(y=""):a.height/1.6>Math.abs(l)&&(y=""));var w=s({},u);this.barCtx.isHorizontal&&i<0&&("start"===u.textAnchor?w.textAnchor="end":"end"===u.textAnchor&&(w.textAnchor="start")),f.plotDataLabelsText({x:t,y:n,text:y,i:r,j:o,parent:m,dataLabelsConfig:w,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return m}}]),e}(),F=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}return c(e,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(x.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),n=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(e,t){var n=this.w;function i(n){for(var i=0;i<n.length;i++)n[i].index===t&&e.node.classList.add("apexcharts-series-collapsed")}i(n.globals.collapsedSeries),i(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.w,r=x.clone(i.globals.initialSeries);i.globals.previousPaths=[],n?(i.globals.collapsedSeries=[],i.globals.ancillaryCollapsedSeries=[],i.globals.collapsedSeriesIndices=[],i.globals.ancillaryCollapsedSeriesIndices=[]):r=this.emptyCollapsedSeries(r),i.config.series=r,e&&(t&&(i.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,n=0;n<e.length;n++)t.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n].data=[]);return e}},{key:"toggleSeriesOnHover",value:function(e,t){var n=this.w;t||(t=e.target);var i=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===e.type){var r=parseInt(t.getAttribute("rel"),10)-1,s=null,o=null;n.globals.axisCharts||"radialBar"===n.config.chart.type?n.globals.axisCharts?(s=n.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),o=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(r,"']"))):s=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']")):s=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"'] path"));for(var a=0;a<i.length;a++)i[a].classList.add(this.legendInactiveClass);null!==s&&(n.globals.axisCharts||s.parentNode.classList.remove(this.legendInactiveClass),s.classList.remove(this.legendInactiveClass),null!==o&&o.classList.remove(this.legendInactiveClass))}else if("mouseout"===e.type)for(var l=0;l<i.length;l++)i[l].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var n=this,i=this.w,r=i.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),s=function(e){for(var t=0;t<r.length;t++)r[t].classList[e](n.legendInactiveClass)};if("mousemove"===e.type){var o=parseInt(t.getAttribute("rel"),10)-1;s("add"),function(e){for(var t=0;t<r.length;t++){var i=parseInt(r[t].getAttribute("val"),10);i>=e.from&&i<=e.to&&r[t].classList.remove(n.legendInactiveClass)}}(i.config.plotOptions.heatmap.colorScale.ranges[o])}else"mouseout"===e.type&&s("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=this.w,i=0;if(n.config.series.length>1)for(var r=n.config.series.map((function(t,i){var r=!1;return e&&(r="bar"===n.config.series[i].type||"column"===n.config.series[i].type),t.data&&t.data.length>0&&!r?i:-1})),s="asc"===t?0:r.length-1;"asc"===t?s<r.length:s>=0;"asc"===t?s++:s--)if(-1!==r[s]){i=r[s];break}return i}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(t,n,i){for(var r=t[n].childNodes,s={type:i,paths:[],realIndex:t[n].getAttribute("data:realIndex")},o=0;o<r.length;o++)if(r[o].hasAttribute("pathTo")){var a=r[o].getAttribute("pathTo");s.paths.push({d:a})}e.globals.previousPaths.push(s)}e.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach((function(n){for(var i,r=(i=n,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i,"-series .apexcharts-series"))),s=0;s<r.length;s++)t(r,s,n)})),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(n.length>0)for(var i=function(t){for(var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(t,"'] rect")),i=[],r=function(e){var t=function(t){return n[e].getAttribute(t)},r={x:parseFloat(t("x")),y:parseFloat(t("y")),width:parseFloat(t("width")),height:parseFloat(t("height"))};i.push({rect:r,color:n[e].getAttribute("color")})},s=0;s<n.length;s++)r(s);e.globals.previousPaths.push(i)},r=0;r<n.length;r++)i(r);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(e){var t=this.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series"));if(n.length>0)for(var i=0;i<n.length;i++){for(var r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series[data\\:realIndex='").concat(i,"'] circle")),s=[],o=0;o<r.length;o++)s.push({x:r[o].getAttribute("cx"),y:r[o].getAttribute("cy"),r:r[o].getAttribute("r")});t.globals.previousPaths.push(s)}}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,n=new S(this.ctx),i=e.globals.svgWidth/2,r=e.globals.svgHeight/2,s="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,"left"===t.align?(i=10,s="start"):"right"===t.align&&(i=e.globals.svgWidth-10,s="end"),"top"===t.verticalAlign?r=50:"bottom"===t.verticalAlign&&(r=e.globals.svgHeight-50),i+=t.offsetX,r=r+parseInt(t.style.fontSize,10)+2+t.offsetY,void 0!==t.text&&""!==t.text){var o=n.drawText({x:i,y:r,text:t.text,textAnchor:s,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,n=0;n<e.length;n++)if(0===e[n].length)for(var i=0;i<e[t.globals.maxValsInArrayIndex].length;i++)e[n].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,n=this.filteredSeriesX(),i=0;i<n.length-1;i++)if(n[i][0]!==n[i+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map((function(e){return e.length>0?e:[]}));return e}}]),e}(),z=function(){function e(t){a(this,e),this.w=t.w,this.barCtx=t}return c(e,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<e.length;n++)if(e[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[n].length),t.globals.isXNumeric)for(var i=0;i<e[n].length;i++)t.globals.seriesX[n][i]>t.globals.minX&&t.globals.seriesX[n][i]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=e.length-1,t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(){var e,t,n,i,r,s,o,a,l=this.w,c=l.globals.dataPoints;this.barCtx.isRangeBar&&(c=l.globals.labels.length);var u=this.barCtx.seriesLen;if(l.config.plotOptions.bar.rangeBarGroupRows&&(u=1),this.barCtx.isHorizontal)r=(n=l.globals.gridHeight/c)/u,l.globals.isXNumeric&&(r=(n=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),r=r*parseInt(this.barCtx.barOptions.barHeight,10)/100,a=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),t=(n-r*this.barCtx.seriesLen)/2;else{if(i=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(i=l.globals.gridWidth/l.globals.dataPoints),s=i/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var h=this.barCtx.xRatio;l.config.xaxis.convertedCatToNumeric&&(h=this.barCtx.initialXRatio),l.globals.minXDiff&&.5!==l.globals.minXDiff&&l.globals.minXDiff/h>0&&(i=l.globals.minXDiff/h),(s=i/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(s=1)}o=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),e=l.globals.padHorizontal+(i-s*this.barCtx.seriesLen)/2}return{x:e,y:t,yDivision:n,xDivision:i,barHeight:r,barWidth:s,zeroH:o,zeroW:a}}},{key:"getPathFillColor",value:function(e,t,n,i){var r=this.w,s=new L(this.barCtx.ctx),o=null,a=this.barCtx.barOptions.distributed?n:t;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(i){e[t][n]>=i.from&&e[t][n]<=i.to&&(o=i.color)})),r.config.series[t].data[n]&&r.config.series[t].data[n].fillColor&&(o=r.config.series[t].data[n].fillColor),s.fillPath({seriesNumber:this.barCtx.barOptions.distributed?a:i,dataPointIndex:n,color:o,value:e[t][n]})}},{key:"getStrokeWidth",value:function(e,t,n){var i=0,r=this.w;return void 0===this.barCtx.series[e][t]||null===this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,r.config.stroke.show&&(this.barCtx.isNullValue||(i=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),i}},{key:"barBackground",value:function(e){var t=e.j,n=e.i,i=e.x1,r=e.x2,s=e.y1,o=e.y2,a=e.elSeries,l=this.w,c=new S(this.barCtx.ctx),u=new F(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&u===n){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var h=this.barCtx.barOptions.colors.backgroundBarColors[t],d=c.drawRect(void 0!==i?i:0,void 0!==s?s:0,void 0!==r?r:l.globals.gridWidth,void 0!==o?o:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,h,this.barCtx.barOptions.colors.backgroundBarOpacity);a.add(d),d.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t=e.barWidth,n=e.barXPosition,i=e.yRatio,r=e.y1,s=e.y2,o=e.strokeWidth,a=e.series,l=e.realIndex,c=e.i,u=e.j,h=e.w,d=new S(this.barCtx.ctx);(o=Array.isArray(o)?o[l]:o)||(o=0);var f={barWidth:t,strokeWidth:o,yRatio:i,barXPosition:n,y1:r,y2:s},p=this.getRoundedBars(h,f,a,c,u),g=n,m=n+t,v=d.move(g,r),y=d.move(g,r),b=d.line(m-o,r);return h.globals.previousPaths.length>0&&(y=this.barCtx.getPreviousPath(l,u,!1)),v=v+d.line(g,p.y2)+p.pathWithRadius+d.line(m-o,p.y2)+b+b+"z",y=y+d.line(g,r)+b+b+b+b+b+d.line(g,r),h.config.chart.stacked&&(this.barCtx.yArrj.push(p.y2),this.barCtx.yArrjF.push(Math.abs(r-p.y2)),this.barCtx.yArrjVal.push(this.barCtx.series[c][u])),{pathTo:v,pathFrom:y}}},{key:"getBarpaths",value:function(e){var t=e.barYPosition,n=e.barHeight,i=e.x1,r=e.x2,s=e.strokeWidth,o=e.series,a=e.realIndex,l=e.i,c=e.j,u=e.w,h=new S(this.barCtx.ctx);(s=Array.isArray(s)?s[a]:s)||(s=0);var d={barHeight:n,strokeWidth:s,barYPosition:t,x2:r,x1:i},f=this.getRoundedBars(u,d,o,l,c),p=h.move(i,t),g=h.move(i,t);u.globals.previousPaths.length>0&&(g=this.barCtx.getPreviousPath(a,c,!1));var m=t,v=t+n,y=h.line(i,v-s);return p=p+h.line(f.x2,m)+f.pathWithRadius+h.line(f.x2,v-s)+y+y+"z",g=g+h.line(i,m)+y+y+y+y+y+h.line(i,m),u.config.chart.stacked&&(this.barCtx.xArrj.push(f.x2),this.barCtx.xArrjF.push(Math.abs(i-f.x2)),this.barCtx.xArrjVal.push(this.barCtx.series[l][c])),{pathTo:p,pathFrom:g}}},{key:"getRoundedBars",value:function(e,t,n,i,r){var s=new S(this.barCtx.ctx),o=0,a=e.config.plotOptions.bar.borderRadius,l=Array.isArray(a);if(o=l?a[i>a.length-1?a.length-1:i]:a,e.config.chart.stacked&&n.length>1&&i!==this.barCtx.radiusOnSeriesNumber&&!l&&(o=0),this.barCtx.isHorizontal){var c="",u=t.x2;if(Math.abs(t.x1-t.x2)<o&&(o=Math.abs(t.x1-t.x2)),void 0!==n[i][r]||null!==n[i][r]){var h=this.barCtx.isReversed?n[i][r]>0:n[i][r]<0;h&&(o*=-1),u-=o,c=s.quadraticCurve(u+o,t.barYPosition,u+o,t.barYPosition+(h?-1*o:o))+s.line(u+o,t.barYPosition+t.barHeight-t.strokeWidth-(h?-1*o:o))+s.quadraticCurve(u+o,t.barYPosition+t.barHeight-t.strokeWidth,u,t.barYPosition+t.barHeight-t.strokeWidth)}return{pathWithRadius:c,x2:u}}var d="",f=t.y2;if(Math.abs(t.y1-t.y2)<o&&(o=Math.abs(t.y1-t.y2)),void 0!==n[i][r]||null!==n[i][r]){var p=n[i][r]<0;p&&(o*=-1),f+=o,d=s.quadraticCurve(t.barXPosition,f-o,t.barXPosition+(p?-1*o:o),f-o)+s.line(t.barXPosition+t.barWidth-t.strokeWidth-(p?-1*o:o),f-o)+s.quadraticCurve(t.barXPosition+t.barWidth-t.strokeWidth,f-o,t.barXPosition+t.barWidth-t.strokeWidth,f)}return{pathWithRadius:d,y2:f}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,n=this.w,i=0;i<t.length;i++){for(var r=0,s=0;s<t[n.globals.maxValsInArrayIndex].length;s++)r+=t[i][s];0===r&&this.barCtx.zeroSerieses.push(i)}for(var o=t.length-1;o>=0;o--)this.barCtx.zeroSerieses.indexOf(o)>-1&&o===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var a=t.length-1;a>=0;a--)n.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=n?t:null;return null!=e&&(i=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),i}},{key:"getYForValue",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=n?t:null;return null!=e&&(i=t-e/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),i}},{key:"getGoalValues",value:function(e,t,n,i,r){var s=this,o=this.w,a=[];return o.globals.seriesGoals[i]&&o.globals.seriesGoals[i][r]&&Array.isArray(o.globals.seriesGoals[i][r])&&o.globals.seriesGoals[i][r].forEach((function(i){var r;a.push((u(r={},e,"x"===e?s.getXForValue(i.value,t,!1):s.getYForValue(i.value,n,!1)),u(r,"attrs",i),r))})),a}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,n=e.barYPosition,i=e.goalX,r=e.goalY,s=e.barWidth,o=e.barHeight,a=new S(this.barCtx.ctx),l=a.group({className:"apexcharts-bar-goals-groups"}),c=null;return this.barCtx.isHorizontal?Array.isArray(i)&&i.forEach((function(e){var t=void 0!==e.attrs.strokeHeight?e.attrs.strokeHeight:o/2,i=n+t+o/2;c=a.drawLine(e.x,i-2*t,e.x,i,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeWidth?e.attrs.strokeWidth:2,e.attrs.strokeLineCap),l.add(c)})):Array.isArray(r)&&r.forEach((function(e){var n=void 0!==e.attrs.strokeWidth?e.attrs.strokeWidth:s/2,i=t+n+s/2;c=a.drawLine(i-2*n,e.y,i,e.y,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeHeight?e.attrs.strokeHeight:2,e.attrs.strokeLineCap),l.add(c)})),l}}]),e}(),B=function(){function e(t,n){a(this,e),this.ctx=t,this.w=t.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isRangeBar=i.globals.seriesRangeBar.length&&this.isHorizontal,this.xyRatios=n,null!==this.xyRatios&&(this.xRatio=n.xRatio,this.initialXRatio=n.initialXRatio,this.yRatio=n.yRatio,this.invertedXRatio=n.invertedXRatio,this.invertedYRatio=n.invertedYRatio,this.baseLineY=n.baseLineY,this.baseLineInvertedY=n.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new z(this)}return c(e,[{key:"draw",value:function(e,t){var n=this.w,i=new S(this.ctx),r=new k(this.ctx,n);e=r.getLogSeries(e),this.series=e,this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var o=i.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var a=0,l=0;a<e.length;a++,l++){var c,u,h,d,f=void 0,p=void 0,g=[],m=[],v=n.globals.comboCharts?t[a]:a,y=i.group({class:"apexcharts-series",rel:a+1,seriesName:x.escapeString(n.globals.seriesNames[v]),"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(y,v),e[a].length>0&&(this.visibleI=this.visibleI+1);var b=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=v),this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var _=this.barHelpers.initialPositions();p=_.y,b=_.barHeight,u=_.yDivision,d=_.zeroW,f=_.x,w=_.barWidth,c=_.xDivision,h=_.zeroH,this.horizontal||m.push(f+w/2);for(var C=i.group({class:"apexcharts-datalabels","data:realIndex":v}),A=i.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),T=0;T<n.globals.dataPoints;T++){var I=this.barHelpers.getStrokeWidth(a,T,v),E=null,P={indexes:{i:a,j:T,realIndex:v,bc:l},x:f,y:p,strokeWidth:I,elSeries:y};this.isHorizontal?(E=this.drawBarPaths(s(s({},P),{},{barHeight:b,zeroW:d,yDivision:u})),w=this.series[a][T]/this.invertedYRatio):(E=this.drawColumnPaths(s(s({},P),{},{xDivision:c,barWidth:w,zeroH:h})),b=this.series[a][T]/this.yRatio[this.yaxisIndex]);var R=this.barHelpers.drawGoalLine({barXPosition:E.barXPosition,barYPosition:E.barYPosition,goalX:E.goalX,goalY:E.goalY,barHeight:b,barWidth:w});R&&A.add(R),p=E.y,f=E.x,T>0&&m.push(f+w/2),g.push(p);var L=this.barHelpers.getPathFillColor(e,a,T,v);this.renderSeries({realIndex:v,pathFill:L,j:T,i:a,pathFrom:E.pathFrom,pathTo:E.pathTo,strokeWidth:I,elSeries:y,x:f,y:p,series:e,barHeight:b,barWidth:w,elDataLabelsWrap:C,elGoalsMarkers:A,visibleSeries:this.visibleI,type:"bar"})}n.globals.seriesXvalues[v]=m,n.globals.seriesYvalues[v]=g,o.add(y)}return o}},{key:"renderSeries",value:function(e){var t=e.realIndex,n=e.pathFill,i=e.lineFill,r=e.j,s=e.i,o=e.pathFrom,a=e.pathTo,l=e.strokeWidth,c=e.elSeries,u=e.x,h=e.y,d=e.y1,f=e.y2,p=e.series,g=e.barHeight,m=e.barWidth,v=e.barYPosition,y=e.elDataLabelsWrap,b=e.elGoalsMarkers,x=e.visibleSeries,w=e.type,k=this.w,C=new S(this.ctx);i||(i=this.barOptions.distributed?k.globals.stroke.colors[r]:k.globals.stroke.colors[t]),k.config.series[s].data[r]&&k.config.series[s].data[r].strokeColor&&(i=k.config.series[s].data[r].strokeColor),this.isNullValue&&(n="none");var A=r/k.config.chart.animations.animateGradually.delay*(k.config.chart.animations.speed/k.globals.dataPoints)/2.4,T=C.renderPaths({i:s,j:r,realIndex:t,pathFrom:o,pathTo:a,stroke:i,strokeWidth:l,strokeLineCap:k.config.stroke.lineCap,fill:n,animationDelay:A,initialSpeed:k.config.chart.animations.speed,dataChangeSpeed:k.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(w,"-area")});T.attr("clip-path","url(#gridRectMask".concat(k.globals.cuid,")"));var I=k.config.forecastDataPoints;I.count>0&&r>=k.globals.dataPoints-I.count&&(T.node.setAttribute("stroke-dasharray",I.dashArray),T.node.setAttribute("stroke-width",I.strokeWidth),T.node.setAttribute("fill-opacity",I.fillOpacity)),void 0!==d&&void 0!==f&&(T.attr("data-range-y1",d),T.attr("data-range-y2",f)),new _(this.ctx).setSelectionFilter(T,t,r),c.add(T);var E=new D(this).handleBarDataLabels({x:u,y:h,y1:d,y2:f,i:s,j:r,series:p,realIndex:t,barHeight:g,barWidth:m,barYPosition:v,renderedPath:T,visibleSeries:x});return null!==E&&y.add(E),c.add(y),b&&c.add(b),c}},{key:"drawBarPaths",value:function(e){var t=e.indexes,n=e.barHeight,i=e.strokeWidth,r=e.zeroW,s=e.x,o=e.y,a=e.yDivision,l=e.elSeries,c=this.w,u=t.i,h=t.j;c.globals.isXNumeric&&(o=(c.globals.seriesX[u][h]-c.globals.minX)/this.invertedXRatio-n);var d=o+n*this.visibleI;s=this.barHelpers.getXForValue(this.series[u][h],r);var f=this.barHelpers.getBarpaths({barYPosition:d,barHeight:n,x1:r,x2:s,strokeWidth:i,series:this.series,realIndex:t.realIndex,i:u,j:h,w:c});return c.globals.isXNumeric||(o+=a),this.barHelpers.barBackground({j:h,i:u,y1:d-n*this.visibleI,y2:n*this.seriesLen,elSeries:l}),{pathTo:f.pathTo,pathFrom:f.pathFrom,x:s,y:o,goalX:this.barHelpers.getGoalValues("x",r,null,u,h),barYPosition:d}}},{key:"drawColumnPaths",value:function(e){var t=e.indexes,n=e.x,i=e.y,r=e.xDivision,s=e.barWidth,o=e.zeroH,a=e.strokeWidth,l=e.elSeries,c=this.w,u=t.realIndex,h=t.i,d=t.j,f=t.bc;if(c.globals.isXNumeric){var p=u;c.globals.seriesX[u].length||(p=c.globals.maxValsInArrayIndex),n=(c.globals.seriesX[p][d]-c.globals.minX)/this.xRatio-s*this.seriesLen/2}var g=n+s*this.visibleI;i=this.barHelpers.getYForValue(this.series[h][d],o);var m=this.barHelpers.getColumnPaths({barXPosition:g,barWidth:s,y1:o,y2:i,strokeWidth:a,series:this.series,realIndex:t.realIndex,i:h,j:d,w:c});return c.globals.isXNumeric||(n+=r),this.barHelpers.barBackground({bc:f,j:d,i:h,x1:g-a/2-s*this.visibleI,x2:s*this.seriesLen+a/2,elSeries:l}),{pathTo:m.pathTo,pathFrom:m.pathFrom,x:n,y:i,goalY:this.barHelpers.getGoalValues("y",null,o,h,d),barXPosition:g}}},{key:"getPreviousPath",value:function(e,t){for(var n,i=this.w,r=0;r<i.globals.previousPaths.length;r++){var s=i.globals.previousPaths[r];s.paths&&s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(e,10)&&void 0!==i.globals.previousPaths[r].paths[t]&&(n=i.globals.previousPaths[r].paths[t].d)}return n}}]),e}(),q=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return c(e,[{key:"isValidDate",value:function(e){return!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var n=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(n)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var n=this.w.globals.locale,i=this.w.config.xaxis.labels.datetimeUTC,r=["\0"].concat(v(n.months)),s=[""].concat(v(n.shortMonths)),o=[""].concat(v(n.days)),a=[""].concat(v(n.shortDays));function l(e,t){var n=e+"";for(t=t||2;n.length<t;)n="0"+n;return n}var c=i?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var u=(i?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+r[0])).replace(/(^|[^\\])MMM/g,"$1"+s[0])).replace(/(^|[^\\])MM/g,"$1"+l(u))).replace(/(^|[^\\])M/g,"$1"+u);var h=i?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+a[0])).replace(/(^|[^\\])dd/g,"$1"+l(h))).replace(/(^|[^\\])d/g,"$1"+h);var d=i?e.getUTCHours():e.getHours(),f=d>12?d-12:0===d?12:d;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+l(d))).replace(/(^|[^\\])H/g,"$1"+d)).replace(/(^|[^\\])hh+/g,"$1"+l(f))).replace(/(^|[^\\])h/g,"$1"+f);var p=i?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+l(p))).replace(/(^|[^\\])m/g,"$1"+p);var g=i?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+l(g))).replace(/(^|[^\\])s/g,"$1"+g);var m=i?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+l(m,3)),m=Math.round(m/10),t=t.replace(/(^|[^\\])ff/g,"$1"+l(m)),m=Math.round(m/10);var y=d<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+m)).replace(/(^|[^\\])TT+/g,"$1"+y)).replace(/(^|[^\\])T/g,"$1"+y.charAt(0));var b=y.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var x=-e.getTimezoneOffset(),w=i||!x?"Z":x>0?"+":"-";if(!i){var _=(x=Math.abs(x))%60;w+=l(Math.floor(x/60))+":"+l(_)}t=t.replace(/(^|[^\\])K/g,"$1"+w);var S=(i?e.getUTCDay():e.getDay())+1;return(t=(t=(t=(t=t.replace(new RegExp(o[0],"g"),o[S])).replace(new RegExp(a[0],"g"),a[S])).replace(new RegExp(r[0],"g"),r[u])).replace(new RegExp(s[0],"g"),s[u])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,n){var i=this.w;void 0!==i.config.xaxis.min&&(e=i.config.xaxis.min),void 0!==i.config.xaxis.max&&(t=i.config.xaxis.max);var r=this.getDate(e),s=this.getDate(t),o=this.formatDate(r,"yyyy MM dd HH mm ss fff").split(" "),a=this.formatDate(s,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(o[6],10),maxMillisecond:parseInt(a[6],10),minSecond:parseInt(o[5],10),maxSecond:parseInt(a[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(a[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(a[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(a[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(a[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(a[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,n){return this.determineDaysOfMonths(e,t)-n}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,n){var i=this.daysCntOfYear[t]+n;return t>1&&this.isLeapYear()&&i++,i}},{key:"determineDaysOfMonths",value:function(e,t){var n=30;switch(e=x.monthMod(e),!0){case this.months30.indexOf(e)>-1:2===e&&(n=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:n=31}return n}}]),e}(),V=function(e){h(n,B);var t=g(n);function n(){return a(this,n),t.apply(this,arguments)}return c(n,[{key:"draw",value:function(e,t){var n=this.w,i=new S(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=e,this.seriesRangeStart=n.globals.seriesRangeStart,this.seriesRangeEnd=n.globals.seriesRangeEnd,this.barHelpers.initVariables(e);for(var r=i.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),o=0;o<e.length;o++){var a,l,c,u=void 0,h=void 0,d=void 0,f=n.globals.comboCharts?t[o]:o,p=i.group({class:"apexcharts-series",seriesName:x.escapeString(n.globals.seriesNames[f]),rel:o+1,"data:realIndex":f});this.ctx.series.addCollapsedClassToSeries(p,f),e[o].length>0&&(this.visibleI=this.visibleI+1);var g=0,m=0;this.yRatio.length>1&&(this.yaxisIndex=f);var v=this.barHelpers.initialPositions();h=v.y,c=v.zeroW,u=v.x,m=v.barWidth,a=v.xDivision,l=v.zeroH;for(var y=i.group({class:"apexcharts-datalabels","data:realIndex":f}),b=i.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),w=0;w<n.globals.dataPoints;w++){var _=this.barHelpers.getStrokeWidth(o,w,f),k=this.seriesRangeStart[o][w],C=this.seriesRangeEnd[o][w],A=null,T=null,I={x:u,y:h,strokeWidth:_,elSeries:p};if(d=v.yDivision,g=v.barHeight,this.isHorizontal){T=h+g*this.visibleI;var E=this.seriesLen;n.config.plotOptions.bar.rangeBarGroupRows&&(E=1);var P=(d-g*E)/2;if(void 0===n.config.series[o].data[w])break;if(n.config.series[o].data[w].x){var R=this.detectOverlappingBars({i:o,j:w,barYPosition:T,srty:P,barHeight:g,yDivision:d,initPositions:v});g=R.barHeight,T=R.barYPosition}m=(A=this.drawRangeBarPaths(s({indexes:{i:o,j:w,realIndex:f},barHeight:g,barYPosition:T,zeroW:c,yDivision:d,y1:k,y2:C},I))).barWidth}else g=(A=this.drawRangeColumnPaths(s({indexes:{i:o,j:w,realIndex:f},zeroH:l,barWidth:m,xDivision:a},I))).barHeight;var L=this.barHelpers.drawGoalLine({barXPosition:A.barXPosition,barYPosition:T,goalX:A.goalX,goalY:A.goalY,barHeight:g,barWidth:m});L&&b.add(L),h=A.y,u=A.x;var N=this.barHelpers.getPathFillColor(e,o,w,f),O=n.globals.stroke.colors[f];this.renderSeries({realIndex:f,pathFill:N,lineFill:O,j:w,i:o,x:u,y:h,y1:k,y2:C,pathFrom:A.pathFrom,pathTo:A.pathTo,strokeWidth:_,elSeries:p,series:e,barHeight:g,barYPosition:T,barWidth:m,elDataLabelsWrap:y,elGoalsMarkers:b,visibleSeries:this.visibleI,type:"rangebar"})}r.add(p)}return r}},{key:"detectOverlappingBars",value:function(e){var t=e.i,n=e.j,i=e.barYPosition,r=e.srty,s=e.barHeight,o=e.yDivision,a=e.initPositions,l=this.w,c=[],u=l.config.series[t].data[n].rangeName,h=l.config.series[t].data[n].x,d=l.globals.labels.indexOf(h),f=l.globals.seriesRangeBar[t].findIndex((function(e){return e.x===h&&e.overlaps.length>0}));return i=l.config.plotOptions.bar.rangeBarGroupRows?r+o*d:r+s*this.visibleI+o*d,f>-1&&!l.config.plotOptions.bar.rangeBarOverlap&&(c=l.globals.seriesRangeBar[t][f].overlaps).indexOf(u)>-1&&(i=(s=a.barHeight/c.length)*this.visibleI+o*(100-parseInt(this.barOptions.barHeight,10))/100/2+s*(this.visibleI+c.indexOf(u))+o*d),{barYPosition:i,barHeight:s}}},{key:"drawRangeColumnPaths",value:function(e){var t=e.indexes,n=e.x;e.strokeWidth;var i=e.xDivision,r=e.barWidth,s=e.zeroH,o=this.w,a=t.i,l=t.j,c=this.yRatio[this.yaxisIndex],u=t.realIndex,h=this.getRangeValue(u,l),d=Math.min(h.start,h.end),f=Math.max(h.start,h.end);o.globals.isXNumeric&&(n=(o.globals.seriesX[a][l]-o.globals.minX)/this.xRatio-r/2);var p=n+r*this.visibleI;void 0===this.series[a][l]||null===this.series[a][l]?d=s:(d=s-d/c,f=s-f/c);var g=Math.abs(f-d),m=this.barHelpers.getColumnPaths({barXPosition:p,barWidth:r,y1:d,y2:f,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:t.realIndex,i:u,j:l,w:o});return o.globals.isXNumeric||(n+=i),{pathTo:m.pathTo,pathFrom:m.pathFrom,barHeight:g,x:n,y:f,goalY:this.barHelpers.getGoalValues("y",null,s,a,l),barXPosition:p}}},{key:"drawRangeBarPaths",value:function(e){var t=e.indexes,n=e.y,i=e.y1,r=e.y2,s=e.yDivision,o=e.barHeight,a=e.barYPosition,l=e.zeroW,c=this.w,u=l+i/this.invertedYRatio,h=l+r/this.invertedYRatio,d=Math.abs(h-u),f=this.barHelpers.getBarpaths({barYPosition:a,barHeight:o,x1:u,x2:h,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:t.realIndex,realIndex:t.realIndex,j:t.j,w:c});return c.globals.isXNumeric||(n+=s),{pathTo:f.pathTo,pathFrom:f.pathFrom,barWidth:d,x:h,goalX:this.barHelpers.getGoalValues("x",l,null,t.realIndex,t.j),y:n}}},{key:"getRangeValue",value:function(e,t){var n=this.w;return{start:n.globals.seriesRangeStart[e][t],end:n.globals.seriesRangeEnd[e][t]}}},{key:"getTooltipValues",value:function(e){var t=e.ctx,n=e.seriesIndex,i=e.dataPointIndex,r=e.y1,s=e.y2,o=e.w,a=o.globals.seriesRangeStart[n][i],l=o.globals.seriesRangeEnd[n][i],c=o.globals.labels[i],u=o.config.series[n].name?o.config.series[n].name:"",h=o.config.tooltip.y.formatter,d=o.config.tooltip.y.title.formatter,f={w:o,seriesIndex:n,dataPointIndex:i,start:a,end:l};"function"==typeof d&&(u=d(u,f)),Number.isFinite(r)&&Number.isFinite(s)&&(a=r,l=s,o.config.series[n].data[i].x&&(c=o.config.series[n].data[i].x+":"),"function"==typeof h&&(c=h(c,f)));var p="",g="",m=o.globals.colors[n];if(void 0===o.config.tooltip.x.formatter)if("datetime"===o.config.xaxis.type){var v=new q(t);p=v.formatDate(v.getDate(a),o.config.tooltip.x.format),g=v.formatDate(v.getDate(l),o.config.tooltip.x.format)}else p=a,g=l;else p=o.config.tooltip.x.formatter(a),g=o.config.tooltip.x.formatter(l);return{start:a,end:l,startVal:p,endVal:g,ylabel:c,color:m,seriesName:u}}},{key:"buildCustomTooltipHTML",value:function(e){var t=e.color,n=e.seriesName;return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+t+'">'+(n||"")+'</span></div><div> <span class="category">'+e.ylabel+' </span> <span class="value start-value">'+e.start+'</span> <span class="separator">-</span> <span class="value end-value">'+e.end+"</span></div></div>"}}]),n}(),H=function(){function e(t){a(this,e),this.opts=t}return c(e,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,x.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,i=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,n,i,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,i=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,n,i,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var n=t.seriesIndex,i=t.dataPointIndex,r=t.w,s=r.globals.seriesRangeStart[n][i];return r.globals.seriesRangeEnd[n][i]-s},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(e){var t=new V(e.ctx,null),n=t.getTooltipValues(e),i=n.color,r=n.seriesName,s=n.ylabel,o=n.startVal,a=n.endVal;return t.buildCustomTooltipHTML({color:i,seriesName:r,ylabel:s,start:o,end:a})}(e):function(e){var t=new V(e.ctx,null),n=t.getTooltipValues(e),i=n.color,r=n.seriesName,s=n.ylabel,o=n.start,a=n.end;return t.buildCustomTooltipHTML({color:i,seriesName:r,ylabel:s,start:o,end:a})}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(e){return x.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach((function(t,n){e.yaxis[n].min=0,e.yaxis[n].max=100})),"bar"===e.chart.type&&(e.dataLabels.formatter=t||function(e){return"number"==typeof e&&e?e.toFixed(0)+"%":e}),e}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,n){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(e){return x.isNumber(e)?Math.floor(e):e};var i=e.xaxis.labels.formatter,r=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return n&&n.length&&(r=n.map((function(e){return Array.isArray(e)?e:String(e)}))),r&&r.length&&(e.xaxis.labels.formatter=function(e){return x.isNumber(e)?i(r[Math.floor(e)-1]):i(e)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(e,t,n,i,r){var s=e.globals.seriesCandleO[t][n],o=e.globals.seriesCandleH[t][n],a=e.globals.seriesCandleM[t][n],l=e.globals.seriesCandleL[t][n],c=e.globals.seriesCandleC[t][n];return e.config.series[t].type&&e.config.series[t].type!==r?'<div class="apexcharts-custom-tooltip">\n          '.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][n],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(i[0],': <span class="value">')+s+"</span></div>"+"<div>".concat(i[1],': <span class="value">')+o+"</span></div>"+(a?"<div>".concat(i[2],': <span class="value">')+a+"</span></div>":"")+"<div>".concat(i[3],': <span class="value">')+l+"</span></div>"+"<div>".concat(i[4],': <span class="value">')+c+"</span></div></div>"}}]),e}(),U=function(){function e(t){a(this,e),this.opts=t}return c(e,[{key:"init",value:function(e){var t=e.responsiveOverride,n=this.opts,i=new P,r=new H(n);this.chartType=n.chart.type,"histogram"===this.chartType&&(n.chart.type="bar",n=x.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},n)),n=this.extendYAxis(n),n=this.extendAnnotations(n);var s=i.init(),a={};if(n&&"object"===o(n)){var l={};l=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)?r[n.chart.type]():r.line(),n.chart.brush&&n.chart.brush.enabled&&(l=r.brush(l)),n.chart.stacked&&"100%"===n.chart.stackType&&(n=r.stacked100(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},t||(n.xaxis.convertedCatToNumeric=!1),((n=this.checkForCatToNumericXAxis(this.chartType,l,n)).chart.sparkline&&n.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(l=r.sparkline(l)),a=x.extend(s,l)}var c=x.extend(a,window.Apex);return s=x.extend(c,n),this.handleUserInputErrors(s)}},{key:"checkForCatToNumericXAxis",value:function(e,t,n){var i=new H(n),r=("bar"===e||"boxPlot"===e)&&n.plotOptions&&n.plotOptions.bar&&n.plotOptions.bar.horizontal,s="pie"===e||"polarArea"===e||"donut"===e||"radar"===e||"radialBar"===e||"heatmap"===e,o="datetime"!==n.xaxis.type&&"numeric"!==n.xaxis.type,a=n.xaxis.tickPlacement?n.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return r||s||!o||"between"===a||(n=i.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(e,t){var n=new P;(void 0===e.yaxis||!e.yaxis||Array.isArray(e.yaxis)&&0===e.yaxis.length)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=x.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[x.extend(n.yAxis,e.yaxis)]:e.yaxis=x.extendArray(e.yaxis,n.yAxis);var i=!1;e.yaxis.forEach((function(e){e.logarithmic&&(i=!0)}));var r=e.series;return t&&!r&&(r=t.config.series),i&&r.length!==e.yaxis.length&&r.length&&(e.yaxis=r.map((function(t,i){if(t.name||(r[i].name="series-".concat(i+1)),e.yaxis[i])return e.yaxis[i].seriesName=r[i].name,e.yaxis[i];var s=x.extend(n.yAxis,e.yaxis[0]);return s.show=!1,s}))),i&&r.length>1&&r.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),e}},{key:"extendAnnotations",value:function(e){return void 0===e.annotations&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new P;return e.annotations.yaxis=x.extendArray(void 0!==e.annotations.yaxis?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new P;return e.annotations.xaxis=x.extendArray(void 0!==e.annotations.xaxis?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new P;return e.annotations.points=x.extendArray(void 0!==e.annotations.points?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&"dark"===e.theme.mode&&(e.tooltip||(e.tooltip={}),"light"!==e.tooltip.theme&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.chart.background||(e.chart.background="#424242"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===t.chart.type&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return"bar"!==t.chart.type&&"rangeBar"!==t.chart.type||t.tooltip.shared&&"barWidth"===t.xaxis.crosshairs.width&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),"candlestick"!==t.chart.type&&"boxPlot"!==t.chart.type||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),e}(),j=function(){function e(){a(this,e)}return c(e,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRangeBar=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasGroups=!1,e.groups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.xaxisLabelsCount=0,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:"pan"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.pan,selectionEnabled:"selection"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=x.extend({},e),t.initialSeries=x.clone(e.series),t.lastXAxis=x.clone(t.initialConfig.xaxis),t.lastYAxis=x.clone(t.initialConfig.yaxis),t}}]),e}(),Y=function(){function e(t){a(this,e),this.opts=t}return c(e,[{key:"init",value:function(){var e=new U(this.opts).init({responsiveOverride:!1});return{config:e,globals:(new j).init(e)}}}]),e}(),W=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new k(this.ctx)}return c(e,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new F(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&null!==e[this.activeSeriesIndex].data[0]&&void 0!==e[this.activeSeriesIndex].data[0].x&&null!==e[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new F(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&void 0!==e[this.activeSeriesIndex].data[0]&&null!==e[this.activeSeriesIndex].data[0]&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var n=this.w.config,i=this.w.globals,r="boxPlot"===n.chart.type||"boxPlot"===n.series[t].type,s=0;s<e[t].data.length;s++)if(void 0!==e[t].data[s][1]&&(Array.isArray(e[t].data[s][1])&&4===e[t].data[s][1].length&&!r?this.twoDSeries.push(x.parseNumber(e[t].data[s][1][3])):e[t].data[s].length>=5?this.twoDSeries.push(x.parseNumber(e[t].data[s][4])):this.twoDSeries.push(x.parseNumber(e[t].data[s][1])),i.dataFormatXNumeric=!0),"datetime"===n.xaxis.type){var o=new Date(e[t].data[s][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(e[t].data[s][0]);for(var a=0;a<e[t].data.length;a++)void 0!==e[t].data[a][2]&&(this.threeDSeries.push(e[t].data[a][2]),i.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var n=this.w.config,i=this.w.globals,r=new q(this.ctx),s=t;i.collapsedSeriesIndices.indexOf(t)>-1&&(s=this.activeSeriesIndex);for(var o=0;o<e[t].data.length;o++)void 0!==e[t].data[o].y&&(Array.isArray(e[t].data[o].y)?this.twoDSeries.push(x.parseNumber(e[t].data[o].y[e[t].data[o].y.length-1])):this.twoDSeries.push(x.parseNumber(e[t].data[o].y))),void 0!==e[t].data[o].goals&&Array.isArray(e[t].data[o].goals)?(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[o].goals)):(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var a=0;a<e[s].data.length;a++){var l="string"==typeof e[s].data[a].x,c=Array.isArray(e[s].data[a].x),u=!c&&!!r.isValidDate(e[s].data[a].x.toString());if(l||u)if(l||n.xaxis.convertedCatToNumeric){var h=i.isBarHorizontal&&i.isRangeData;"datetime"!==n.xaxis.type||h?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[s].data[a].x)):this.twoDSeriesX.push(r.parseDate(e[s].data[a].x))}else"datetime"===n.xaxis.type?this.twoDSeriesX.push(r.parseDate(e[s].data[a].x.toString())):(i.dataFormatXNumeric=!0,i.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[s].data[a].x)));else c?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[s].data[a].x)):(i.isXNumeric=!0,i.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[s].data[a].x))}if(e[t].data[0]&&void 0!==e[t].data[0].z){for(var d=0;d<e[t].data.length;d++)this.threeDSeries.push(e[t].data[d].z);i.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var n=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleRangeDataFormat("xy",e,t)),n.seriesRangeStart.push(i.start),n.seriesRangeEnd.push(i.end),n.seriesRangeBar.push(i.rangeUniques),n.seriesRangeBar.forEach((function(e,t){e&&e.forEach((function(e,t){e.y.forEach((function(t,n){for(var i=0;i<e.y.length;i++)if(n!==i){var r=t.y1,s=t.y2,o=e.y[i].y1;r<=e.y[i].y2&&o<=s&&(e.overlaps.indexOf(t.rangeName)<0&&e.overlaps.push(t.rangeName),e.overlaps.indexOf(e.y[i].rangeName)<0&&e.overlaps.push(e.y[i].rangeName))}}))}))})),i}},{key:"handleCandleStickBoxData",value:function(e,t){var n=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleCandleStickBoxDataFormat("xy",e,t)),n.seriesCandleO[t]=i.o,n.seriesCandleH[t]=i.h,n.seriesCandleM[t]=i.m,n.seriesCandleL[t]=i.l,n.seriesCandleC[t]=i.c,i}},{key:"handleRangeDataFormat",value:function(e,t,n){var i=[],r=[],s=t[n].data.filter((function(e,t,n){return t===n.findIndex((function(t){return t.x===e.x}))})).map((function(e,t){return{x:e.x,overlaps:[],y:[]}})),o="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",a=new F(this.ctx).getActiveConfigSeriesIndex();if("array"===e){if(2!==t[a].data[0][1].length)throw new Error(o);for(var l=0;l<t[n].data.length;l++)i.push(t[n].data[l][1][0]),r.push(t[n].data[l][1][1])}else if("xy"===e){if(2!==t[a].data[0].y.length)throw new Error(o);for(var c=function(e){var o=x.randomId(),a=t[n].data[e].x,l={y1:t[n].data[e].y[0],y2:t[n].data[e].y[1],rangeName:o};t[n].data[e].rangeName=o;var c=s.findIndex((function(e){return e.x===a}));s[c].y.push(l),i.push(l.y1),r.push(l.y2)},u=0;u<t[n].data.length;u++)c(u)}return{start:i,end:r,rangeUniques:s}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,n){var i=this.w,r="boxPlot"===i.config.chart.type||"boxPlot"===i.config.series[n].type,s=[],o=[],a=[],l=[],c=[];if("array"===e)if(r&&6===t[n].data[0].length||!r&&5===t[n].data[0].length)for(var u=0;u<t[n].data.length;u++)s.push(t[n].data[u][1]),o.push(t[n].data[u][2]),r?(a.push(t[n].data[u][3]),l.push(t[n].data[u][4]),c.push(t[n].data[u][5])):(l.push(t[n].data[u][3]),c.push(t[n].data[u][4]));else for(var h=0;h<t[n].data.length;h++)Array.isArray(t[n].data[h][1])&&(s.push(t[n].data[h][1][0]),o.push(t[n].data[h][1][1]),r?(a.push(t[n].data[h][1][2]),l.push(t[n].data[h][1][3]),c.push(t[n].data[h][1][4])):(l.push(t[n].data[h][1][2]),c.push(t[n].data[h][1][3])));else if("xy"===e)for(var d=0;d<t[n].data.length;d++)Array.isArray(t[n].data[d].y)&&(s.push(t[n].data[d].y[0]),o.push(t[n].data[d].y[1]),r?(a.push(t[n].data[d].y[2]),l.push(t[n].data[d].y[3]),c.push(t[n].data[d].y[4])):(l.push(t[n].data[d].y[2]),c.push(t[n].data[d].y[3])));return{o:s,h:o,m:a,l,c}}},{key:"parseDataAxisCharts",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,i=this.w.config,r=this.w.globals,s=new q(n),o=i.labels.length>0?i.labels.slice():i.xaxis.categories.slice();r.isRangeBar="rangeBar"===i.chart.type&&r.isBarHorizontal,r.hasGroups="category"===i.xaxis.type&&i.xaxis.group.groups.length>0,r.hasGroups&&(r.groups=i.xaxis.group.groups);for(var a=function(){for(var e=0;e<o.length;e++)if("string"==typeof o[e]){if(!s.isValidDate(o[e]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(s.parseDate(o[e]))}else t.twoDSeriesX.push(o[e])},l=0;l<e.length;l++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===e[l].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==i.chart.type&&"rangeArea"!==i.chart.type&&"rangeBar"!==e[l].type&&"rangeArea"!==e[l].type||(r.isRangeData=!0,this.handleRangeData(e,l)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,l):this.isFormatXY()&&this.handleFormatXY(e,l),"candlestick"!==i.chart.type&&"candlestick"!==e[l].type&&"boxPlot"!==i.chart.type&&"boxPlot"!==e[l].type||this.handleCandleStickBoxData(e,l),r.series.push(this.twoDSeries),r.labels.push(this.twoDSeriesX),r.seriesX.push(this.twoDSeriesX),r.seriesGoals=this.seriesGoals,l!==this.activeSeriesIndex||this.fallbackToCategory||(r.isXNumeric=!0);else{"datetime"===i.xaxis.type?(r.isXNumeric=!0,a(),r.seriesX.push(this.twoDSeriesX)):"numeric"===i.xaxis.type&&(r.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,r.seriesX.push(this.twoDSeriesX))),r.labels.push(this.twoDSeriesX);var c=e[l].data.map((function(e){return x.parseNumber(e)}));r.series.push(c)}r.seriesZ.push(this.threeDSeries),void 0!==e[l].name?r.seriesNames.push(e[l].name):r.seriesNames.push("series-"+parseInt(l+1,10)),void 0!==e[l].color?r.seriesColors.push(e[l].color):r.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,n=this.w.config;t.series=e.slice(),t.seriesNames=n.labels.slice();for(var i=0;i<t.series.length;i++)void 0===t.seriesNames[i]&&t.seriesNames.push("series-"+(i+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,n=this.w.globals;t.xaxis.categories.length>0?n.labels=t.xaxis.categories:t.labels.length>0?n.labels=t.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRangeBar.length&&(n.seriesRangeBar.map((function(e){e.forEach((function(e){n.labels.indexOf(e.x)<0&&e.x&&n.labels.push(e.x)}))})),n.labels=n.labels.filter((function(e,t,n){return n.indexOf(e)===t}))),t.xaxis.convertedCatToNumeric&&(new H(t).convertCatToNumericXaxis(t,this.ctx,n.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,n=this.w.config,i=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var r=n.series.map((function(e,t){return e.data.filter((function(e,t,n){return n.findIndex((function(t){return t.x===e.x}))===t}))})),s=r.reduce((function(e,t,n,i){return i[e].length>t.length?e:n}),0),o=0;o<r[s].length;o++)i.push(o+1);else for(var a=0;a<t.series[t.maxValsInArrayIndex].length;a++)i.push(a+1);t.seriesX=[];for(var l=0;l<e.length;l++)t.seriesX.push(i);t.isXNumeric=!0}if(0===i.length){i=t.axisCharts?[]:t.series.map((function(e,t){return t+1}));for(var c=0;c<e.length;c++)t.seriesX.push(i)}t.labels=i,n.xaxis.convertedCatToNumeric&&(t.categoryLabels=i.map((function(e){return n.xaxis.labels.formatter(e)}))),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,n=t.config,i=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),i.axisCharts?this.parseDataAxisCharts(e):this.parseDataNonAxisCharts(e),this.coreUtils.getLargestSeries(),"bar"===n.chart.type&&n.chart.stacked){var r=new F(this.ctx);i.series=r.setNullSeriesToZeroValues(i.series)}this.coreUtils.getSeriesTotals(),i.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),i.dataFormatXNumeric||i.isXNumeric&&("numeric"!==n.xaxis.type||0!==n.labels.length||0!==n.xaxis.categories.length)||this.handleExternalLabelsData(e);for(var s=this.coreUtils.getCategoryLabels(i.labels),o=0;o<s.length;o++)if(Array.isArray(s[o])){i.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this,t=this.w;t.globals.ignoreYAxisIndexes=t.globals.collapsedSeries.map((function(n,i){if(e.w.globals.isMultipleYAxis&&!t.config.chart.stacked)return n.index}))}}]),e}(),X=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}return c(e,[{key:"xLabelFormat",value:function(e,t,n,i){var r=this.w;if("datetime"===r.config.xaxis.type&&void 0===r.config.xaxis.labels.formatter&&void 0===r.config.tooltip.x.formatter){var s=new q(this.ctx);return s.formatDate(s.getDate(t),r.config.tooltip.x.format)}return e(t,n,i)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map((function(e){return e})):e}},{key:"defaultYFormatter",value:function(e,t,n){var i=this.w;return x.isNumber(e)&&(e=0!==i.globals.yValueDecimal?e.toFixed(void 0!==t.decimalsInFloat?t.decimalsInFloat:i.globals.yValueDecimal):i.globals.maxYArr[n]-i.globals.minYArr[n]<5?e.toFixed(1):e.toFixed(0)),e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttKeyFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttZFormatter=function(e){return e},t.globals.legendFormatter=function(t){return e.defaultGeneralFormatter(t)},void 0!==t.config.xaxis.labels.formatter?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(e){if(x.isNumber(e)){if(!t.config.xaxis.convertedCatToNumeric&&"numeric"===t.config.xaxis.type){if(x.isNumber(t.config.xaxis.decimalsInFloat))return e.toFixed(t.config.xaxis.decimalsInFloat);var n=t.globals.maxX-t.globals.minX;return n>0&&n<100?e.toFixed(1):e.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?e.toFixed(1):e.toFixed(0)}return e},"function"==typeof t.config.tooltip.x.formatter?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,"function"==typeof t.config.xaxis.tooltip.formatter&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||void 0!==t.config.tooltip.y.formatter)&&(t.globals.ttVal=t.config.tooltip.y),void 0!==t.config.tooltip.z.formatter&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),void 0!==t.config.legend.formatter&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach((function(n,i){void 0!==n.labels.formatter?t.globals.yLabelFormatters[i]=n.labels.formatter:t.globals.yLabelFormatters[i]=function(r){return t.globals.xyCharts?Array.isArray(r)?r.map((function(t){return e.defaultYFormatter(t,n,i)})):e.defaultYFormatter(r,n,i):r}})),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if("heatmap"===e.config.chart.type){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce((function(e,t){return e.length>t.length?e:t}),0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),e}(),$=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"getLabel",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],a=this.w,l=void 0===e[i]?"":e[i],c=l,u=a.globals.xLabelFormatter,h=a.config.xaxis.labels.formatter,d=!1,f=new X(this.ctx),p=l;o&&(c=f.xLabelFormat(u,l,p,{i,dateFormatter:new q(this.ctx).formatDate,w:a}),void 0!==h&&(c=h(l,e[i],{i,dateFormatter:new q(this.ctx).formatDate,w:a})));var g=function(e){var n=null;return t.forEach((function(e){"month"===e.unit?n="year":"day"===e.unit?n="month":"hour"===e.unit?n="day":"minute"===e.unit&&(n="hour")})),n===e};t.length>0?(d=g(t[i].unit),n=t[i].position,c=t[i].value):"datetime"===a.config.xaxis.type&&void 0===h&&(c=""),void 0===c&&(c=""),c=Array.isArray(c)?c:c.toString();var m=new S(this.ctx),v={};v=a.globals.rotateXLabels&&o?m.getTextRects(c,parseInt(s,10),null,"rotate(".concat(a.config.xaxis.labels.rotate," 0 0)"),!1):m.getTextRects(c,parseInt(s,10));var y=!a.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(c)&&(0===c.indexOf("NaN")||0===c.toLowerCase().indexOf("invalid")||c.toLowerCase().indexOf("infinity")>=0||r.indexOf(c)>=0&&y)&&(c=""),{x:n,text:c,textRect:v,isBold:d}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,n){var i=this.w,r=i.config.xaxis.tickAmount;return"dataPoints"===r&&(r=Math.round(i.globals.gridWidth/120)),r>n||e%Math.round(n/(r+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,n,i,r){var s=this.w;if(0===e&&s.globals.skipFirstTimelinelabel&&(t.text=""),e===n-1&&s.globals.skipLastTimelinelabel&&(t.text=""),s.config.xaxis.labels.hideOverlappingLabels&&i.length>0){var o=r[r.length-1];t.x<o.textRect.width/(s.globals.rotateXLabels?Math.abs(s.config.xaxis.labels.rotate)/12:1.01)+o.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var n=this.w;return n.config.yaxis[e]&&n.config.yaxis[e].reversed&&t.reverse(),t}},{key:"isYAxisHidden",value:function(e){var t=this.w,n=new k(this.ctx);return!t.config.yaxis[e].show||!t.config.yaxis[e].showForNullSeries&&n.isSeriesNull(e)&&-1===t.globals.collapsedSeriesIndices.indexOf(e)}},{key:"getYAxisForeColor",value:function(e,t){var n=this.w;return Array.isArray(e)&&n.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,n.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,n,i,r,s,o){var a=this.w,l=new S(this.ctx),c=a.globals.translateY;if(i.show&&t>0){!0===a.config.yaxis[r].opposite&&(e+=i.width);for(var u=t;u>=0;u--){var h=c+t/10+a.config.yaxis[r].labels.offsetY-1;a.globals.isBarHorizontal&&(h=s*u),"heatmap"===a.config.chart.type&&(h+=s/2);var d=l.drawLine(e+n.offsetX-i.width+i.offsetX,h+i.offsetY,e+n.offsetX+i.offsetX,h+i.offsetY,i.color);o.add(d),c+=s}}}}]),e}(),G=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"scaleSvgNode",value:function(e,t){var n=parseFloat(e.getAttributeNS(null,"width")),i=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",n*t),e.setAttributeNS(null,"height",i*t),e.setAttributeNS(null,"viewBox","0 0 "+n+" "+i)}},{key:"fixSvgStringForIe11",value:function(e){if(!x.isIE11())return e.replace(/&nbsp;/g,"&#160;");var t=0,n=e.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,(function(e){return 2===++t?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':e}));return(n=n.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(e){null==e&&(e=1);var t=this.w.globals.dom.Paper.svg();if(1!==e){var n=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(n,e),t=(new XMLSerializer).serializeToString(n)}return this.fixSvgStringForIe11(t)}},{key:"cleanup",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),n=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(i,(function(e){e.setAttribute("width",0)})),t&&t[0]&&(t[0].setAttribute("x",-500),t[0].setAttribute("x1",-500),t[0].setAttribute("x2",-500)),n&&n[0]&&(n[0].setAttribute("y",-100),n[0].setAttribute("y1",-100),n[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var e=this.getSvgString(),t=new Blob([e],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(t)}},{key:"dataURI",value:function(e){var t=this;return new Promise((function(n){var i=t.w,r=e?e.scale||e.width/i.globals.svgWidth:1;t.cleanup();var s=document.createElement("canvas");s.width=i.globals.svgWidth*r,s.height=parseInt(i.globals.dom.elWrap.style.height,10)*r;var o="transparent"===i.config.chart.background?"#fff":i.config.chart.background,a=s.getContext("2d");a.fillStyle=o,a.fillRect(0,0,s.width*r,s.height*r);var l=t.getSvgString(r);if(window.canvg&&x.isIE11()){var c=window.canvg.Canvg.fromString(a,l,{ignoreClear:!0,ignoreDimensions:!0});c.start();var u=s.msToBlob();c.stop(),n({blob:u})}else{var h="data:image/svg+xml,"+encodeURIComponent(l),d=new Image;d.crossOrigin="anonymous",d.onload=function(){if(a.drawImage(d,0,0),s.msToBlob){var e=s.msToBlob();n({blob:e})}else{var t=s.toDataURL("image/png");n({imgURI:t})}},d.src=h}}))}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var e=this;this.dataURI().then((function(t){var n=t.imgURI,i=t.blob;i?navigator.msSaveOrOpenBlob(i,e.w.globals.chartID+".png"):e.triggerDownload(n,e.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(e){var t=this,n=e.series,i=e.columnDelimiter,r=e.lineDelimiter,s=void 0===r?"\n":r,o=this.w,a=[],l=[],c="",u=new W(this.ctx),h=new $(this.ctx),d=function(e){var n="";if(o.globals.axisCharts){if("category"===o.config.xaxis.type||o.config.xaxis.convertedCatToNumeric)if(o.globals.isBarHorizontal){var r=o.globals.yLabelFormatters[0],s=new F(t.ctx).getActiveConfigSeriesIndex();n=r(o.globals.labels[e],{seriesIndex:s,dataPointIndex:e,w:o})}else n=h.getLabel(o.globals.labels,o.globals.timescaleLabels,0,e).text;"datetime"===o.config.xaxis.type&&(o.config.xaxis.categories.length?n=o.config.xaxis.categories[e]:o.config.labels.length&&(n=o.config.labels[e]))}else n=o.config.labels[e];return Array.isArray(n)&&(n=n.join(" ")),x.isNumber(n)?n:n.split(i).join("")};a.push(o.config.chart.toolbar.export.csv.headerCategory),n.map((function(e,t){var n=e.name?e.name:"series-".concat(t);o.globals.axisCharts&&a.push(n.split(i).join("")?n.split(i).join(""):"series-".concat(t))})),o.globals.axisCharts||(a.push(o.config.chart.toolbar.export.csv.headerValue),l.push(a.join(i))),n.map((function(e,t){o.globals.axisCharts?function(e,t){if(a.length&&0===t&&l.push(a.join(i)),e.data&&e.data.length)for(var r=0;r<e.data.length;r++){a=[];var s=d(r);if(s||(u.isFormatXY()?s=n[t].data[r].x:u.isFormat2DArray()&&(s=n[t].data[r]?n[t].data[r][0]:"")),0===t){a.push((h=s,"datetime"===o.config.xaxis.type&&String(h).length>=10?o.config.chart.toolbar.export.csv.dateFormatter(s):x.isNumber(s)?s:s.split(i).join("")));for(var c=0;c<o.globals.series.length;c++)a.push(o.globals.series[c][r])}("candlestick"===o.config.chart.type||e.type&&"candlestick"===e.type)&&(a.pop(),a.push(o.globals.seriesCandleO[t][r]),a.push(o.globals.seriesCandleH[t][r]),a.push(o.globals.seriesCandleL[t][r]),a.push(o.globals.seriesCandleC[t][r])),("boxPlot"===o.config.chart.type||e.type&&"boxPlot"===e.type)&&(a.pop(),a.push(o.globals.seriesCandleO[t][r]),a.push(o.globals.seriesCandleH[t][r]),a.push(o.globals.seriesCandleM[t][r]),a.push(o.globals.seriesCandleL[t][r]),a.push(o.globals.seriesCandleC[t][r])),"rangeBar"===o.config.chart.type&&(a.pop(),a.push(o.globals.seriesRangeStart[t][r]),a.push(o.globals.seriesRangeEnd[t][r])),a.length&&l.push(a.join(i))}var h}(e,t):((a=[]).push(o.globals.labels[t].split(i).join("")),a.push(o.globals.series[t]),l.push(a.join(i)))})),c+=l.join(s),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+c),o.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,n){var i=document.createElement("a");i.href=e,i.download=(t||this.w.globals.chartID)+n,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}]),e}(),K=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.axesUtils=new $(t),this.xaxisLabels=n.globals.labels.slice(),n.globals.timescaleLabels.length>0&&!n.globals.isBarHorizontal&&(this.xaxisLabels=n.globals.timescaleLabels.slice()),n.config.xaxis.overwriteCategories&&(this.xaxisLabels=n.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===n.config.xaxis.position?this.offY=0:this.offY=n.globals.gridHeight+1,this.offY=this.offY+n.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===n.config.chart.type&&n.config.plotOptions.bar.horizontal,this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.xaxisBorderWidth=n.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=n.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=n.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=n.config.xaxis.axisBorder.height,this.yaxis=n.config.yaxis[0]}return c(e,[{key:"drawXaxis",value:function(){var e=this.w,t=new S(this.ctx),n=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),i=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(i);for(var r=[],s=0;s<this.xaxisLabels.length;s++)r.push(this.xaxisLabels[s]);if(this.drawXAxisLabelAndGroup(!0,t,i,r,e.globals.isXNumeric,(function(e,t){return t})),e.globals.hasGroups){var o=e.globals.groups;r=[];for(var a=0;a<o.length;a++)r.push(o[a].title);var l={};e.config.xaxis.group.style&&(l.xaxisFontSize=e.config.xaxis.group.style.fontSize,l.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,l.xaxisForeColors=e.config.xaxis.group.style.colors,l.fontWeight=e.config.xaxis.group.style.fontWeight,l.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,i,r,!1,(function(e,t){return o[e].cols*t}),l)}if(void 0!==e.config.xaxis.title.text){var c=t.group({class:"apexcharts-xaxis-title"}),u=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+e.globals.xAxisLabelsHeight+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});c.add(u),n.add(c)}if(e.config.xaxis.axisBorder.show){var h=e.globals.barPadForNumericAxis,d=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-h,this.offY,this.xaxisBorderWidth+h,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);n.add(d)}return n}},{key:"drawXAxisLabelAndGroup",value:function(e,t,n,i,r,s){var o,a=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=[],u=[],h=this.w,d=l.xaxisFontSize||this.xaxisFontSize,f=l.xaxisFontFamily||this.xaxisFontFamily,p=l.xaxisForeColors||this.xaxisForeColors,g=l.fontWeight||h.config.xaxis.labels.style.fontWeight,m=l.cssClass||h.config.xaxis.labels.style.cssClass,v=h.globals.padHorizontal,y=i.length,b="category"===h.config.xaxis.type?h.globals.dataPoints:y;if(r){var x=b>1?b-1:b;o=h.globals.gridWidth/x,v=v+s(0,o)/2+h.config.xaxis.labels.offsetX}else o=h.globals.gridWidth/b,v=v+s(0,o)+h.config.xaxis.labels.offsetX;for(var w=function(r){var l=v-s(r,o)/2+h.config.xaxis.labels.offsetX;0===r&&1===y&&o/2===v&&1===b&&(l=h.globals.gridWidth/2);var x=a.axesUtils.getLabel(i,h.globals.timescaleLabels,l,r,c,d,e),w=28;if(h.globals.rotateXLabels&&e&&(w=22),e||(w=w+parseFloat(d)+(h.globals.xAxisLabelsHeight-h.globals.xAxisGroupLabelsHeight)+(h.globals.rotateXLabels?10:0)),x=void 0!==h.config.xaxis.tickAmount&&"dataPoints"!==h.config.xaxis.tickAmount&&"datetime"!==h.config.xaxis.type?a.axesUtils.checkLabelBasedOnTickamount(r,x,y):a.axesUtils.checkForOverflowingLabels(r,x,y,c,u),e&&x.text&&h.globals.xaxisLabelsCount++,h.config.xaxis.labels.show){var _=t.drawText({x:x.x,y:a.offY+h.config.xaxis.labels.offsetY+w-("top"===h.config.xaxis.position?h.globals.xAxisHeight+h.config.xaxis.axisTicks.height-2:0),text:x.text,textAnchor:"middle",fontWeight:x.isBold?600:g,fontSize:d,fontFamily:f,foreColor:Array.isArray(p)?e&&h.config.xaxis.convertedCatToNumeric?p[h.globals.minX+r-1]:p[r]:p,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+m});if(n.add(_),e){var S=document.createElementNS(h.globals.SVGNS,"title");S.textContent=Array.isArray(x.text)?x.text.join(" "):x.text,_.node.appendChild(S),""!==x.text&&(c.push(x.text),u.push(x))}}r<y-1&&(v+=s(r+1,o))},_=0;_<=y-1;_++)w(_)}},{key:"drawXaxisInversed",value:function(e){var t,n,i=this,r=this.w,s=new S(this.ctx),o=r.config.yaxis[0].opposite?r.globals.translateYAxisX[e]:0,a=s.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),l=s.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});a.add(l);var c=[];if(r.config.yaxis[e].show)for(var u=0;u<this.xaxisLabels.length;u++)c.push(this.xaxisLabels[u]);t=r.globals.gridHeight/c.length,n=-t/2.2;var h=r.globals.yLabelFormatters[0],d=r.config.yaxis[0].labels;if(d.show)for(var f=function(o){var a=void 0===c[o]?"":c[o];a=h(a,{seriesIndex:e,dataPointIndex:o,w:r});var u=i.axesUtils.getYAxisForeColor(d.style.colors,e),f=0;Array.isArray(a)&&(f=a.length/2*parseInt(d.style.fontSize,10));var p=s.drawText({x:d.offsetX-15,y:n+t+d.offsetY-f,text:a,textAnchor:i.yaxis.opposite?"start":"end",foreColor:Array.isArray(u)?u[o]:u,fontSize:d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+d.style.cssClass});l.add(p);var g=document.createElementNS(r.globals.SVGNS,"title");if(g.textContent=Array.isArray(a)?a.join(" "):a,p.node.appendChild(g),0!==r.config.yaxis[e].labels.rotate){var m=s.rotateAroundCenter(p.node);p.node.setAttribute("transform","rotate(".concat(r.config.yaxis[e].labels.rotate," 0 ").concat(m.y,")"))}n+=t},p=0;p<=c.length-1;p++)f(p);if(void 0!==r.config.yaxis[0].title.text){var g=s.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),m=s.drawText({x:0,y:r.globals.gridHeight/2,text:r.config.yaxis[0].title.text,textAnchor:"middle",foreColor:r.config.yaxis[0].title.style.color,fontSize:r.config.yaxis[0].title.style.fontSize,fontWeight:r.config.yaxis[0].title.style.fontWeight,fontFamily:r.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+r.config.yaxis[0].title.style.cssClass});g.add(m),a.add(g)}var v=0;this.isCategoryBarHorizontal&&r.config.yaxis[0].opposite&&(v=r.globals.gridWidth);var y=r.config.xaxis.axisBorder;if(y.show){var b=s.drawLine(r.globals.padHorizontal+y.offsetX+v,1+y.offsetY,r.globals.padHorizontal+y.offsetX+v,r.globals.gridHeight+y.offsetY,y.color,0);a.add(b)}return r.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(v,c.length,r.config.yaxis[0].axisBorder,r.config.yaxis[0].axisTicks,0,t,a),a}},{key:"drawXaxisTicks",value:function(e,t,n){var i=this.w,r=e;if(!(e<0||e-2>i.globals.gridWidth)){var s=this.offY+i.config.xaxis.axisTicks.offsetY;if(t=t+s+i.config.xaxis.axisTicks.height,"top"===i.config.xaxis.position&&(t=s-i.config.xaxis.axisTicks.height),i.config.xaxis.axisTicks.show){var o=new S(this.ctx).drawLine(e+i.config.xaxis.axisTicks.offsetX,s+i.config.xaxis.offsetY,r+i.config.xaxis.axisTicks.offsetX,t+i.config.xaxis.offsetY,i.config.xaxis.axisTicks.color);n.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],n=this.xaxisLabels.length,i=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var r=0;r<n;r++)i=this.xaxisLabels[r].position,t.push(i);else for(var s=n,o=0;o<s;o++){var a=s;e.globals.isXNumeric&&"bar"!==e.config.chart.type&&(a-=1),i+=e.globals.gridWidth/a,t.push(i)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new S(this.ctx),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var o=0;o<i.length;o++){var a=t.rotateAroundCenter(i[o]);a.y=a.y-1,a.x=a.x+1,i[o].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(a.x," ").concat(a.y,")")),i[o].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")"));var l=i[o].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(l,(function(n){t.placeTextWithEllipsis(n,n.textContent,e.globals.xAxisLabelsHeight-("bottom"===e.config.legend.position?20:10))}))}else!function(){for(var n=e.globals.gridWidth/(e.globals.labels.length+1),r=0;r<i.length;r++){var s=i[r].childNodes;e.config.xaxis.labels.trim&&"datetime"!==e.config.xaxis.type&&Array.prototype.forEach.call(s,(function(e){t.placeTextWithEllipsis(e,e.textContent,n)}))}}();if(r.length>0){var c=r[r.length-1].getBBox(),u=r[0].getBBox();c.x<-20&&r[r.length-1].parentNode.removeChild(r[r.length-1]),u.x+u.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&r[0].parentNode.removeChild(r[0]);for(var h=0;h<s.length;h++)t.placeTextWithEllipsis(s[h],s[h].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),e}(),Z=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.xaxisLabels=n.globals.labels.slice(),this.axesUtils=new $(t),this.isRangeBar=n.globals.seriesRangeBar.length,n.globals.timescaleLabels.length>0&&(this.xaxisLabels=n.globals.timescaleLabels.slice())}return c(e,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,n=new S(this.ctx);null===e&&(e=n.group({class:"apexcharts-grid"}));var i=n.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),r=n.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(r),e.add(i),e}},{key:"drawGrid",value:function(){var e=null;return this.w.globals.axisCharts&&(e=this.renderGrid(),this.drawGridArea(e.el)),e}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,n=new S(this.ctx),i=Array.isArray(e.config.stroke.width)?0:e.config.stroke.width;if(Array.isArray(e.config.stroke.width)){var r=0;e.config.stroke.width.forEach((function(e){r=Math.max(r,e)})),i=r}t.dom.elGridRectMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elForecastMask.setAttribute("id","forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(t.cuid));var s=e.config.chart.type,o=0,a=0;("bar"===s||"rangeBar"===s||"candlestick"===s||"boxPlot"===s||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(o=e.config.grid.padding.left,a=e.config.grid.padding.right,t.barPadForNumericAxis>o&&(o=t.barPadForNumericAxis,a=t.barPadForNumericAxis)),t.dom.elGridRect=n.drawRect(-i/2-o-2,-i/2,t.gridWidth+i+a+o+4,t.gridHeight+i,0,"#fff");var l=e.globals.markers.largestSize+1;t.dom.elGridRectMarker=n.drawRect(2*-l,2*-l,t.gridWidth+4*l,t.gridHeight+4*l,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var c=t.dom.baseEl.querySelector("defs");c.appendChild(t.dom.elGridRectMask),c.appendChild(t.dom.elForecastMask),c.appendChild(t.dom.elNonForecastMask),c.appendChild(t.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,n=e.x1,i=e.y1,r=e.x2,s=e.y2,o=e.xCount,a=e.parent,l=this.w;if(!(0===t&&l.globals.skipFirstTimelinelabel||t===o-1&&l.globals.skipLastTimelinelabel&&!l.config.xaxis.labels.formatter||"radar"===l.config.chart.type)){l.config.grid.xaxis.lines.show&&this._drawGridLine({x1:n,y1:i,x2:r,y2:s,parent:a});var c=0;if(l.globals.hasGroups&&"between"===l.config.xaxis.tickPlacement){var u=l.globals.groups;if(u){for(var h=0,d=0;h<t&&d<u.length;d++)h+=u[d].cols;h===t&&(c=.6*l.globals.xAxisLabelsHeight)}}new K(this.ctx).drawXaxisTicks(n,c,this.elg)}}},{key:"_drawGridLine",value:function(e){var t=e.x1,n=e.y1,i=e.x2,r=e.y2,s=e.parent,o=this.w,a=s.node.classList.contains("apexcharts-gridlines-horizontal"),l=o.config.grid.strokeDashArray,c=o.globals.barPadForNumericAxis,u=new S(this).drawLine(t-(a?c:0),n,i+(a?c:0),r,o.config.grid.borderColor,l);u.node.classList.add("apexcharts-gridline"),s.add(u)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,n=e.x1,i=e.y1,r=e.x2,s=e.y2,o=e.type,a=this.w,l=new S(this.ctx),c=a.globals.barPadForNumericAxis;if("column"!==o||"datetime"!==a.config.xaxis.type){var u=a.config.grid[o].colors[t],h=l.drawRect(n-("row"===o?c:0),i,r+("row"===o?2*c:0),s,0,u,a.config.grid[o].opacity);this.elg.add(h),h.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),h.node.classList.add("apexcharts-grid-".concat(o))}}},{key:"_drawXYLines",value:function(e){var t=this,n=e.xCount,i=e.tickAmount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show){var s,o=r.globals.padHorizontal,a=r.globals.gridHeight;r.globals.timescaleLabels.length?function(e){for(var i=e.xC,r=e.x1,s=e.y1,o=e.x2,a=e.y2,l=0;l<i;l++)r=t.xaxisLabels[l].position,o=t.xaxisLabels[l].position,t._drawGridLines({i:l,x1:r,y1:s,x2:o,y2:a,xCount:n,parent:t.elgridLinesV})}({xC:n,x1:o,y1:0,x2:s,y2:a}):(r.globals.isXNumeric&&(n=r.globals.xAxisScale.result.length),r.config.xaxis.convertedCatToNumeric&&(n=r.globals.xaxisLabelsCount),function(e){var i=e.xC,s=e.x1,o=e.y1,a=e.x2,l=e.y2;if(void 0!==r.config.xaxis.tickAmount&&"dataPoints"!==r.config.xaxis.tickAmount&&"on"===r.config.xaxis.tickPlacement)r.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach((function(e,i){var r=e.getBBox();t._drawGridLines({i,x1:r.x+r.width/2,y1:o,x2:r.x+r.width/2,y2:l,xCount:n,parent:t.elgridLinesV})}));else for(var c=0;c<i+(r.globals.isXNumeric?0:1);c++)0===c&&1===i&&1===r.globals.dataPoints&&(a=s=r.globals.gridWidth/2),t._drawGridLines({i:c,x1:s,y1:o,x2:a,y2:l,xCount:n,parent:t.elgridLinesV}),a=s+=r.globals.gridWidth/(r.globals.isXNumeric?i-1:i)}({xC:n,x1:o,y1:0,x2:s,y2:a}))}if(r.config.grid.yaxis.lines.show){var l=0,c=0,u=r.globals.gridWidth,h=i+1;this.isRangeBar&&(h=r.globals.labels.length);for(var d=0;d<h+(this.isRangeBar?1:0);d++)this._drawGridLine({x1:0,y1:l,x2:u,y2:c,parent:this.elgridLinesH}),c=l+=r.globals.gridHeight/(this.isRangeBar?h:i)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var i,r=n.globals.padHorizontal,s=n.globals.gridHeight,o=0;o<t+1;o++)n.config.grid.xaxis.lines.show&&this._drawGridLine({x1:r,y1:0,x2:i,y2:s,parent:this.elgridLinesV}),new K(this.ctx).drawXaxisTicks(r,0,this.elg),i=r=r+n.globals.gridWidth/t+.3;if(n.config.grid.yaxis.lines.show)for(var a=0,l=0,c=n.globals.gridWidth,u=0;u<n.globals.dataPoints+1;u++)this._drawGridLine({x1:0,y1:a,x2:c,y2:l,parent:this.elgridLinesH}),l=a+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=new S(this.ctx);this.elg=t.group({class:"apexcharts-grid"}),this.elgridLinesH=t.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=t.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var n,i=e.globals.yAxisScale.length?e.globals.yAxisScale[0].result.length-1:5,r=0;r<e.globals.series.length&&(void 0!==e.globals.yAxisScale[r]&&(i=e.globals.yAxisScale[r].result.length-1),!(i>2));r++);return!e.globals.isBarHorizontal||this.isRangeBar?(n=this.xaxisLabels.length,this.isRangeBar&&(i=e.globals.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(n=e.config.xaxis.tickAmount)),this._drawXYLines({xCount:n,tickAmount:i})):(n=i,i=e.globals.xTickAmount,this._drawInvertedXYLines({xCount:n,tickAmount:i})),this.drawGridBands(n,i),{el:this.elg,xAxisTickWidth:e.globals.gridWidth/n}}},{key:"drawGridBands",value:function(e,t){var n=this.w;if(void 0!==n.config.grid.row.colors&&n.config.grid.row.colors.length>0)for(var i=0,r=n.globals.gridHeight/t,s=n.globals.gridWidth,o=0,a=0;o<t;o++,a++)a>=n.config.grid.row.colors.length&&(a=0),this._drawGridBandRect({c:a,x1:0,y1:i,x2:s,y2:r,type:"row"}),i+=n.globals.gridHeight/t;if(void 0!==n.config.grid.column.colors&&n.config.grid.column.colors.length>0)for(var l=n.globals.isBarHorizontal||"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric?e:e-1,c=n.globals.padHorizontal,u=n.globals.padHorizontal+n.globals.gridWidth/l,h=n.globals.gridHeight,d=0,f=0;d<e;d++,f++)f>=n.config.grid.column.colors.length&&(f=0),this._drawGridBandRect({c:f,x1:c,y1:0,x2:u,y2:h,type:"column"}),c+=n.globals.gridWidth/l}}]),e}(),Q=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"niceScale",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,s=this.w,o=Math.abs(t-e);if("dataPoints"===(n=this._adjustTicksForSmallRange(n,i,o))&&(n=s.globals.dataPoints-1),e===Number.MIN_VALUE&&0===t||!x.isNumber(e)&&!x.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE){e=0,t=n;var a=this.linearScale(e,t,n);return a}e>t?(console.warn("axis.min cannot be greater than axis.max"),t=e+.1):e===t&&(e=0===e?0:e-.5,t=0===t?2:t+.5);var l=[];o<1&&r&&("candlestick"===s.config.chart.type||"candlestick"===s.config.series[i].type||"boxPlot"===s.config.chart.type||"boxPlot"===s.config.series[i].type||s.globals.isRangeData)&&(t*=1.01);var c=n+1;c<2?c=2:c>2&&(c-=2);var u=o/c,h=Math.floor(x.log10(u)),d=Math.pow(10,h),f=Math.round(u/d);f<1&&(f=1);var p=f*d,g=p*Math.floor(e/p),m=p*Math.ceil(t/p),v=g;if(r&&o>2){for(;l.push(v),!((v+=p)>m););return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}var y=e;(l=[]).push(y);for(var b=Math.abs(t-e)/n,w=0;w<=n;w++)y+=b,l.push(y);return l[l.length-2]>=t&&l.pop(),{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"linearScale",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3?arguments[3]:void 0,r=Math.abs(t-e);"dataPoints"===(n=this._adjustTicksForSmallRange(n,i,r))&&(n=this.w.globals.dataPoints-1);var s=r/n;n===Number.MAX_VALUE&&(n=10,s=1);for(var o=[],a=e;n>=0;)o.push(a),a+=s,n-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var i=[],r=Math.ceil(Math.log(t)/Math.log(n)+1),s=Math.floor(Math.log(e)/Math.log(n));s<r;s++)i.push(Math.pow(n,s));return{result:i,niceMin:i[0],niceMax:i[i.length-1]}}},{key:"logarithmicScale",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var i=[],r=Math.log(t)/Math.log(n),s=Math.log(e)/Math.log(n),o=r-s,a=Math.round(o),l=o/a,c=0,u=s;c<a;c++,u+=l)i.push(Math.pow(n,u));return i.push(Math.pow(n,r)),{result:i,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,n){var i=e;if(void 0!==t&&this.w.config.yaxis[t].labels.formatter&&void 0===this.w.config.yaxis[t].tickAmount){var r=this.w.config.yaxis[t].labels.formatter(1);x.isNumber(Number(r))&&!x.isFloat(r)&&(i=Math.ceil(n))}return i<e?i:e}},{key:"setYScaleForIndex",value:function(e,t,n){var i=this.w.globals,r=this.w.config,s=i.isBarHorizontal?r.xaxis:r.yaxis[e];void 0===i.yAxisScale[e]&&(i.yAxisScale[e]=[]);var o=Math.abs(n-t);if(s.logarithmic&&o<=5&&(i.invalidLogScale=!0),s.logarithmic&&o>5)i.allSeriesCollapsed=!1,i.yAxisScale[e]=this.logarithmicScale(t,n,s.logBase),i.yAxisScale[e]=s.forceNiceScale?this.logarithmicScaleNice(t,n,s.logBase):this.logarithmicScale(t,n,s.logBase);else if(n!==-Number.MAX_VALUE&&x.isNumber(n))if(i.allSeriesCollapsed=!1,void 0===s.min&&void 0===s.max||s.forceNiceScale){var a=void 0===r.yaxis[e].max&&void 0===r.yaxis[e].min||r.yaxis[e].forceNiceScale;i.yAxisScale[e]=this.niceScale(t,n,s.tickAmount?s.tickAmount:o<5&&o>1?o+1:5,e,a)}else i.yAxisScale[e]=this.linearScale(t,n,s.tickAmount,e);else i.yAxisScale[e]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(e,t){var n=this.w,i=n.globals,r=n.config.xaxis,s=Math.abs(t-e);return t!==-Number.MAX_VALUE&&x.isNumber(t)?i.xAxisScale=this.linearScale(e,t,r.tickAmount?r.tickAmount:s<5&&s>1?s+1:5,0):i.xAxisScale=this.linearScale(0,5,5),i.xAxisScale}},{key:"setMultipleYScales",value:function(){var e=this,t=this.w.globals,n=this.w.config,i=t.minYArr.concat([]),r=t.maxYArr.concat([]),s=[];n.yaxis.forEach((function(t,o){var a=o;n.series.forEach((function(e,n){e.name===t.seriesName&&(a=n,o!==n?s.push({index:n,similarIndex:o,alreadyExists:!0}):s.push({index:n}))}));var l=i[a],c=r[a];e.setYScaleForIndex(o,l,c)})),this.sameScaleInMultipleAxes(i,r,s)}},{key:"sameScaleInMultipleAxes",value:function(e,t,n){var i=this,r=this.w.config,s=this.w.globals,o=[];n.forEach((function(e){e.alreadyExists&&(void 0===o[e.index]&&(o[e.index]=[]),o[e.index].push(e.index),o[e.index].push(e.similarIndex))})),s.yAxisSameScaleIndices=o,o.forEach((function(e,t){o.forEach((function(n,i){var r,s;t!==i&&(r=e,s=n,r.filter((function(e){return-1!==s.indexOf(e)}))).length>0&&(o[t]=o[t].concat(o[i]))}))}));var a=o.map((function(e){return e.filter((function(t,n){return e.indexOf(t)===n}))})).map((function(e){return e.sort()}));o=o.filter((function(e){return!!e}));var l=a.slice(),c=l.map((function(e){return JSON.stringify(e)}));l=l.filter((function(e,t){return c.indexOf(JSON.stringify(e))===t}));var u=[],h=[];e.forEach((function(e,n){l.forEach((function(i,r){i.indexOf(n)>-1&&(void 0===u[r]&&(u[r]=[],h[r]=[]),u[r].push({key:n,value:e}),h[r].push({key:n,value:t[n]}))}))}));var d=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),f=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);u.forEach((function(e,t){e.forEach((function(e,n){d[t]=Math.min(e.value,d[t])}))})),h.forEach((function(e,t){e.forEach((function(e,n){f[t]=Math.max(e.value,f[t])}))})),e.forEach((function(e,t){h.forEach((function(e,n){var o=d[n],a=f[n];r.chart.stacked&&(a=0,e.forEach((function(e,t){e.value!==-Number.MAX_VALUE&&(a+=e.value),o!==Number.MIN_VALUE&&(o+=u[n][t].value)}))),e.forEach((function(n,l){e[l].key===t&&(void 0!==r.yaxis[t].min&&(o="function"==typeof r.yaxis[t].min?r.yaxis[t].min(s.minY):r.yaxis[t].min),void 0!==r.yaxis[t].max&&(a="function"==typeof r.yaxis[t].max?r.yaxis[t].max(s.maxY):r.yaxis[t].max),i.setYScaleForIndex(t,o,a))}))}))}))}},{key:"autoScaleY",value:function(e,t,n){e||(e=this);var i=e.w;if(i.globals.isMultipleYAxis||i.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),t;var r=i.globals.seriesX[0],s=i.config.chart.stacked;return t.forEach((function(e,o){for(var a=0,l=0;l<r.length;l++)if(r[l]>=n.xaxis.min){a=l;break}var c,u,h=i.globals.minYArr[o],d=i.globals.maxYArr[o],f=i.globals.stackedSeriesTotals;i.globals.series.forEach((function(o,l){var p=o[a];s?(p=f[a],c=u=p,f.forEach((function(e,t){r[t]<=n.xaxis.max&&r[t]>=n.xaxis.min&&(e>u&&null!==e&&(u=e),o[t]<c&&null!==o[t]&&(c=o[t]))}))):(c=u=p,o.forEach((function(e,t){if(r[t]<=n.xaxis.max&&r[t]>=n.xaxis.min){var s=e,o=e;i.globals.series.forEach((function(n,i){null!==e&&(s=Math.min(n[t],s),o=Math.max(n[t],o))})),o>u&&null!==o&&(u=o),s<c&&null!==s&&(c=s)}}))),void 0===c&&void 0===u&&(c=h,u=d),(u*=u<0?.9:1.1)<0&&u<d&&(u=d),(c*=c<0?1.1:.9)<0&&c>h&&(c=h),t.length>1?(t[l].min=void 0===e.min?c:e.min,t[l].max=void 0===e.max?u:e.max):(t[0].min=void 0===e.min?c:e.min,t[0].max=void 0===e.max?u:e.max)}))})),t}}]),e}(),J=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.scales=new Q(t)}return c(e,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w.config,s=this.w.globals,o=-Number.MAX_VALUE,a=Number.MIN_VALUE;null===i&&(i=e+1);var l=s.series,c=l,u=l;"candlestick"===r.chart.type?(c=s.seriesCandleL,u=s.seriesCandleH):"boxPlot"===r.chart.type?(c=s.seriesCandleO,u=s.seriesCandleC):s.isRangeData&&(c=s.seriesRangeStart,u=s.seriesRangeEnd);for(var h=e;h<i;h++){s.dataPoints=Math.max(s.dataPoints,l[h].length),s.categoryLabels.length&&(s.dataPoints=s.categoryLabels.filter((function(e){return void 0!==e})).length);for(var d=0;d<s.series[h].length;d++){var f=l[h][d];null!==f&&x.isNumber(f)?(void 0!==u[h][d]&&(o=Math.max(o,u[h][d]),t=Math.min(t,u[h][d])),void 0!==c[h][d]&&(t=Math.min(t,c[h][d]),n=Math.max(n,c[h][d])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||(void 0!==s.seriesCandleC[h][d]&&(o=Math.max(o,s.seriesCandleO[h][d]),o=Math.max(o,s.seriesCandleH[h][d]),o=Math.max(o,s.seriesCandleL[h][d]),o=Math.max(o,s.seriesCandleC[h][d]),"boxPlot"===this.w.config.chart.type&&(o=Math.max(o,s.seriesCandleM[h][d]))),!r.series[h].type||"candlestick"===r.series[h].type&&"boxPlot"===r.series[h].type||(o=Math.max(o,s.series[h][d]),t=Math.min(t,s.series[h][d])),n=o),s.seriesGoals[h]&&s.seriesGoals[h][d]&&Array.isArray(s.seriesGoals[h][d])&&s.seriesGoals[h][d].forEach((function(e){a!==Number.MIN_VALUE&&(a=Math.min(a,e.value),t=a),o=Math.max(o,e.value),n=o})),x.isFloat(f)&&(f=x.noExponents(f),s.yValueDecimal=Math.max(s.yValueDecimal,f.toString().split(".")[1].length)),a>c[h][d]&&c[h][d]<0&&(a=c[h][d])):s.hasNullValues=!0}}return"rangeBar"===r.chart.type&&s.seriesRangeStart.length&&s.isBarHorizontal&&(a=t),"bar"===r.chart.type&&(a<0&&o<0&&(o=0),a===Number.MIN_VALUE&&(a=0)),{minY:a,maxY:o,lowestY:t,highestY:n}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var n=Number.MAX_VALUE;if(e.isMultipleYAxis)for(var i=0;i<e.series.length;i++){var r=this.getMinYMaxY(i,n,null,i+1);e.minYArr.push(r.minY),e.maxYArr.push(r.maxY),n=r.lowestY}var s=this.getMinYMaxY(0,n,null,e.series.length);if(e.minY=s.minY,e.maxY=s.maxY,n=s.lowestY,t.chart.stacked&&this._setStackedMinMax(),("line"===t.chart.type||"area"===t.chart.type||"candlestick"===t.chart.type||"boxPlot"===t.chart.type||"rangeBar"===t.chart.type&&!e.isBarHorizontal)&&e.minY===Number.MIN_VALUE&&n!==-Number.MAX_VALUE&&n!==e.maxY){var o=e.maxY-n;(n>=0&&n<=10||void 0!==t.yaxis[0].min||void 0!==t.yaxis[0].max)&&(o=0),e.minY=n-5*o/100,n>0&&e.minY<0&&(e.minY=0),e.maxY=e.maxY+5*o/100}return t.yaxis.forEach((function(t,n){void 0!==t.max&&("number"==typeof t.max?e.maxYArr[n]=t.max:"function"==typeof t.max&&(e.maxYArr[n]=t.max(e.isMultipleYAxis?e.maxYArr[n]:e.maxY)),e.maxY=e.maxYArr[n]),void 0!==t.min&&("number"==typeof t.min?e.minYArr[n]=t.min:"function"==typeof t.min&&(e.minYArr[n]=t.min(e.isMultipleYAxis?e.minYArr[n]===Number.MIN_VALUE?0:e.minYArr[n]:e.minY)),e.minY=e.minYArr[n])})),e.isBarHorizontal&&["min","max"].forEach((function(n){void 0!==t.xaxis[n]&&"number"==typeof t.xaxis[n]&&("min"===n?e.minY=t.xaxis[n]:e.maxY=t.xaxis[n])})),e.isMultipleYAxis?(this.scales.setMultipleYScales(),e.minY=n,e.yAxisScale.forEach((function(t,n){e.minYArr[n]=t.niceMin,e.maxYArr[n]=t.niceMax}))):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.yAxisScale[0].niceMin,e.maxYArr[0]=e.yAxisScale[0].niceMax),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,n="numeric"===t.xaxis.type||"datetime"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var t=0;t<e.series.length;t++)if(e.labels[t])for(var n=0;n<e.labels[t].length;n++)null!==e.labels[t][n]&&x.isNumber(e.labels[t][n])&&(e.maxX=Math.max(e.maxX,e.labels[t][n]),e.initialMaxX=Math.max(e.maxX,e.labels[t][n]),e.minX=Math.min(e.minX,e.labels[t][n]),e.initialMinX=Math.min(e.minX,e.labels[t][n]))}(),e.noLabelsProvided&&0===t.xaxis.categories.length&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var i;if(void 0===t.xaxis.tickAmount?(i=Math.round(e.svgWidth/150),"numeric"===t.xaxis.type&&e.dataPoints<30&&(i=e.dataPoints-1),i>e.dataPoints&&0!==e.dataPoints&&(i=e.dataPoints-1)):"dataPoints"===t.xaxis.tickAmount?(e.series.length>1&&(i=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric&&(i=e.maxX-e.minX-1)):i=t.xaxis.tickAmount,e.xTickAmount=i,void 0!==t.xaxis.max&&"number"==typeof t.xaxis.max&&(e.maxX=t.xaxis.max),void 0!==t.xaxis.min&&"number"==typeof t.xaxis.min&&(e.minX=t.xaxis.min),void 0!==t.xaxis.range&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var r=[],s=e.minX-1;s<e.maxX;s++)r.push(s+1);e.xAxisScale={result:r,niceMin:r[0],niceMax:r[r.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(1,i,i),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,i-1),e.seriesX=e.labels.slice());n&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ)for(var t=0;t<e.series.length;t++)if(void 0!==e.seriesZ[t])for(var n=0;n<e.seriesZ[t].length;n++)null!==e.seriesZ[t][n]&&x.isNumber(e.seriesZ[t][n])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][n]),e.minZ=Math.min(e.minZ,e.seriesZ[t][n]))}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var n=new q(this.ctx);if("datetime"===t.xaxis.type){var i=n.getDate(e.minX);t.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()-2):i.setDate(i.getDate()-2),e.minX=new Date(i).getTime();var r=n.getDate(e.maxX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()+2):r.setDate(r.getDate()+2),e.maxX=new Date(r).getTime()}else("numeric"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach((function(t,n){1===t.length&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var i=t.slice();i.sort((function(e,t){return e-t})),i.forEach((function(t,n){if(n>0){var r=t-i[n-1];r>0&&(e.minXDiff=Math.min(r,e.minXDiff))}})),1!==e.dataPoints&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}))}},{key:"_setStackedMinMax",value:function(){var e=this.w.globals,t=[],n=[];if(e.series.length)for(var i=0;i<e.series[e.maxValsInArrayIndex].length;i++)for(var r=0,s=0,o=0;o<e.series.length;o++)null!==e.series[o][i]&&x.isNumber(e.series[o][i])&&(e.series[o][i]>0?r=r+parseFloat(e.series[o][i])+1e-4:s+=parseFloat(e.series[o][i])),o===e.series.length-1&&(t.push(r),n.push(s));for(var a=0;a<t.length;a++)e.maxY=Math.max(e.maxY,t[a]),e.minY=Math.min(e.minY,n[a])}}]),e}(),ee=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.axisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===n.config.chart.type&&n.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===n.config.xaxis.position&&(this.xAxisoffX=n.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new $(t)}return c(e,[{key:"drawYaxis",value:function(e){var t=this,n=this.w,i=new S(this.ctx),r=n.config.yaxis[e].labels.style,s=r.fontSize,o=r.fontFamily,a=r.fontWeight,l=i.group({class:"apexcharts-yaxis",rel:e,transform:"translate("+n.globals.translateYAxisX[e]+", 0)"});if(this.axesUtils.isYAxisHidden(e))return l;var c=i.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var u=n.globals.yAxisScale[e].result.length-1,h=n.globals.gridHeight/u,d=n.globals.translateY,f=n.globals.yLabelFormatters[e],p=n.globals.yAxisScale[e].result.slice();p=this.axesUtils.checkForReversedLabels(e,p);var g="";if(n.config.yaxis[e].labels.show)for(var m=function(l){var m=p[l];m=f(m,l,n);var v=n.config.yaxis[e].labels.padding;n.config.yaxis[e].opposite&&0!==n.config.yaxis.length&&(v*=-1);var y=t.axesUtils.getYAxisForeColor(r.colors,e),b=i.drawText({x:v,y:d+u/10+n.config.yaxis[e].labels.offsetY+1,text:m,textAnchor:n.config.yaxis[e].opposite?"start":"end",fontSize:s,fontFamily:o,fontWeight:a,maxWidth:n.config.yaxis[e].labels.maxWidth,foreColor:Array.isArray(y)?y[l]:y,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+r.cssClass});l===u&&(g=b),c.add(b);var x=document.createElementNS(n.globals.SVGNS,"title");if(x.textContent=Array.isArray(m)?m.join(" "):m,b.node.appendChild(x),0!==n.config.yaxis[e].labels.rotate){var w=i.rotateAroundCenter(g.node),_=i.rotateAroundCenter(b.node);b.node.setAttribute("transform","rotate(".concat(n.config.yaxis[e].labels.rotate," ").concat(w.x," ").concat(_.y,")"))}d+=h},v=u;v>=0;v--)m(v);if(void 0!==n.config.yaxis[e].title.text){var y=i.group({class:"apexcharts-yaxis-title"}),b=0;n.config.yaxis[e].opposite&&(b=n.globals.translateYAxisX[e]);var x=i.drawText({x:b,y:n.globals.gridHeight/2+n.globals.translateY+n.config.yaxis[e].title.offsetY,text:n.config.yaxis[e].title.text,textAnchor:"end",foreColor:n.config.yaxis[e].title.style.color,fontSize:n.config.yaxis[e].title.style.fontSize,fontWeight:n.config.yaxis[e].title.style.fontWeight,fontFamily:n.config.yaxis[e].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+n.config.yaxis[e].title.style.cssClass});y.add(x),l.add(y)}var w=n.config.yaxis[e].axisBorder,_=31+w.offsetX;if(n.config.yaxis[e].opposite&&(_=-31-w.offsetX),w.show){var k=i.drawLine(_,n.globals.translateY+w.offsetY-2,_,n.globals.gridHeight+n.globals.translateY+w.offsetY+2,w.color,0,w.width);l.add(k)}return n.config.yaxis[e].axisTicks.show&&this.axesUtils.drawYAxisTicks(_,u,w,n.config.yaxis[e].axisTicks,e,h,l),l}},{key:"drawYaxisInversed",value:function(e){var t=this.w,n=new S(this.ctx),i=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),r=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(r);var s=t.globals.yAxisScale[e].result.length-1,o=t.globals.gridWidth/s+.1,a=o+t.config.xaxis.labels.offsetX,l=t.globals.xLabelFormatter,c=t.globals.yAxisScale[e].result.slice(),u=t.globals.timescaleLabels;u.length>0&&(this.xaxisLabels=u.slice(),s=(c=u.slice()).length),c=this.axesUtils.checkForReversedLabels(e,c);var h=u.length;if(t.config.xaxis.labels.show)for(var d=h?0:s;h?d<h:d>=0;h?d++:d--){var f=c[d];f=l(f,d,t);var p=t.globals.gridWidth+t.globals.padHorizontal-(a-o+t.config.xaxis.labels.offsetX);if(u.length){var g=this.axesUtils.getLabel(c,u,p,d,this.drawnLabels,this.xaxisFontSize);p=g.x,f=g.text,this.drawnLabels.push(g.text),0===d&&t.globals.skipFirstTimelinelabel&&(f=""),d===c.length-1&&t.globals.skipLastTimelinelabel&&(f="")}var m=n.drawText({x:p,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-("top"===t.config.xaxis.position?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:f,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+t.config.xaxis.labels.style.cssClass});r.add(m),m.tspan(f);var v=document.createElementNS(t.globals.SVGNS,"title");v.textContent=f,m.node.appendChild(v),a+=o}return this.inversedYAxisTitleText(i),this.inversedYAxisBorder(i),i}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,n=new S(this.ctx),i=t.config.xaxis.axisBorder;if(i.show){var r=0;"bar"===t.config.chart.type&&t.globals.isXNumeric&&(r-=15);var s=n.drawLine(t.globals.padHorizontal+r+i.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,i.color,0,i.height);e.add(s)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,n=new S(this.ctx);if(void 0!==t.config.xaxis.title.text){var i=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),r=n.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});i.add(r),e.add(i)}}},{key:"yAxisTitleRotate",value:function(e,t){var n=this.w,i=new S(this.ctx),r={width:0,height:0},s={width:0,height:0},o=n.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g"));null!==o&&(r=o.getBoundingClientRect());var a=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text"));if(null!==a&&(s=a.getBoundingClientRect()),null!==a){var l=this.xPaddingForYAxisTitle(e,r,s,t);a.setAttribute("x",l.xPos-(t?10:0))}if(null!==a){var c=i.rotateAroundCenter(a);a.setAttribute("transform","rotate(".concat(t?-1*n.config.yaxis[e].title.rotate:n.config.yaxis[e].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,n,i){var r=this.w,s=0,o=0,a=10;return void 0===r.config.yaxis[e].title.text||e<0?{xPos:o,padd:0}:(i?(o=t.width+r.config.yaxis[e].title.offsetX+n.width/2+a/2,0===(s+=1)&&(o-=a/2)):(o=-1*t.width+r.config.yaxis[e].title.offsetX+a/2+n.width/2,r.globals.isBarHorizontal&&(a=25,o=-1*t.width-r.config.yaxis[e].title.offsetX-a)),{xPos:o,padd:a})}},{key:"setYAxisXPosition",value:function(e,t){var n=this.w,i=0,r=0,s=18,o=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.map((function(a,l){var c=n.globals.ignoreYAxisIndexes.indexOf(l)>-1||!a.show||a.floating||0===e[l].width,u=e[l].width+t[l].width;a.opposite?n.globals.isBarHorizontal?(r=n.globals.gridWidth+n.globals.translateX-1,n.globals.translateYAxisX[l]=r-a.labels.offsetX):(r=n.globals.gridWidth+n.globals.translateX+o,c||(o=o+u+20),n.globals.translateYAxisX[l]=r-a.labels.offsetX+20):(i=n.globals.translateX-s,c||(s=s+u+20),n.globals.translateYAxisX[l]=i+a.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(t=x.listToArray(t)).forEach((function(t,n){var i=e.config.yaxis[n];if(i&&void 0!==i.labels.align){var r=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label"));s=x.listToArray(s);var o=r.getBoundingClientRect();"left"===i.labels.align?(s.forEach((function(e,t){e.setAttribute("text-anchor","start")})),i.opposite||r.setAttribute("transform","translate(-".concat(o.width,", 0)"))):"center"===i.labels.align?(s.forEach((function(e,t){e.setAttribute("text-anchor","middle")})),r.setAttribute("transform","translate(".concat(o.width/2*(i.opposite?1:-1),", 0)"))):"right"===i.labels.align&&(s.forEach((function(e,t){e.setAttribute("text-anchor","end")})),i.opposite&&r.setAttribute("transform","translate(".concat(o.width,", 0)")))}}))}}]),e}(),te=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.documentEvent=x.bind(this.documentEvent,this)}return c(e,[{key:"addEventListener",value:function(e,t){var n=this.w;n.globals.events.hasOwnProperty(e)?n.globals.events[e].push(t):n.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){var i=n.globals.events[e].indexOf(t);-1!==i&&n.globals.events[e].splice(i,1)}}},{key:"fireEvent",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var i=n.globals.events[e],r=i.length,s=0;s<r;s++)i[s].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,n=this.ctx,i=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach((function(e){i.addEventListener(e,(function(e){var i=Object.assign({},t,{seriesIndex:t.globals.capturedSeriesIndex,dataPointIndex:t.globals.capturedDataPointIndex});"mousemove"===e.type||"touchmove"===e.type?"function"==typeof t.config.chart.events.mouseMove&&t.config.chart.events.mouseMove(e,n,i):"mouseleave"===e.type||"touchleave"===e.type?"function"==typeof t.config.chart.events.mouseLeave&&t.config.chart.events.mouseLeave(e,n,i):("mouseup"===e.type&&1===e.which||"touchend"===e.type)&&("function"==typeof t.config.chart.events.click&&t.config.chart.events.click(e,n,i),n.ctx.events.fireEvent("click",[e,n,i]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(n){t.globals.dom.baseEl.addEventListener(n,e.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,n=e.target.className;if("click"===e.type){var i=t.globals.dom.baseEl.querySelector(".apexcharts-menu");i&&i.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==n&&i.classList.remove("apexcharts-menu-open")}t.globals.clientX="touchmove"===e.type?e.touches[0].clientX:e.clientX,t.globals.clientY="touchmove"===e.type?e.touches[0].clientY:e.clientY}}]),e}(),ne=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=t.filter((function(t){return t.name===e}))[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var i=x.extend(E,n);this.w.globals.locale=i.options}}]),e}(),ie=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"drawAxis",value:function(e,t){var n,i,r=this.w.globals,s=this.w.config,o=new K(this.ctx),a=new ee(this.ctx);r.axisCharts&&"radar"!==e&&(r.isBarHorizontal?(i=a.drawYaxisInversed(0),n=o.drawXaxisInversed(0),r.dom.elGraphical.add(n),r.dom.elGraphical.add(i)):(n=o.drawXaxis(),r.dom.elGraphical.add(n),s.yaxis.map((function(e,t){-1===r.ignoreYAxisIndexes.indexOf(t)&&(i=a.drawYaxis(t),r.dom.Paper.add(i))}))))}}]),e}(),re=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new S(this.ctx),n=new _(this.ctx),i=e.config.xaxis.crosshairs.fill.gradient,r=e.config.xaxis.crosshairs.dropShadow,s=e.config.xaxis.crosshairs.fill.type,o=i.colorFrom,a=i.colorTo,l=i.opacityFrom,c=i.opacityTo,u=i.stops,h=r.enabled,d=r.left,f=r.top,p=r.blur,g=r.color,m=r.opacity,v=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){"gradient"===s&&(v=t.drawGradient("vertical",o,a,l,c,null,u,null));var y=t.drawRect();1===e.config.xaxis.crosshairs.width&&(y=t.drawLine());var b=e.globals.gridHeight;(!x.isNumber(b)||b<0)&&(b=0);var w=e.config.xaxis.crosshairs.width;(!x.isNumber(w)||w<0)&&(w=0),y.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:b,width:w,height:b,fill:v,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),h&&(y=n.dropShadow(y,{left:d,top:f,blur:p,color:g,opacity:m})),e.globals.dom.elGraphical.add(y)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new S(this.ctx),n=e.config.yaxis[0].crosshairs,i=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var r=t.drawLine(-i,0,e.globals.gridWidth+i,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);r.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(r)}var s=t.drawLine(-i,0,e.globals.gridWidth+i,0,n.stroke.color,0,0);s.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(s)}}]),e}(),se=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"checkResponsiveConfig",value:function(e){var t=this,n=this.w,i=n.config;if(0!==i.responsive.length){var r=i.responsive.slice();r.sort((function(e,t){return e.breakpoint>t.breakpoint?1:t.breakpoint>e.breakpoint?-1:0})).reverse();var s=new U({}),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r[0].breakpoint,o=window.innerWidth>0?window.innerWidth:screen.width;if(o>i){var a=k.extendArrayProps(s,n.globals.initialConfig,n);e=x.extend(a,e),e=x.extend(n.config,e),t.overrideResponsiveOptions(e)}else for(var l=0;l<r.length;l++)o<r[l].breakpoint&&(e=k.extendArrayProps(s,r[l].options,n),e=x.extend(n.config,e),t.overrideResponsiveOptions(e))};if(e){var a=k.extendArrayProps(s,e,n);a=x.extend(n.config,a),o(a=x.extend(a,e))}else o({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new U(e).init({responsiveOverride:!0});this.w.config=t}}]),e}(),oe=function(){function e(t){a(this,e),this.ctx=t,this.colors=[],this.w=t.w;var n=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===n.config.chart.type&&n.config.plotOptions.treemap.distributed||"heatmap"===n.config.chart.type&&n.config.plotOptions.heatmap.distributed,this.isBarDistributed=n.config.plotOptions.bar.distributed&&("bar"===n.config.chart.type||"rangeBar"===n.config.chart.type)}return c(e,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this,t=this.w,n=new x;if(t.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(t.config.theme.mode)),void 0===t.config.colors?t.globals.colors=this.predefined():(t.globals.colors=t.config.colors,Array.isArray(t.config.colors)&&t.config.colors.length>0&&"function"==typeof t.config.colors[0]&&(t.globals.colors=t.config.series.map((function(n,i){var r=t.config.colors[i];return r||(r=t.config.colors[0]),"function"==typeof r?(e.isColorFn=!0,r({value:t.globals.axisCharts?t.globals.series[i][0]?t.globals.series[i][0]:0:t.globals.series[i],seriesIndex:i,dataPointIndex:i,w:t})):r})))),t.globals.seriesColors.map((function(e,n){e&&(t.globals.colors[n]=e)})),t.config.theme.monochrome.enabled){var i=[],r=t.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(r=t.globals.series[0].length*t.globals.series.length);for(var s=t.config.theme.monochrome.color,o=1/(r/t.config.theme.monochrome.shadeIntensity),a=t.config.theme.monochrome.shadeTo,l=0,c=0;c<r;c++){var u=void 0;"dark"===a?(u=n.shadeColor(-1*l,s),l+=o):(u=n.shadeColor(l,s),l+=o),i.push(u)}t.globals.colors=i.slice()}var h=t.globals.colors.slice();this.pushExtraColors(t.globals.colors),["fill","stroke"].forEach((function(n){void 0===t.config[n].colors?t.globals[n].colors=e.isColorFn?t.config.colors:h:t.globals[n].colors=t.config[n].colors.slice(),e.pushExtraColors(t.globals[n].colors)})),void 0===t.config.dataLabels.style.colors?t.globals.dataLabels.style.colors=h:t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50),void 0===t.config.plotOptions.radar.polygons.fill.colors?t.globals.radarPolygons.fill.colors=["dark"===t.config.theme.mode?"#424242":"none"]:t.globals.radarPolygons.fill.colors=t.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(t.globals.radarPolygons.fill.colors,20),void 0===t.config.markers.colors?t.globals.markers.colors=h:t.globals.markers.colors=t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.w,r=t||i.globals.series.length;if(null===n&&(n=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===i.config.chart.type&&i.config.plotOptions.heatmap.colorScale.inverse),n&&i.globals.series.length&&(r=i.globals.series[i.globals.maxValsInArrayIndex].length*i.globals.series.length),e.length<r)for(var s=r-e.length,o=0;o<s;o++)e.push(e[o])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode||"light",n=e.theme.palette?e.theme.palette:"dark"===t?"palette4":"palette1",i=e.chart.foreColor?e.chart.foreColor:"dark"===t?"#f6f7f8":"#373d3f";return e.tooltip.theme=t,e.chart.foreColor=i,e.theme.palette=n,e}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"];break;default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]}return this.colors}}]),e}(),ae=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,n="title"===e?t.config.title:t.config.subtitle,i=t.globals.svgWidth/2,r=n.offsetY,s="middle";if("left"===n.align?(i=10,s="start"):"right"===n.align&&(i=t.globals.svgWidth-10,s="end"),i+=n.offsetX,r=r+parseInt(n.style.fontSize,10)+n.margin/2,void 0!==n.text){var o=new S(this.ctx).drawText({x:i,y:r,text:n.text,textAnchor:s,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(o)}}}]),e}(),le=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return c(e,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,n=0,i=0,r="title"===e?t.config.title.floating:t.config.subtitle.floating,s=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(null!==s&&!r){var o=s.getBoundingClientRect();n=o.width,i=t.globals.axisCharts?o.height+5:o.height}return{width:n,height:i}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.baseEl.querySelector(".apexcharts-legend");e.config.legend.height||"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||(t.style.maxHeight=e.globals.svgHeight/2+"px");var n=Object.assign({},x.getBoundingClientRect(t));return null!==t&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:n.x,y:n.y,height:n.height,width:0===n.height?0:n.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==e.config.legend.position&&"right"!==e.config.legend.position||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(e,t){var n=e;if(this.w.globals.isMultiLineX){var i=t.map((function(e,t){return Array.isArray(e)?e.length:1})),r=Math.max.apply(Math,v(i));n=t[i.indexOf(r)]}return n}}]),e}(),ce=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return c(e,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,n=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&0===n.length&&(n=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var i=this.getxAxisTimeScaleLabelsCoords();e={width:i.width,height:i.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==t.config.legend.position&&"right"!==t.config.legend.position||t.config.legend.floating?0:this.dCtx.lgRect.width;var r=t.globals.xLabelFormatter,s=x.getLargestStringFromArr(n),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(s,n);t.globals.isBarHorizontal&&(o=s=t.globals.yAxisScale[0].result.reduce((function(e,t){return e.length>t.length?e:t}),0));var a=new X(this.dCtx.ctx),l=s;s=a.xLabelFormat(r,s,l,{i:void 0,dateFormatter:new q(this.dCtx.ctx).formatDate,w:t}),o=a.xLabelFormat(r,o,l,{i:void 0,dateFormatter:new q(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&void 0===s||""===String(s).trim())&&(o=s="1");var c=new S(this.dCtx.ctx),u=c.getTextRects(s,t.config.xaxis.labels.style.fontSize),h=u;if(s!==o&&(h=c.getTextRects(o,t.config.xaxis.labels.style.fontSize)),(e={width:u.width>=h.width?u.width:h.width,height:u.height>=h.height?u.height:h.height}).width*n.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==t.config.xaxis.labels.rotate||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var d=function(e){return c.getTextRects(e,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};u=d(s),s!==o&&(h=d(o)),e.height=(u.height>h.height?u.height:h.height)/1.5,e.width=u.width>h.width?u.width:h.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasGroups)return{width:0,height:0};var n,i=(null===(e=t.config.xaxis.group.style)||void 0===e?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,r=t.globals.groups.map((function(e){return e.title})),s=x.getLargestStringFromArr(r),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(s,r),a=new S(this.dCtx.ctx),l=a.getTextRects(s,i),c=l;return s!==o&&(c=a.getTextRects(o,i)),n={width:l.width>=c.width?l.width:c.width,height:l.height>=c.height?l.height:c.height},t.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,n=0;if(void 0!==e.config.xaxis.title.text){var i=new S(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=i.width,n=i.height}return{width:t,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map((function(e){return e.value})),i=n.reduce((function(e,t){return void 0===e?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):e.length>t.length?e:t}),0);return 1.05*(e=new S(this.dCtx.ctx).getTextRects(i,t.config.xaxis.labels.style.fontSize)).width*n.length>t.globals.gridWidth&&0!==t.config.xaxis.labels.rotate&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,n=this.w,i=n.globals,r=n.config,s=r.xaxis.type,o=e.width;i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1;var a=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal,l=function(e,a){(function(e){return-1!==i.collapsedSeriesIndices.indexOf(e)})(a)||function(e){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var a=t.dCtx.timescaleLabels[0],l=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+o/1.75-t.dCtx.yAxisWidthRight,c=a.position-o/1.75+t.dCtx.yAxisWidthLeft,u="right"===n.config.legend.position&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;l>i.svgWidth-i.translateX-u&&(i.skipLastTimelinelabel=!0),c<-(e.show&&!e.floating||"bar"!==r.chart.type&&"candlestick"!==r.chart.type&&"rangeBar"!==r.chart.type&&"boxPlot"!==r.chart.type?10:o/1.75)&&(i.skipFirstTimelinelabel=!0)}else"datetime"===s?t.dCtx.gridPad.right<o&&!i.rotateXLabels&&(i.skipLastTimelinelabel=!0):"datetime"!==s&&t.dCtx.gridPad.right<o/2-t.dCtx.yAxisWidthRight&&!i.rotateXLabels&&!n.config.xaxis.labels.trim&&("between"!==n.config.xaxis.tickPlacement||n.globals.isBarHorizontal)&&(t.dCtx.xPadRight=o/2+1)}(e)};r.yaxis.forEach((function(e,n){a?(t.dCtx.gridPad.left<o&&(t.dCtx.xPadLeft=o/2+1),t.dCtx.xPadRight=o/2+1):l(e,n)}))}}]),e}(),ue=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return c(e,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,n=[],i=10,r=new $(this.dCtx.ctx);return t.config.yaxis.map((function(s,o){var a=t.globals.yAxisScale[o],l=0;if(!r.isYAxisHidden(o)&&s.labels.show&&void 0!==s.labels.minWidth&&(l=s.labels.minWidth),!r.isYAxisHidden(o)&&s.labels.show&&a.result.length){var c=t.globals.yLabelFormatters[o],u=a.niceMin===Number.MIN_VALUE?0:a.niceMin,h=String(u).length>String(a.niceMax).length?u:a.niceMax,d=c(h,{seriesIndex:o,dataPointIndex:-1,w:t}),f=d;if(void 0!==d&&0!==d.length||(d=h),t.globals.isBarHorizontal){i=0;var p=t.globals.labels.slice();d=c(d=x.getLargestStringFromArr(p),{seriesIndex:o,dataPointIndex:-1,w:t}),f=e.dCtx.dimHelpers.getLargestStringFromMultiArr(d,p)}var g=new S(e.dCtx.ctx),m="rotate(".concat(s.labels.rotate," 0 0)"),v=g.getTextRects(d,s.labels.style.fontSize,s.labels.style.fontFamily,m,!1),y=v;d!==f&&(y=g.getTextRects(f,s.labels.style.fontSize,s.labels.style.fontFamily,m,!1)),n.push({width:(l>y.width||l>v.width?l:y.width>v.width?y.width:v.width)+i,height:y.height>v.height?y.height:v.height})}else n.push({width:0,height:0})})),n}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,n=[];return t.config.yaxis.map((function(t,i){if(t.show&&void 0!==t.title.text){var r=new S(e.dCtx.ctx),s="rotate(".concat(t.title.rotate," 0 0)"),o=r.getTextRects(t.title.text,t.title.style.fontSize,t.title.style.fontFamily,s,!1);n.push({width:o.width,height:o.height})}else n.push({width:0,height:0})})),n}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,n=0,i=0,r=e.globals.yAxisScale.length>1?10:0,s=new $(this.dCtx.ctx),o=function(o,a){var l=e.config.yaxis[a].floating,c=0;o.width>0&&!l?(c=o.width+r,function(t){return e.globals.ignoreYAxisIndexes.indexOf(t)>-1}(a)&&(c=c-o.width-r)):c=l||s.isYAxisHidden(a)?0:5,e.config.yaxis[a].opposite?i+=c:n+=c,t+=c};return e.globals.yLabelsCoords.map((function(e,t){o(e,t)})),e.globals.yTitleCoords.map((function(e,t){o(e,t)})),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=i,t}}]),e}(),he=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return c(e,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w;if(t.globals.noData||t.globals.allSeriesCollapsed)return 0;var n=function(e){return"bar"===e||"rangeBar"===e||"candlestick"===e||"boxPlot"===e},i=t.config.chart.type,r=0,s=n(i)?t.config.series.length:1;if(t.globals.comboBarCount>0&&(s=t.globals.comboBarCount),t.globals.collapsedSeries.forEach((function(e){n(e.type)&&(s-=1)})),t.config.chart.stacked&&(s=1),(n(i)||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&s>0){var o,a,l=Math.abs(t.globals.initialMaxX-t.globals.initialMinX);l<=3&&(l=t.globals.dataPoints),o=l/e,t.globals.minXDiff&&t.globals.minXDiff/o>0&&(a=t.globals.minXDiff/o),a>e/2&&(a/=2),(r=a/s*parseInt(t.config.plotOptions.bar.columnWidth,10)/100)<1&&(r=1),r=r/(s>1?1:1.5)+5,t.globals.barPadForNumericAxis=r}return r}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,n=t.globals,i=this.dCtx.isSparkline||!t.globals.axisCharts?0:10;["title","subtitle"].forEach((function(n){void 0!==t.config[n].text?i+=t.config[n].margin:i+=e.dCtx.isSparkline||!t.globals.axisCharts?0:5})),!t.config.legend.show||"bottom"!==t.config.legend.position||t.config.legend.floating||t.globals.axisCharts||(i+=10);var r=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),s=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight=n.gridHeight-r.height-s.height-i,n.translateY=n.translateY+r.height+s.height+i}},{key:"setGridXPosForDualYAxis",value:function(e,t){var n=this.w,i=new $(this.dCtx.ctx);n.config.yaxis.map((function(r,s){-1!==n.globals.ignoreYAxisIndexes.indexOf(s)||r.floating||i.isYAxisHidden(s)||(r.opposite&&(n.globals.translateX=n.globals.translateX-(t[s].width+e[s].width)-parseInt(n.config.yaxis[s].labels.style.fontSize,10)/1.2-12),n.globals.translateX<2&&(n.globals.translateX=2))}))}}]),e}(),de=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new le(this),this.dimYAxis=new ue(this),this.dimXAxis=new ce(this),this.dimGrid=new he(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return c(e,[{key:"plotCoords",value:function(){var e=this,t=this.w,n=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(t){var n=m(t,2),i=n[0],r=n[1];e.gridPad[i]=Math.max(r,e.w.globals.markers.largestSize/1.5)})),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var i=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*i,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(i>0?i+4:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,n=t.globals,i=this.dimYAxis.getyAxisLabelsCoords(),r=this.dimYAxis.getyAxisTitleCoords();t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map((function(e,n){t.globals.yLabelsCoords.push({width:i[n].width,index:n}),t.globals.yTitleCoords.push({width:r[n].width,index:n})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var s=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisGroupLabelsCoords(),a=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(s,a,o),n.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+t.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+t.config.xaxis.labels.offsetX;var l=this.yAxisWidth,c=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight-a.height,n.xAxisGroupLabelsHeight=n.xAxisLabelsHeight-s.height,n.xAxisLabelsWidth=this.xAxisWidth,n.xAxisHeight=this.xAxisHeight;var u=10;("radar"===t.config.chart.type||this.isSparkline)&&(l=0,c=n.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===t.config.chart.type)&&(l=0,c=0,u=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(s);var h=function(){n.translateX=l,n.gridHeight=n.svgHeight-e.lgRect.height-c-(e.isSparkline||"treemap"===t.config.chart.type?0:t.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-l};switch("top"===t.config.xaxis.position&&(u=n.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":n.translateY=u,h();break;case"top":n.translateY=this.lgRect.height+u,h();break;case"left":n.translateY=u,n.translateX=this.lgRect.width+l,n.gridHeight=n.svgHeight-c-12,n.gridWidth=n.svgWidth-this.lgRect.width-l;break;case"right":n.translateY=u,n.translateX=l,n.gridHeight=n.svgHeight-c-12,n.gridWidth=n.svgWidth-this.lgRect.width-l-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(r,i),new ee(this.ctx).setYAxisXPosition(i,r)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=e.config,i=0;e.config.legend.show&&!e.config.legend.floating&&(i=20);var r="pie"===n.chart.type||"polarArea"===n.chart.type||"donut"===n.chart.type?"pie":"radialBar",s=n.plotOptions[r].offsetY,o=n.plotOptions[r].offsetX;if(!n.legend.show||n.legend.floating)return t.gridHeight=t.svgHeight-n.grid.padding.left+n.grid.padding.right,t.gridWidth=t.gridHeight,t.translateY=s,void(t.translateX=o+(t.svgWidth-t.gridWidth)/2);switch(n.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=s-10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+s+10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-i,t.gridHeight="auto"!==n.chart.height?t.svgHeight:t.gridWidth,t.translateY=s,t.translateX=o+this.lgRect.width+i;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-i-5,t.gridHeight="auto"!==n.chart.height?t.svgHeight:t.gridWidth,t.translateY=s,t.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,n){var i=this.w,r=i.globals.hasGroups?2:1,s=n.height+e.height+t.height,o=i.globals.isMultiLineX?1.2:i.globals.LINE_HEIGHT_RATIO,a=i.globals.rotateXLabels?22:10,l=i.globals.rotateXLabels&&"bottom"===i.config.legend.position?10:0;this.xAxisHeight=s*o+r*a+l,this.xAxisWidth=e.width,this.xAxisHeight-t.height>i.config.xaxis.labels.maxHeight&&(this.xAxisHeight=i.config.xaxis.labels.maxHeight),i.config.xaxis.labels.minHeight&&this.xAxisHeight<i.config.xaxis.labels.minHeight&&(this.xAxisHeight=i.config.xaxis.labels.minHeight),i.config.xaxis.floating&&(this.xAxisHeight=0);var c=0,u=0;i.config.yaxis.forEach((function(e){c+=e.labels.minWidth,u+=e.labels.maxWidth})),this.yAxisWidth<c&&(this.yAxisWidth=c),this.yAxisWidth>u&&(this.yAxisWidth=u)}}]),e}(),fe=function(){function e(t){a(this,e),this.w=t.w,this.lgCtx=t}return c(e,[{key:"getLegendStyles",value:function(){var e=document.createElement("style");e.setAttribute("type","text/css");var t=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return e.appendChild(t),e}},{key:"getLegendBBox",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;e.dom.elLegendForeign=document.createElementNS(e.SVGNS,"foreignObject");var t=e.dom.elLegendForeign;t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("width",e.svgWidth),t.setAttribute("height",e.svgHeight),e.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),t.appendChild(e.dom.elLegendWrap),t.appendChild(this.getLegendStyles()),e.dom.Paper.node.insertBefore(t,e.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(e,t){var n=this,i=this.w;if(i.globals.axisCharts||"radialBar"===i.config.chart.type){i.globals.resized=!0;var r=null,s=null;i.globals.risingSeries=[],i.globals.axisCharts?(r=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),s=parseInt(r.getAttribute("data:realIndex"),10)):(r=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),s=parseInt(r.getAttribute("rel"),10)-1),t?[{cs:i.globals.collapsedSeries,csi:i.globals.collapsedSeriesIndices},{cs:i.globals.ancillaryCollapsedSeries,csi:i.globals.ancillaryCollapsedSeriesIndices}].forEach((function(e){n.riseCollapsedSeries(e.cs,e.csi,s)})):this.hideSeries({seriesEl:r,realIndex:s})}else{var o=i.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(e+1,"'] path")),a=i.config.chart.type;if("pie"===a||"polarArea"===a||"donut"===a){var l=i.config.plotOptions.pie.donut.labels;new S(this.lgCtx.ctx).pathMouseDown(o.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(o.members[0].node,l)}o.fire("click")}}},{key:"hideSeries",value:function(e){var t=e.seriesEl,n=e.realIndex,i=this.w,r=x.clone(i.config.series);if(i.globals.axisCharts){var s=!1;if(i.config.yaxis[n]&&i.config.yaxis[n].show&&i.config.yaxis[n].showAlways&&(s=!0,i.globals.ancillaryCollapsedSeriesIndices.indexOf(n)<0&&(i.globals.ancillaryCollapsedSeries.push({index:n,data:r[n].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),i.globals.ancillaryCollapsedSeriesIndices.push(n))),!s){i.globals.collapsedSeries.push({index:n,data:r[n].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),i.globals.collapsedSeriesIndices.push(n);var o=i.globals.risingSeries.indexOf(n);i.globals.risingSeries.splice(o,1)}}else i.globals.collapsedSeries.push({index:n,data:r[n]}),i.globals.collapsedSeriesIndices.push(n);for(var a=t.childNodes,l=0;l<a.length;l++)a[l].classList.contains("apexcharts-series-markers-wrap")&&(a[l].classList.contains("apexcharts-hide")?a[l].classList.remove("apexcharts-hide"):a[l].classList.add("apexcharts-hide"));i.globals.allSeriesCollapsed=i.globals.collapsedSeries.length===i.config.series.length,r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,n){var i=this.w,r=x.clone(i.config.series);if(e.length>0){for(var s=0;s<e.length;s++)e[s].index===n&&(i.globals.axisCharts?(r[n].data=e[s].data.slice(),e.splice(s,1),t.splice(s,1),i.globals.risingSeries.push(n)):(r[n]=e[s].data,e.splice(s,1),t.splice(s,1),i.globals.risingSeries.push(n)));r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w;return t.globals.axisCharts?e.forEach((function(n,i){t.globals.collapsedSeriesIndices.indexOf(i)>-1&&(e[i].data=[])})):e.forEach((function(n,i){t.globals.collapsedSeriesIndices.indexOf(i)>-1&&(e[i]=0)})),e}}]),e}(),pe=function(){function e(t,n){a(this,e),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new fe(this)}return c(e,[{key:"init",value:function(){var e=this.w,t=e.globals,n=e.config;if((n.legend.showForSingleSeries&&1===t.series.length||this.isBarsDistributed||t.series.length>1||!t.axisCharts)&&n.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),x.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===n.legend.position||"top"===n.legend.position?this.legendAlignHorizontal():"right"!==n.legend.position&&"left"!==n.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var e=this,t=this.w,n=t.config.legend.fontFamily,i=t.globals.seriesNames,r=t.globals.colors.slice();if("heatmap"===t.config.chart.type){var s=t.config.plotOptions.heatmap.colorScale.ranges;i=s.map((function(e){return e.name?e.name:e.from+" - "+e.to})),r=s.map((function(e){return e.color}))}else this.isBarsDistributed&&(i=t.globals.labels.slice());t.config.legend.customLegendItems.length&&(i=t.config.legend.customLegendItems);for(var o=t.globals.legendFormatter,a=t.config.legend.inverseOrder,l=a?i.length-1:0;a?l>=0:l<=i.length-1;a?l--:l++){var c=o(i[l],{seriesIndex:l,w:t}),u=!1,h=!1;if(t.globals.collapsedSeries.length>0)for(var d=0;d<t.globals.collapsedSeries.length;d++)t.globals.collapsedSeries[d].index===l&&(u=!0);if(t.globals.ancillaryCollapsedSeriesIndices.length>0)for(var f=0;f<t.globals.ancillaryCollapsedSeriesIndices.length;f++)t.globals.ancillaryCollapsedSeriesIndices[f]===l&&(h=!0);var p=document.createElement("span");p.classList.add("apexcharts-legend-marker");var g=t.config.legend.markers.offsetX,m=t.config.legend.markers.offsetY,v=t.config.legend.markers.height,y=t.config.legend.markers.width,b=t.config.legend.markers.strokeWidth,w=t.config.legend.markers.strokeColor,_=t.config.legend.markers.radius,C=p.style;C.background=r[l],C.color=r[l],C.setProperty("background",r[l],"important"),t.config.legend.markers.fillColors&&t.config.legend.markers.fillColors[l]&&(C.background=t.config.legend.markers.fillColors[l]),void 0!==t.globals.seriesColors[l]&&(C.background=t.globals.seriesColors[l],C.color=t.globals.seriesColors[l]),C.height=Array.isArray(v)?parseFloat(v[l])+"px":parseFloat(v)+"px",C.width=Array.isArray(y)?parseFloat(y[l])+"px":parseFloat(y)+"px",C.left=(Array.isArray(g)?parseFloat(g[l]):parseFloat(g))+"px",C.top=(Array.isArray(m)?parseFloat(m[l]):parseFloat(m))+"px",C.borderWidth=Array.isArray(b)?b[l]:b,C.borderColor=Array.isArray(w)?w[l]:w,C.borderRadius=Array.isArray(_)?parseFloat(_[l])+"px":parseFloat(_)+"px",t.config.legend.markers.customHTML&&(Array.isArray(t.config.legend.markers.customHTML)?t.config.legend.markers.customHTML[l]&&(p.innerHTML=t.config.legend.markers.customHTML[l]()):p.innerHTML=t.config.legend.markers.customHTML()),S.setAttrs(p,{rel:l+1,"data:collapsed":u||h}),(u||h)&&p.classList.add("apexcharts-inactive-legend");var A=document.createElement("div"),T=document.createElement("span");T.classList.add("apexcharts-legend-text"),T.innerHTML=Array.isArray(c)?c.join(" "):c;var I=t.config.legend.labels.useSeriesColors?t.globals.colors[l]:t.config.legend.labels.colors;I||(I=t.config.chart.foreColor),T.style.color=I,T.style.fontSize=parseFloat(t.config.legend.fontSize)+"px",T.style.fontWeight=t.config.legend.fontWeight,T.style.fontFamily=n||t.config.chart.fontFamily,S.setAttrs(T,{rel:l+1,i:l,"data:default-text":encodeURIComponent(c),"data:collapsed":u||h}),A.appendChild(p),A.appendChild(T);var E=new k(this.ctx);t.config.legend.showForZeroSeries||0===E.getSeriesTotalByIndex(l)&&E.seriesHaveSameValues(l)&&!E.isSeriesNull(l)&&-1===t.globals.collapsedSeriesIndices.indexOf(l)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&A.classList.add("apexcharts-hidden-zero-series"),t.config.legend.showForNullSeries||E.isSeriesNull(l)&&-1===t.globals.collapsedSeriesIndices.indexOf(l)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&A.classList.add("apexcharts-hidden-null-series"),t.globals.dom.elLegendWrap.appendChild(A),t.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(t.config.legend.horizontalAlign)),t.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+t.config.legend.position),A.classList.add("apexcharts-legend-series"),A.style.margin="".concat(t.config.legend.itemMargin.vertical,"px ").concat(t.config.legend.itemMargin.horizontal,"px"),t.globals.dom.elLegendWrap.style.width=t.config.legend.width?t.config.legend.width+"px":"",t.globals.dom.elLegendWrap.style.height=t.config.legend.height?t.config.legend.height+"px":"",S.setAttrs(A,{rel:l+1,seriesName:x.escapeString(i[l]),"data:collapsed":u||h}),(u||h)&&A.classList.add("apexcharts-inactive-legend"),t.config.legend.onItemClick.toggleDataSeries||A.classList.add("apexcharts-no-click")}t.globals.dom.elWrap.addEventListener("click",e.onLegendClick,!0),t.config.legend.onItemHover.highlightDataSeries&&0===t.config.legend.customLegendItems.length&&(t.globals.dom.elWrap.addEventListener("mousemove",e.onLegendHovered,!0),t.globals.dom.elWrap.addEventListener("mouseout",e.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var n=this.w,i=n.globals.dom.baseEl.querySelector(".apexcharts-legend"),r=i.getBoundingClientRect(),s=0,o=0;if("bottom"===n.config.legend.position)o+=n.globals.svgHeight-r.height/2;else if("top"===n.config.legend.position){var a=new de(this.ctx),l=a.dimHelpers.getTitleSubtitleCoords("title").height,c=a.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=o+(l>0?l-10:0)+(c>0?c-10:0)}i.style.position="absolute",s=s+e+n.config.legend.offsetX,o=o+t+n.config.legend.offsetY,i.style.left=s+"px",i.style.top=o+"px","bottom"===n.config.legend.position?(i.style.top="auto",i.style.bottom=5-n.config.legend.offsetY+"px"):"right"===n.config.legend.position&&(i.style.left="auto",i.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach((function(e){i.style[e]&&(i.style[e]=parseInt(n.config.legend[e],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var t=this.legendHelpers.getLegendBBox(),n=new de(this.ctx),i=n.dimHelpers.getTitleSubtitleCoords("title"),r=n.dimHelpers.getTitleSubtitleCoords("subtitle"),s=0;"bottom"===e.config.legend.position?s=-t.clwh/1.8:"top"===e.config.legend.position&&(s=i.height+r.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,s)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendBBox(),n=0;"left"===e.config.legend.position&&(n=20),"right"===e.config.legend.position&&(n=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,n=e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if("heatmap"===t.config.chart.type||this.isBarsDistributed){if(n){var i=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,i,this.w]),new F(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&n&&new F(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var n=parseInt(e.target.getAttribute("rel"),10)-1,i="true"===e.target.getAttribute("data:collapsed"),r=this.w.config.chart.events.legendClick;"function"==typeof r&&r(this.ctx,n,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,n,this.w]);var s=this.w.config.legend.markers.onClick;"function"==typeof s&&e.target.classList.contains("apexcharts-legend-marker")&&(s(this.ctx,n,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,n,this.w])),"treemap"!==t.config.chart.type&&"heatmap"!==t.config.chart.type&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(n,i)}}}]),e}(),ge=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=n.globals.minX,this.maxX=n.globals.maxX}return c(e,[{key:"createToolbar",value:function(){var e=this,t=this.w,n=function(){return document.createElement("div")},i=n();if(i.setAttribute("class","apexcharts-toolbar"),i.style.top=t.config.chart.toolbar.offsetY+"px",i.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(i),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons.push(n());var s=[],o=function(n,i,r){var o=n.toLowerCase();e.t[o]&&t.config.chart.zoom.enabled&&s.push({el:i,icon:"string"==typeof e.t[o]?e.t[o]:r,title:e.localeValues[n],class:"apexcharts-".concat(o,"-icon")})};o("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),o("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var a=function(n){e.t[n]&&t.config.chart[n].enabled&&s.push({el:"zoom"===n?e.elZoom:e.elSelection,icon:"string"==typeof e.t[n]?e.t[n]:"zoom"===n?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:e.localeValues["zoom"===n?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(n,"-icon")})};a("zoom"),a("selection"),this.t.pan&&t.config.chart.zoom.enabled&&s.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),o("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&s.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)s.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});s.forEach((function(e,t){e.index&&x.moveIndexInArray(s,t,e.index)}));for(var c=0;c<s.length;c++)S.setAttrs(s[c].el,{class:s[c].class,title:s[c].title}),s[c].el.innerHTML=s[c].icon,i.appendChild(s[c].el);this._createHamburgerMenu(i),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),S.setAttrs(this.elMenu,{class:"apexcharts-menu"});var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||t.splice(2,1);for(var n=0;n<t.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=t[n].title,S.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(t[n].name),title:t[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(t){t.classList.contains("exportSVG")?t.addEventListener("click",e.handleDownload.bind(e,"svg")):t.classList.contains("exportPNG")?t.addEventListener("click",e.handleDownload.bind(e,"png")):t.classList.contains("exportCSV")&&t.addEventListener("click",e.handleDownload.bind(e,"csv"))}));for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls();var n="selection"===e?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,i="selection"===e?"selectionEnabled":"zoomEnabled";t.w.globals[i]=!t.w.globals[i],n.classList.contains(t.ctx.toolbar.selectedClass)?n.classList.remove(t.ctx.toolbar.selectedClass):n.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),"pan"===e?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t="pan"===e?this.elPan:this.elZoom,n="pan"===e?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(t){t&&t.classList.remove(e.selectedClass)}))}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,n=(this.minX+t)/2,i=(this.maxX+t)/2,r=this._getNewMinXMaxX(n,i);e.globals.disableZoomIn||this.zoomUpdateOptions(r.minX,r.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!("datetime"===e.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,n=this.minX-(t-this.minX),i=this.maxX-(t-this.maxX),r=this._getNewMinXMaxX(n,i);e.globals.disableZoomOut||this.zoomUpdateOptions(r.minX,r.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(e):e,maxX:n?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var n=this.w;if(void 0!==e||void 0!==t){if(!(n.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=n.globals.dataPoints),t-e<2))){var i={min:e,max:t},r=this.getBeforeZoomRange(i);r&&(i=r.xaxis);var s={xaxis:i},o=x.clone(n.globals.initialConfig.yaxis);n.config.chart.zoom.autoScaleYaxis&&(o=new Q(this.ctx).autoScaleY(this.ctx,o,{xaxis:i})),n.config.chart.group||(s.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(s,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(i,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var n=null;return"function"==typeof this.ev.beforeZoom&&(n=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),n}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout((function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(e){var t=this.w,n=new G(this.ctx);switch(e){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach((function(e){var t=e.w;if(t.globals.lastXAxis.min=void 0,t.globals.lastXAxis.max=void 0,e.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof t.config.chart.events.beforeResetZoom){var n=t.config.chart.events.beforeResetZoom(e,t);n&&e.updateHelpers.revertDefaultAxisMinMax(n)}"function"==typeof t.config.chart.events.zoomed&&e.ctx.toolbar.zoomCallback({min:t.config.xaxis.min,max:t.config.xaxis.max}),t.globals.zoomed=!1;var i=e.ctx.series.emptyCollapsedSeries(x.clone(t.globals.initialSeries));e.updateHelpers._updateSeries(i,t.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),e}(),me=function(e){h(n,ge);var t=g(n);function n(e){var i;return a(this,n),(i=t.call(this,e)).ctx=e,i.w=e.w,i.dragged=!1,i.graphics=new S(i.ctx),i.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],i.clientX=0,i.clientY=0,i.startX=0,i.endX=0,i.dragX=0,i.startY=0,i.endY=0,i.dragY=0,i.moveDirection="none",i}return c(n,[{key:"init",value:function(e){var t=this,n=e.xyRatios,i=this.w,r=this;this.xyRatios=n,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=i.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),i.globals.dom.elGraphical.add(this.zoomRect),i.globals.dom.elGraphical.add(this.selectionRect),"x"===i.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:i.globals.gridWidth,maxY:i.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===i.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:i.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=i.globals.dom.baseEl.querySelector("".concat(i.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(e){t.hoverArea.addEventListener(e,r.svgMouseEvents.bind(r,n),{capture:!1,passive:!0})}))}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(e,t){var n=this.w,i=this,r=this.ctx.toolbar,s=n.globals.zoomEnabled?n.config.chart.zoom.type:n.config.chart.selection.type,o=n.config.chart.toolbar.autoSelected;if(t.shiftKey?(this.shiftWasPressed=!0,r.enableZoomPanFromToolbar("pan"===o?"zoom":"pan")):this.shiftWasPressed&&(r.enableZoomPanFromToolbar(o),this.shiftWasPressed=!1),t.target){var a,l=t.target.classList;if(t.target.parentNode&&null!==t.target.parentNode&&(a=t.target.parentNode.classList),!(l.contains("apexcharts-selection-rect")||l.contains("apexcharts-legend-marker")||l.contains("apexcharts-legend-text")||a&&a.contains("apexcharts-toolbar"))){if(i.clientX="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientX:"touchend"===t.type?t.changedTouches[0].clientX:t.clientX,i.clientY="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientY:"touchend"===t.type?t.changedTouches[0].clientY:t.clientY,"mousedown"===t.type&&1===t.which){var c=i.gridRect.getBoundingClientRect();i.startX=i.clientX-c.left,i.startY=i.clientY-c.top,i.dragged=!1,i.w.globals.mousedown=!0}if(("mousemove"===t.type&&1===t.which||"touchmove"===t.type)&&(i.dragged=!0,n.globals.panEnabled?(n.globals.selection=null,i.w.globals.mousedown&&i.panDragging({context:i,zoomtype:s,xyRatios:e})):(i.w.globals.mousedown&&n.globals.zoomEnabled||i.w.globals.mousedown&&n.globals.selectionEnabled)&&(i.selection=i.selectionDrawing({context:i,zoomtype:s}))),"mouseup"===t.type||"touchend"===t.type||"mouseleave"===t.type){var u=i.gridRect.getBoundingClientRect();i.w.globals.mousedown&&(i.endX=i.clientX-u.left,i.endY=i.clientY-u.top,i.dragX=Math.abs(i.endX-i.startX),i.dragY=Math.abs(i.endY-i.startY),(n.globals.zoomEnabled||n.globals.selectionEnabled)&&i.selectionDrawn({context:i,zoomtype:s}),n.globals.panEnabled&&n.config.xaxis.convertedCatToNumeric&&i.delayedPanScrolled()),n.globals.zoomEnabled&&i.hideSelectionRect(this.selectionRect),i.dragged=!1,i.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var e=this.w;if(this.selectionRect){var t=this.selectionRect.node.getBoundingClientRect();t.width>0&&t.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:e.globals.gridWidth,maxY:e.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var e=this.w,t=this.xyRatios;if(!e.globals.zoomEnabled)if(void 0!==e.globals.selection&&null!==e.globals.selection)this.drawSelectionRect(e.globals.selection);else if(void 0!==e.config.chart.selection.xaxis.min&&void 0!==e.config.chart.selection.xaxis.max){var n=(e.config.chart.selection.xaxis.min-e.globals.minX)/t.xRatio,i={x:n,y:0,width:e.globals.gridWidth-(e.globals.maxX-e.config.chart.selection.xaxis.max)/t.xRatio-n,height:e.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(i),this.makeSelectionRectDraggable(),"function"==typeof e.config.chart.events.selection&&e.config.chart.events.selection(this.ctx,{xaxis:{min:e.config.chart.selection.xaxis.min,max:e.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(e){var t=e.x,n=e.y,i=e.width,r=e.height,s=e.translateX,o=void 0===s?0:s,a=e.translateY,l=void 0===a?0:a,c=this.w,u=this.zoomRect,h=this.selectionRect;if(this.dragged||null!==c.globals.selection){var d={transform:"translate("+o+", "+l+")"};c.globals.zoomEnabled&&this.dragged&&(i<0&&(i=1),u.attr({x:t,y:n,width:i,height:r,fill:c.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":c.config.chart.zoom.zoomedArea.fill.opacity,stroke:c.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":c.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":c.config.chart.zoom.zoomedArea.stroke.opacity}),S.setAttrs(u.node,d)),c.globals.selectionEnabled&&(h.attr({x:t,y:n,width:i>0?i:0,height:r>0?r:0,fill:c.config.chart.selection.fill.color,"fill-opacity":c.config.chart.selection.fill.opacity,stroke:c.config.chart.selection.stroke.color,"stroke-width":c.config.chart.selection.stroke.width,"stroke-dasharray":c.config.chart.selection.stroke.dashArray,"stroke-opacity":c.config.chart.selection.stroke.opacity}),S.setAttrs(h.node,d))}}},{key:"hideSelectionRect",value:function(e){e&&e.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(e){var t=e.context,n=e.zoomtype,i=this.w,r=t,s=this.gridRect.getBoundingClientRect(),o=r.startX-1,a=r.startY,l=!1,c=!1,u=r.clientX-s.left-o,h=r.clientY-s.top-a,d={};return Math.abs(u+o)>i.globals.gridWidth?u=i.globals.gridWidth-o:r.clientX-s.left<0&&(u=o),o>r.clientX-s.left&&(l=!0,u=Math.abs(u)),a>r.clientY-s.top&&(c=!0,h=Math.abs(h)),d="x"===n?{x:l?o-u:o,y:0,width:u,height:i.globals.gridHeight}:"y"===n?{x:0,y:c?a-h:a,width:i.globals.gridWidth,height:h}:{x:l?o-u:o,y:c?a-h:a,width:u,height:h},r.drawSelectionRect(d),r.selectionDragging("resizing"),d}},{key:"selectionDragging",value:function(e,t){var n=this,i=this.w,r=this.xyRatios,s=this.selectionRect,o=0;"resizing"===e&&(o=30);var a=function(e){return parseFloat(s.node.getAttribute(e))},l={x:a("x"),y:a("y"),width:a("width"),height:a("height")};i.globals.selection=l,"function"==typeof i.config.chart.events.selection&&i.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var e=n.gridRect.getBoundingClientRect(),t=s.node.getBoundingClientRect(),o={xaxis:{min:i.globals.xAxisScale.niceMin+(t.left-e.left)*r.xRatio,max:i.globals.xAxisScale.niceMin+(t.right-e.left)*r.xRatio},yaxis:{min:i.globals.yAxisScale[0].niceMin+(e.bottom-t.bottom)*r.yRatio[0],max:i.globals.yAxisScale[0].niceMax-(t.top-e.top)*r.yRatio[0]}};i.config.chart.events.selection(n.ctx,o),i.config.chart.brush.enabled&&void 0!==i.config.chart.events.brushScrolled&&i.config.chart.events.brushScrolled(n.ctx,o)}),o))}},{key:"selectionDrawn",value:function(e){var t=e.context,n=e.zoomtype,i=this.w,r=t,s=this.xyRatios,o=this.ctx.toolbar;if(r.startX>r.endX){var a=r.startX;r.startX=r.endX,r.endX=a}if(r.startY>r.endY){var l=r.startY;r.startY=r.endY,r.endY=l}var c=void 0,u=void 0;i.globals.isRangeBar?(c=i.globals.yAxisScale[0].niceMin+r.startX*s.invertedYRatio,u=i.globals.yAxisScale[0].niceMin+r.endX*s.invertedYRatio):(c=i.globals.xAxisScale.niceMin+r.startX*s.xRatio,u=i.globals.xAxisScale.niceMin+r.endX*s.xRatio);var h=[],d=[];if(i.config.yaxis.forEach((function(e,t){h.push(i.globals.yAxisScale[t].niceMax-s.yRatio[t]*r.startY),d.push(i.globals.yAxisScale[t].niceMax-s.yRatio[t]*r.endY)})),r.dragged&&(r.dragX>10||r.dragY>10)&&c!==u)if(i.globals.zoomEnabled){var f=x.clone(i.globals.initialConfig.yaxis),p=x.clone(i.globals.initialConfig.xaxis);if(i.globals.zoomed=!0,i.config.xaxis.convertedCatToNumeric&&(c=Math.floor(c),u=Math.floor(u),c<1&&(c=1,u=i.globals.dataPoints),u-c<2&&(u=c+1)),"xy"!==n&&"x"!==n||(p={min:c,max:u}),"xy"!==n&&"y"!==n||f.forEach((function(e,t){f[t].min=d[t],f[t].max=h[t]})),i.config.chart.zoom.autoScaleYaxis){var g=new Q(r.ctx);f=g.autoScaleY(r.ctx,f,{xaxis:p})}if(o){var m=o.getBeforeZoomRange(p,f);m&&(p=m.xaxis?m.xaxis:p,f=m.yaxis?m.yaxis:f)}var v={xaxis:p};i.config.chart.group||(v.yaxis=f),r.ctx.updateHelpers._updateOptions(v,!1,r.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof i.config.chart.events.zoomed&&o.zoomCallback(p,f)}else if(i.globals.selectionEnabled){var y,b=null;y={min:c,max:u},"xy"!==n&&"y"!==n||(b=x.clone(i.config.yaxis)).forEach((function(e,t){b[t].min=d[t],b[t].max=h[t]})),i.globals.selection=r.selection,"function"==typeof i.config.chart.events.selection&&i.config.chart.events.selection(r.ctx,{xaxis:y,yaxis:b})}}},{key:"panDragging",value:function(e){var t=e.context,n=this.w,i=t;if(void 0!==n.globals.lastClientPosition.x){var r=n.globals.lastClientPosition.x-i.clientX,s=n.globals.lastClientPosition.y-i.clientY;Math.abs(r)>Math.abs(s)&&r>0?this.moveDirection="left":Math.abs(r)>Math.abs(s)&&r<0?this.moveDirection="right":Math.abs(s)>Math.abs(r)&&s>0?this.moveDirection="up":Math.abs(s)>Math.abs(r)&&s<0&&(this.moveDirection="down")}n.globals.lastClientPosition={x:i.clientX,y:i.clientY};var o=n.globals.isRangeBar?n.globals.minY:n.globals.minX,a=n.globals.isRangeBar?n.globals.maxY:n.globals.maxX;n.config.xaxis.convertedCatToNumeric||i.panScrolled(o,a)}},{key:"delayedPanScrolled",value:function(){var e=this.w,t=e.globals.minX,n=e.globals.maxX,i=(e.globals.maxX-e.globals.minX)/2;"left"===this.moveDirection?(t=e.globals.minX+i,n=e.globals.maxX+i):"right"===this.moveDirection&&(t=e.globals.minX-i,n=e.globals.maxX-i),t=Math.floor(t),n=Math.floor(n),this.updateScrolledChart({xaxis:{min:t,max:n}},t,n)}},{key:"panScrolled",value:function(e,t){var n=this.w,i=this.xyRatios,r=x.clone(n.globals.initialConfig.yaxis),s=i.xRatio,o=n.globals.minX,a=n.globals.maxX;n.globals.isRangeBar&&(s=i.invertedYRatio,o=n.globals.minY,a=n.globals.maxY),"left"===this.moveDirection?(e=o+n.globals.gridWidth/15*s,t=a+n.globals.gridWidth/15*s):"right"===this.moveDirection&&(e=o-n.globals.gridWidth/15*s,t=a-n.globals.gridWidth/15*s),n.globals.isRangeBar||(e<n.globals.initialMinX||t>n.globals.initialMaxX)&&(e=o,t=a);var l={min:e,max:t};n.config.chart.zoom.autoScaleYaxis&&(r=new Q(this.ctx).autoScaleY(this.ctx,r,{xaxis:l}));var c={xaxis:{min:e,max:t}};n.config.chart.group||(c.yaxis=r),this.updateScrolledChart(c,e,t)}},{key:"updateScrolledChart",value:function(e,t,n){var i=this.w;this.ctx.updateHelpers._updateOptions(e,!1,!1),"function"==typeof i.config.chart.events.scrolled&&i.config.chart.events.scrolled(this.ctx,{xaxis:{min:t,max:n}})}}]),n}(),ve=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}return c(e,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,n=e.elGrid,i=e.clientX,r=e.clientY,s=this.w,o=n.getBoundingClientRect(),a=o.width,l=o.height,c=a/(s.globals.dataPoints-1),u=l/s.globals.dataPoints,h=this.hasBars();!s.globals.comboCharts&&!h||s.config.xaxis.convertedCatToNumeric||(c=a/s.globals.dataPoints);var d=i-o.left-s.globals.barPadForNumericAxis,f=r-o.top;d<0||f<0||d>a||f>l?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):s.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):s.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var p=Math.round(d/c),g=Math.floor(f/u);h&&!s.config.xaxis.convertedCatToNumeric&&(p=Math.ceil(d/c),p-=1);var m=null,v=null,y=[],b=[];if(s.globals.seriesXvalues.forEach((function(e){y.push([e[0]+1e-6].concat(e))})),s.globals.seriesYvalues.forEach((function(e){b.push([e[0]+1e-6].concat(e))})),y=y.map((function(e){return e.filter((function(e){return x.isNumber(e)}))})),b=b.map((function(e){return e.filter((function(e){return x.isNumber(e)}))})),s.globals.isXNumeric){var w=this.ttCtx.getElGrid().getBoundingClientRect(),_=d*(w.width/a),S=f*(w.height/l);m=(v=this.closestInMultiArray(_,S,y,b)).index,p=v.j,null!==m&&(y=s.globals.seriesXvalues[m],p=(v=this.closestInArray(_,y)).index)}return s.globals.capturedSeriesIndex=null===m?-1:m,(!p||p<1)&&(p=0),s.globals.isBarHorizontal?s.globals.capturedDataPointIndex=g:s.globals.capturedDataPointIndex=p,{capturedSeries:m,j:s.globals.isBarHorizontal?g:p,hoverX:d,hoverY:f}}},{key:"closestInMultiArray",value:function(e,t,n,i){var r=this.w,s=0,o=null,a=-1;r.globals.series.length>1?s=this.getFirstActiveXArray(n):o=0;var l=n[s][0],c=Math.abs(e-l);if(n.forEach((function(t){t.forEach((function(t,n){var i=Math.abs(e-t);i<c&&(c=i,a=n)}))})),-1!==a){var u=i[s][a],h=Math.abs(t-u);o=s,i.forEach((function(e,n){var i=Math.abs(t-e[a]);i<h&&(h=i,o=n)}))}return{index:o,j:a}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,n=0,i=e.map((function(e,t){return e.length>0?t:-1})),r=0;r<i.length;r++)if(-1!==i[r]&&-1===t.globals.collapsedSeriesIndices.indexOf(r)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)){n=i[r];break}return n}},{key:"closestInArray",value:function(e,t){for(var n=t[0],i=null,r=Math.abs(e-n),s=0;s<t.length;s++){var o=Math.abs(e-t[s]);o<r&&(r=o,i=s)}return{index:i}}},{key:"isXoverlap",value:function(e){var t=[],n=this.w.globals.seriesX.filter((function(e){return void 0!==e[0]}));if(n.length>0)for(var i=0;i<n.length-1;i++)void 0!==n[i][e]&&void 0!==n[i+1][e]&&n[i][e]!==n[i+1][e]&&t.push("unEqual");return 0===t.length}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,n=0;n<t.length-1;n++)if(t[n].data.length!==t[n+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return v(e).reduce((function(e,t){return e+t.getBBox().height}),0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(e=v(e)).sort((function(e,t){var n=Number(e.getAttribute("data:realIndex")),i=Number(t.getAttribute("data:realIndex"));return i<n?1:i>n?-1:0}));var t=[];return e.forEach((function(e){t.push(e.querySelector(".apexcharts-marker"))})),t}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,n=t.config.markers.hover.size;return void 0===n&&(n=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,n=this.ttCtx;0===n.allTooltipSeriesGroups.length&&(n.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var i=n.allTooltipSeriesGroups,r=0;r<i.length;r++)"enable"===e?(i[r].classList.add("apexcharts-active"),i[r].style.display=t.config.tooltip.items.display):(i[r].classList.remove("apexcharts-active"),i[r].style.display="none")}}]),e}(),ye=function(){function e(t){a(this,e),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new ve(t)}return c(e,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,n=void 0===t||t,i=e.ttItems,r=e.i,s=void 0===r?0:r,o=e.j,a=void 0===o?null:o,l=e.y1,c=e.y2,u=e.e,h=this.w;void 0!==h.config.tooltip.custom?this.handleCustomTooltip({i:s,j:a,y1:l,y2:c,w:h}):this.toggleActiveInactiveSeries(n);var d=this.getValuesToPrint({i:s,j:a});this.printLabels({i:s,j:a,values:d,ttItems:i,shared:n,e:u});var f=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=f.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=f.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,n=this,i=e.i,r=e.j,o=e.values,a=e.ttItems,l=e.shared,c=e.e,u=this.w,h=[],d=function(e){return u.globals.seriesGoals[e]&&u.globals.seriesGoals[e][r]&&Array.isArray(u.globals.seriesGoals[e][r])},f=o.xVal,p=o.zVal,g=o.xAxisTTVal,m="",v=u.globals.colors[i];null!==r&&u.config.plotOptions.bar.distributed&&(v=u.globals.colors[r]);for(var y=function(e,o){var y=n.getFormatters(i);m=n.getSeriesName({fn:y.yLbTitleFormatter,index:i,seriesIndex:i,j:r}),"treemap"===u.config.chart.type&&(m=y.yLbTitleFormatter(String(u.config.series[i].data[r].x),{series:u.globals.series,seriesIndex:i,dataPointIndex:r,w:u}));var b=u.config.tooltip.inverseOrder?o:e;if(u.globals.axisCharts){var x=function(e){return y.yLbFormatter(u.globals.series[e][r],{series:u.globals.series,seriesIndex:e,dataPointIndex:r,w:u})};if(l)y=n.getFormatters(b),m=n.getSeriesName({fn:y.yLbTitleFormatter,index:b,seriesIndex:i,j:r}),v=u.globals.colors[b],t=x(b),d(b)&&(h=u.globals.seriesGoals[b][r].map((function(e){return{attrs:e,val:y.yLbFormatter(e.value,{seriesIndex:b,dataPointIndex:r,w:u})}})));else{var w,_=null==c||null===(w=c.target)||void 0===w?void 0:w.getAttribute("fill");_&&(v=-1!==_.indexOf("url")?document.querySelector(_.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):_),t=x(i),d(i)&&Array.isArray(u.globals.seriesGoals[i][r])&&(h=u.globals.seriesGoals[i][r].map((function(e){return{attrs:e,val:y.yLbFormatter(e.value,{seriesIndex:i,dataPointIndex:r,w:u})}})))}}null===r&&(t=y.yLbFormatter(u.globals.series[i],s(s({},u),{},{seriesIndex:i,dataPointIndex:i}))),n.DOMHandling({i,t:b,j:r,ttItems:a,values:{val:t,goalVals:h,xVal:f,xAxisTTVal:g,zVal:p},seriesName:m,shared:l,pColor:v})},b=0,x=u.globals.series.length-1;b<u.globals.series.length;b++,x--)y(b,x)}},{key:"getFormatters",value:function(e){var t,n=this.w,i=n.globals.yLabelFormatters[e];return void 0!==n.globals.ttVal?Array.isArray(n.globals.ttVal)?(i=n.globals.ttVal[e]&&n.globals.ttVal[e].formatter,t=n.globals.ttVal[e]&&n.globals.ttVal[e].title&&n.globals.ttVal[e].title.formatter):(i=n.globals.ttVal.formatter,"function"==typeof n.globals.ttVal.title.formatter&&(t=n.globals.ttVal.title.formatter)):t=n.config.tooltip.y.title.formatter,"function"!=typeof i&&(i=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(e){return e}),"function"!=typeof t&&(t=function(e){return e}),{yLbFormatter:i,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,n=e.index,i=e.seriesIndex,r=e.j,s=this.w;return t(String(s.globals.seriesNames[n]),{series:s.globals.series,seriesIndex:i,dataPointIndex:r,w:s})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,n=e.j,i=e.ttItems,r=e.values,s=e.seriesName,o=e.shared,a=e.pColor,l=this.w,c=this.ttCtx,u=r.val,h=r.goalVals,d=r.xVal,f=r.xAxisTTVal,p=r.zVal,g=null;g=i[t].children,l.config.tooltip.fillSeriesColor&&(i[t].style.backgroundColor=a,g[0].style.display="none"),c.showTooltipTitle&&(null===c.tooltipTitle&&(c.tooltipTitle=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),c.tooltipTitle.innerHTML=d),c.isXAxisTooltipEnabled&&(c.xaxisTooltipText.innerHTML=""!==f?f:d);var m=i[t].querySelector(".apexcharts-tooltip-text-y-label");m&&(m.innerHTML=s||"");var v=i[t].querySelector(".apexcharts-tooltip-text-y-value");v&&(v.innerHTML=void 0!==u?u:""),g[0]&&g[0].classList.contains("apexcharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(a=l.config.tooltip.marker.fillColors[t]),g[0].style.backgroundColor=a),l.config.tooltip.marker.show||(g[0].style.display="none");var y=i[t].querySelector(".apexcharts-tooltip-text-goals-label"),b=i[t].querySelector(".apexcharts-tooltip-text-goals-value");if(h.length&&l.globals.seriesGoals[t]){var x=function(){var e="<div >",t="<div>";h.forEach((function(n,i){e+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(n.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(n.attrs.name,"</div>"),t+="<div>".concat(n.val,"</div>")})),y.innerHTML=e+"</div>",b.innerHTML=t+"</div>"};o?l.globals.seriesGoals[t][n]&&Array.isArray(l.globals.seriesGoals[t][n])?x():(y.innerHTML="",b.innerHTML=""):x()}else y.innerHTML="",b.innerHTML="";null!==p&&(i[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,i[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==p?p:""),o&&g[0]&&(null==u||l.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||l.globals.collapsedSeriesIndices.indexOf(t)>-1?g[0].parentNode.style.display="none":g[0].parentNode.style.display=l.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(e){var t=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var n=t.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");n&&(n.classList.add("apexcharts-active"),n.style.display=t.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,n=e.j,i=this.w,r=this.ctx.series.filteredSeriesX(),s="",o="",a=null,l=null,c={series:i.globals.series,seriesIndex:t,dataPointIndex:n,w:i},u=i.globals.ttZFormatter;null===n?l=i.globals.series[t]:i.globals.isXNumeric&&"treemap"!==i.config.chart.type?(s=r[t][n],0===r[t].length&&(s=r[this.tooltipUtil.getFirstActiveXArray(r)][n])):s=void 0!==i.globals.labels[n]?i.globals.labels[n]:"";var h=s;return s=i.globals.isXNumeric&&"datetime"===i.config.xaxis.type?new X(this.ctx).xLabelFormat(i.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new q(this.ctx).formatDate,w:this.w}):i.globals.isBarHorizontal?i.globals.yLabelFormatters[0](h,c):i.globals.xLabelFormatter(h,c),void 0!==i.config.tooltip.x.formatter&&(s=i.globals.ttKeyFormatter(h,c)),i.globals.seriesZ.length>0&&i.globals.seriesZ[t].length>0&&(a=u(i.globals.seriesZ[t][n],i)),o="function"==typeof i.config.xaxis.tooltip.formatter?i.globals.xaxisTooltipFormatter(h,c):s,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(s)?s.join(" "):s,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:a}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,n=e.j,i=e.y1,r=e.y2,s=e.w,o=this.ttCtx.getElTooltip(),a=s.config.tooltip.custom;Array.isArray(a)&&a[t]&&(a=a[t]),o.innerHTML=a({ctx:this.ctx,series:s.globals.series,seriesIndex:t,dataPointIndex:n,y1:i,y2:r,w:s})}}]),e}(),be=function(){function e(t){a(this,e),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}return c(e,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.ttCtx,i=this.w,r=n.getElXCrosshairs(),s=e-n.xcrosshairsWidth/2,o=i.globals.labels.slice().length;if(null!==t&&(s=i.globals.gridWidth/o*t),null===r||i.globals.isBarHorizontal||(r.setAttribute("x",s),r.setAttribute("x1",s),r.setAttribute("x2",s),r.setAttribute("y2",i.globals.gridHeight),r.classList.add("apexcharts-active")),s<0&&(s=0),s>i.globals.gridWidth&&(s=i.globals.gridWidth),n.isXAxisTooltipEnabled){var a=s;"tickWidth"!==i.config.xaxis.crosshairs.width&&"barWidth"!==i.config.xaxis.crosshairs.width||(a=s+n.xcrosshairsWidth/2),this.moveXAxisTooltip(a)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;null!==t.ycrosshairs&&S.setAttrs(t.ycrosshairs,{y1:e,y2:e}),null!==t.ycrosshairsHidden&&S.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;if(null!==n.xaxisTooltip&&0!==n.xcrosshairsWidth){n.xaxisTooltip.classList.add("apexcharts-active");var i,r=n.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=n.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e))e+=t.globals.translateX,i=new S(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=i.width+"px",n.xaxisTooltip.style.left=e+"px",n.xaxisTooltip.style.top=r+"px"}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;null===n.yaxisTTEls&&(n.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var i=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),r=t.globals.translateY+i,s=n.yaxisTTEls[e].getBoundingClientRect().height,o=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(o-=26),r-=s/2,-1===t.globals.ignoreYAxisIndexes.indexOf(e)?(n.yaxisTTEls[e].classList.add("apexcharts-active"),n.yaxisTTEls[e].style.top=r+"px",n.yaxisTTEls[e].style.left=o+t.config.yaxis[e].tooltip.offsetX+"px"):n.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.w,r=this.ttCtx,s=r.getElTooltip(),o=r.tooltipRect,a=null!==n?parseFloat(n):1,l=parseFloat(e)+a+5,c=parseFloat(t)+a/2;if(l>i.globals.gridWidth/2&&(l=l-o.ttWidth-a-10),l>i.globals.gridWidth-o.ttWidth-10&&(l=i.globals.gridWidth-o.ttWidth),l<-20&&(l=-20),i.config.tooltip.followCursor){var u=r.getElGrid(),h=u.getBoundingClientRect();c=r.e.clientY+i.globals.translateY-h.top-o.ttHeight/2}else i.globals.isBarHorizontal||(o.ttHeight/2+c>i.globals.gridHeight&&(c=i.globals.gridHeight-o.ttHeight+i.globals.translateY),c<0&&(c=0));isNaN(l)||(l+=i.globals.translateX,s.style.left=l+"px",s.style.top=c+"px")}},{key:"moveMarkers",value:function(e,t){var n=this.w,i=this.ttCtx;if(n.globals.markers.size[e]>0)for(var r=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),s=0;s<r.length;s++)parseInt(r[s].getAttribute("rel"),10)===t&&(i.marker.resetPointsSize(),i.marker.enlargeCurrentPoint(t,r[s]));else i.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var n,i,r=this.w,s=this.ttCtx,o=r.globals.pointsArray,a=s.tooltipUtil.getHoverMarkerSize(t),l=r.config.series[t].type;if(!l||"column"!==l&&"candlestick"!==l&&"boxPlot"!==l){n=o[t][e][0],i=o[t][e][1]?o[t][e][1]:0;var c=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers circle"));c&&i<r.globals.gridHeight&&i>0&&(c.setAttribute("r",a),c.setAttribute("cx",n),c.setAttribute("cy",i)),this.moveXCrosshairs(n),s.fixedTooltip||this.moveTooltip(n,i,a)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,n=this.ttCtx,i=n.w,r=0,s=0,o=i.globals.pointsArray;t=new F(this.ctx).getActiveConfigSeriesIndex(!0);var a=n.tooltipUtil.getHoverMarkerSize(t);o[t]&&(r=o[t][e][0],s=o[t][e][1]);var l=n.tooltipUtil.getAllMarkers();if(null!==l)for(var c=0;c<i.globals.series.length;c++){var u=o[c];if(i.globals.comboCharts&&void 0===u&&l.splice(c,0,null),u&&u.length){var h=o[c][e][1];l[c].setAttribute("cx",r),null!==h&&!isNaN(h)&&h<i.globals.gridHeight+a&&h+a>0?(l[c]&&l[c].setAttribute("r",a),l[c]&&l[c].setAttribute("cy",h)):l[c]&&l[c].setAttribute("r",0)}}if(this.moveXCrosshairs(r),!n.fixedTooltip){var d=s||i.globals.gridHeight;this.moveTooltip(r,d,a)}}},{key:"moveStickyTooltipOverBars",value:function(e){var t=this.w,n=this.ttCtx,i=t.globals.columnSeries?t.globals.columnSeries.length:t.globals.series.length,r=i>=2&&i%2==0?Math.floor(i/2):Math.floor(i/2)+1;t.globals.isBarHorizontal&&(r=new F(this.ctx).getActiveConfigSeriesIndex(!1,"desc")+1);var s=t.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(r,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(r,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(r,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(r,"'] path[j='").concat(e,"']")),o=s?parseFloat(s.getAttribute("cx")):0,a=s?parseFloat(s.getAttribute("cy")):0,l=s?parseFloat(s.getAttribute("barWidth")):0,c=s?parseFloat(s.getAttribute("barHeight")):0,u=n.getElGrid().getBoundingClientRect(),h=s.classList.contains("apexcharts-candlestick-area")||s.classList.contains("apexcharts-boxPlot-area");if(t.globals.isXNumeric?(s&&!h&&(o-=i%2!=0?l/2:0),s&&h&&t.globals.comboCharts&&(o-=l/2)):t.globals.isBarHorizontal||(o=n.xAxisTicksPositions[e-1]+n.dataPointsDividedWidth/2,isNaN(o)&&(o=n.xAxisTicksPositions[e]-n.dataPointsDividedWidth/2)),t.globals.isBarHorizontal?(a>t.globals.gridHeight/2&&(a-=n.tooltipRect.ttHeight),(a=a+t.config.grid.padding.top+c/3)+c>t.globals.gridHeight&&(a=t.globals.gridHeight-c)):t.config.tooltip.followCursor?a=n.e.clientY-u.top-n.tooltipRect.ttHeight/2:a+n.tooltipRect.ttHeight+15>t.globals.gridHeight&&(a=t.globals.gridHeight),a<-10&&(a=-10),t.globals.isBarHorizontal||this.moveXCrosshairs(o),!n.fixedTooltip){var d=a||t.globals.gridHeight;this.moveTooltip(o,d)}}}]),e}(),xe=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new be(t)}return c(e,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new S(this.ctx),n=new N(this.ctx),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");i=v(i),e.config.chart.stacked&&i.sort((function(e,t){return parseFloat(e.getAttribute("data:realIndex"))-parseFloat(t.getAttribute("data:realIndex"))}));for(var r=0;r<i.length;r++){var s=i[r].querySelector(".apexcharts-series-markers-wrap");if(null!==s){var o=void 0,a="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==e.config.chart.type&&"area"!==e.config.chart.type||e.globals.comboCharts||e.config.tooltip.intersect||(a+=" no-pointer-events");var l=n.getMarkerConfig({cssClass:a,seriesIndex:Number(s.getAttribute("data:realIndex"))});(o=t.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var c=document.createElementNS(e.globals.SVGNS,"g");c.classList.add("apexcharts-series-markers"),c.appendChild(o.node),s.appendChild(c)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w;"bubble"!==r.config.chart.type&&this.newPointSize(e,t);var s=t.getAttribute("cx"),o=t.getAttribute("cy");if(null!==n&&null!==i&&(s=n,o=i),this.tooltipPosition.moveXCrosshairs(s),!this.fixedTooltip){if("radar"===r.config.chart.type){var a=this.ttCtx.getElGrid(),l=a.getBoundingClientRect();s=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(s,o,r.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,n=this,i=this.ttCtx,r=e,s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=t.config.markers.hover.size,a=0;a<s.length;a++){var l=s[a].getAttribute("rel"),c=s[a].getAttribute("index");if(void 0===o&&(o=t.globals.markers.size[c]+t.config.markers.hover.sizeOffset),r===parseInt(l,10)){n.newPointSize(r,s[a]);var u=s[a].getAttribute("cx"),h=s[a].getAttribute("cy");n.tooltipPosition.moveXCrosshairs(u),i.fixedTooltip||n.tooltipPosition.moveTooltip(u,h,o)}else n.oldPointSize(s[a])}}},{key:"newPointSize",value:function(e,t){var n=this.w,i=n.config.markers.hover.size,r=0===e?t.parentNode.firstChild:t.parentNode.lastChild;if("0"!==r.getAttribute("default-marker-size")){var s=parseInt(r.getAttribute("index"),10);void 0===i&&(i=n.globals.markers.size[s]+n.config.markers.hover.sizeOffset),i<0&&(i=0),r.setAttribute("r",i)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size"));e.setAttribute("r",t)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var n=parseFloat(e[t].getAttribute("default-marker-size"));x.isNumber(n)&&n>=0?e[t].setAttribute("r",n):e[t].setAttribute("r",0)}}}]),e}(),we=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t}return c(e,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,n=e.opt,i=e.x,r=e.y,s=e.type,o=this.ttCtx,a=this.w;if(t.target.classList.contains("apexcharts-".concat(s,"-rect"))){var l=this.getAttr(t,"i"),c=this.getAttr(t,"j"),u=this.getAttr(t,"cx"),h=this.getAttr(t,"cy"),d=this.getAttr(t,"width"),f=this.getAttr(t,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:l,j:c,shared:!1,e:t}),a.globals.capturedSeriesIndex=l,a.globals.capturedDataPointIndex=c,i=u+o.tooltipRect.ttWidth/2+d,r=h+o.tooltipRect.ttHeight/2-f/2,o.tooltipPosition.moveXCrosshairs(u+d/2),i>a.globals.gridWidth/2&&(i=u-o.tooltipRect.ttWidth/2+d),o.w.config.tooltip.followCursor){var p=a.globals.dom.elWrap.getBoundingClientRect();i=a.globals.clientX-p.left-(i>a.globals.gridWidth/2?o.tooltipRect.ttWidth:0),r=a.globals.clientY-p.top-(r>a.globals.gridHeight/2?o.tooltipRect.ttHeight:0)}}return{x:i,y:r}}},{key:"handleMarkerTooltip",value:function(e){var t,n,i=e.e,r=e.opt,s=e.x,o=e.y,a=this.w,l=this.ttCtx;if(i.target.classList.contains("apexcharts-marker")){var c=parseInt(r.paths.getAttribute("cx"),10),u=parseInt(r.paths.getAttribute("cy"),10),h=parseFloat(r.paths.getAttribute("val"));if(n=parseInt(r.paths.getAttribute("rel"),10),t=parseInt(r.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var d=x.findAncestor(r.paths,"apexcharts-series");d&&(t=parseInt(d.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:t,j:n,shared:!l.showOnIntersect&&a.config.tooltip.shared,e:i}),"mouseup"===i.type&&l.markerClick(i,t,n),a.globals.capturedSeriesIndex=t,a.globals.capturedDataPointIndex=n,s=c,o=u+a.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var f=l.getElGrid().getBoundingClientRect();o=l.e.clientY+a.globals.translateY-f.top}h<0&&(o=u),l.marker.enlargeCurrentPoint(n,r.paths,s,o)}return{x:s,y:o}}},{key:"handleBarTooltip",value:function(e){var t,n,i=e.e,r=e.opt,s=this.w,o=this.ttCtx,a=o.getElTooltip(),l=0,c=0,u=0,h=this.getBarTooltipXY({e:i,opt:r});t=h.i;var d=h.barHeight,f=h.j;s.globals.capturedSeriesIndex=t,s.globals.capturedDataPointIndex=f,s.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!s.config.tooltip.shared?(c=h.x,u=h.y,n=Array.isArray(s.config.stroke.width)?s.config.stroke.width[t]:s.config.stroke.width,l=c):s.globals.comboCharts||s.config.tooltip.shared||(l/=2),isNaN(u)?u=s.globals.svgHeight-o.tooltipRect.ttHeight:u<0&&(u=0);var p=parseInt(r.paths.parentNode.getAttribute("data:realIndex"),10),g=s.globals.isMultipleYAxis?s.config.yaxis[p]&&s.config.yaxis[p].reversed:s.config.yaxis[0].reversed;if(c+o.tooltipRect.ttWidth>s.globals.gridWidth&&!g?c-=o.tooltipRect.ttWidth:c<0&&(c=0),o.w.config.tooltip.followCursor){var m=o.getElGrid().getBoundingClientRect();u=o.e.clientY-m.top}null===o.tooltip&&(o.tooltip=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),s.config.tooltip.shared||(s.globals.comboBarCount>0?o.tooltipPosition.moveXCrosshairs(l+n/2):o.tooltipPosition.moveXCrosshairs(l)),!o.fixedTooltip&&(!s.config.tooltip.shared||s.globals.isBarHorizontal&&o.tooltipUtil.hasBars())&&(g&&(c-=o.tooltipRect.ttWidth)<0&&(c=0),!g||s.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||(u=u+d-2*(s.globals.series[t][f]<0?d:0)),o.tooltipRect.ttHeight+u>s.globals.gridHeight?u=s.globals.gridHeight-o.tooltipRect.ttHeight+s.globals.translateY:(u=u+s.globals.translateY-o.tooltipRect.ttHeight/2)<0&&(u=0),a.style.left=c+s.globals.translateX+"px",a.style.top=u+"px")}},{key:"getBarTooltipXY",value:function(e){var t=e.e,n=e.opt,i=this.w,r=null,s=this.ttCtx,o=0,a=0,l=0,c=0,u=0,h=t.target.classList;if(h.contains("apexcharts-bar-area")||h.contains("apexcharts-candlestick-area")||h.contains("apexcharts-boxPlot-area")||h.contains("apexcharts-rangebar-area")){var d=t.target,f=d.getBoundingClientRect(),p=n.elGrid.getBoundingClientRect(),g=f.height;u=f.height;var m=f.width,v=parseInt(d.getAttribute("cx"),10),y=parseInt(d.getAttribute("cy"),10);c=parseFloat(d.getAttribute("barWidth"));var b="touchmove"===t.type?t.touches[0].clientX:t.clientX;r=parseInt(d.getAttribute("j"),10),o=parseInt(d.parentNode.getAttribute("rel"),10)-1;var x=d.getAttribute("data-range-y1"),w=d.getAttribute("data-range-y2");i.globals.comboCharts&&(o=parseInt(d.parentNode.getAttribute("data:realIndex"),10)),s.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:o,j:r,y1:x?parseInt(x,10):null,y2:w?parseInt(w,10):null,shared:!s.showOnIntersect&&i.config.tooltip.shared,e:t}),i.config.tooltip.followCursor?i.globals.isBarHorizontal?(a=b-p.left+15,l=y-s.dataPointsDividedHeight+g/2-s.tooltipRect.ttHeight/2):(a=i.globals.isXNumeric?v-m/2:v-s.dataPointsDividedWidth+m/2,l=t.clientY-p.top-s.tooltipRect.ttHeight/2-15):i.globals.isBarHorizontal?((a=v)<s.xyRatios.baseLineInvertedY&&(a=v-s.tooltipRect.ttWidth),l=y-s.dataPointsDividedHeight+g/2-s.tooltipRect.ttHeight/2):(a=i.globals.isXNumeric?v-m/2:v-s.dataPointsDividedWidth+m/2,l=y)}return{x:a,y:l,barHeight:u,barWidth:c,i:o,j:r}}}]),e}(),_e=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t}return c(e,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,n="bottom"===e.config.xaxis.position;t.xaxisOffY=n?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var i=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",r=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&null===e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),r.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,n=function(n){var i=e.config.yaxis[n].opposite||e.config.yaxis[n].crosshairs.opposite;t.yaxisOffX=i?e.globals.gridWidth+1:1;var r="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n,i?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");e.globals.yAxisSameScaleIndices.map((function(t,i){t.map((function(t,i){i===n&&(r+=e.config.yaxis[i].show?" ":" apexcharts-yaxistooltip-hidden")}))}));var s=e.globals.dom.elWrap;null===e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n))&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),s.appendChild(t.yaxisTooltip),0===n&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[n]=document.createElement("div"),t.yaxisTooltipText[n].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[n]))},i=0;i<e.config.yaxis.length;i++)n(i)}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,n=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var i=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==i&&"barWidth"===e.config.xaxis.crosshairs.width){var r=parseFloat(i.getAttribute("barWidth"));t.xcrosshairsWidth=r}else if("tickWidth"===e.config.xaxis.crosshairs.width){var s=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/s}}else if("tickWidth"===e.config.xaxis.crosshairs.width){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}else if("barWidth"===e.config.xaxis.crosshairs.width){var a=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==a){var l=parseFloat(a.getAttribute("barWidth"));t.xcrosshairsWidth=l}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),null!==n&&t.xcrosshairsWidth>0&&n.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,n){var i=this.ttCtx,r=this.w,s=r.globals.yLabelFormatters[e];if(i.yaxisTooltips[e]){var o=i.getElGrid().getBoundingClientRect(),a=(t-o.top)*n.yRatio[e],l=r.globals.maxYArr[e]-r.globals.minYArr[e],c=r.globals.minYArr[e]+(l-a);i.tooltipPosition.moveYCrosshairs(t-o.top),i.yaxisTooltipText[e].innerHTML=s(c),i.tooltipPosition.moveYAxisTooltip(e)}}}]),e}(),Se=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.tConfig=n.config.tooltip,this.tooltipUtil=new ve(this),this.tooltipLabels=new ye(this),this.tooltipPosition=new be(this),this.marker=new xe(this),this.intersect=new we(this),this.axesTooltip=new _e(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!n.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return c(e,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map((function(e,n){return!!(e.show&&e.tooltip.enabled&&t.globals.axisCharts)})),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&n.classList.add(t.config.tooltip.cssClass),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(n),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var i=new K(this.ctx);this.xAxisTicksPositions=i.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==t.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==t.config.markers.size&&0!==t.globals.markers.largestSize||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var r=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(r=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(r),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,n=this.w,i=[],r=this.getElTooltip(),s=function(s){var o=document.createElement("div");o.classList.add("apexcharts-tooltip-series-group"),o.style.order=n.config.tooltip.inverseOrder?e-s:s+1,t.tConfig.shared&&t.tConfig.enabledOnSeries&&Array.isArray(t.tConfig.enabledOnSeries)&&t.tConfig.enabledOnSeries.indexOf(s)<0&&o.classList.add("apexcharts-tooltip-series-group-hidden");var a=document.createElement("span");a.classList.add("apexcharts-tooltip-marker"),a.style.backgroundColor=n.globals.colors[s],o.appendChild(a);var l=document.createElement("div");l.classList.add("apexcharts-tooltip-text"),l.style.fontFamily=t.tConfig.style.fontFamily||n.config.chart.fontFamily,l.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach((function(e){var t=document.createElement("div");t.classList.add("apexcharts-tooltip-".concat(e,"-group"));var n=document.createElement("span");n.classList.add("apexcharts-tooltip-text-".concat(e,"-label")),t.appendChild(n);var i=document.createElement("span");i.classList.add("apexcharts-tooltip-text-".concat(e,"-value")),t.appendChild(i),l.appendChild(t)})),o.appendChild(l),r.appendChild(o),i.push(o)},o=0;o<e;o++)s(o);return i}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,n=this.getElTooltip(),i=!("bar"!==t&&"candlestick"!==t&&"boxPlot"!==t&&"rangeBar"!==t),r="area"===t||"line"===t||"scatter"===t||"bubble"===t||"radar"===t,s=e.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var a,l=[],c=[],u={hoverArea:s,elGrid:o,tooltipEl:n,tooltipY:l,tooltipX:c,ttItems:this.ttItems};if(e.globals.axisCharts&&(r?a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):i?a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==t&&"treemap"!==t||(a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),a&&a.length))for(var h=0;h<a.length;h++)l.push(a[h].getAttribute("cy")),c.push(a[h].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||i&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([s],u);else if(i&&!e.globals.comboCharts||r&&this.showOnIntersect)this.addDatapointEventsListeners(u);else if(!e.globals.axisCharts||"heatmap"===t||"treemap"===t){var d=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(d,u)}if(this.showOnIntersect){var f=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");f.length>0&&this.addPathsEventListeners(f,u),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(u)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),n=t.getBoundingClientRect(),i=n.width+10,r=n.height+10,s=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,a=this.tConfig.fixed.position.toLowerCase();return a.indexOf("right")>-1&&(s=s+e.globals.svgWidth-i+10),a.indexOf("bottom")>-1&&(o=o+e.globals.svgHeight-r-10),t.style.left=s+"px",t.style.top=o+"px",{x:s,y:o,ttWidth:i,ttHeight:r}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var n=this,i=function(i){var r={paths:e[i],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(t){return e[i].addEventListener(t,n.onSeriesHover.bind(n,r),{capture:!1,passive:!0})}))},r=0;r<e.length;r++)i(r)}},{key:"onSeriesHover",value:function(e,t){var n=this,i=Date.now()-this.lastHoverTime;i>=100?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){n.seriesHover(e,t)}),100-i))}},{key:"seriesHover",value:function(e,t){var n=this;this.lastHoverTime=Date.now();var i=[],r=this.w;r.config.chart.group&&(i=this.ctx.getGroupedCharts()),r.globals.axisCharts&&(r.globals.minX===-1/0&&r.globals.maxX===1/0||0===r.globals.dataPoints)||(i.length?i.forEach((function(i){var r=n.getElTooltip(i),s={paths:e.paths,tooltipEl:r,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:i.w.globals.tooltip.ttItems};i.w.globals.minX===n.w.globals.minX&&i.w.globals.maxX===n.w.globals.maxX&&i.w.globals.tooltip.seriesHoverByContext({chartCtx:i,ttCtx:i.w.globals.tooltip,opt:s,e:t})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,n=e.ttCtx,i=e.opt,r=e.e,s=t.w,o=this.getElTooltip();o&&(n.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},n.e=r,!n.tooltipUtil.hasBars()||s.globals.comboCharts||n.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new F(t).toggleSeriesOnHover(r,r.target.parentNode),n.fixedTooltip&&n.drawFixedTooltipRect(),s.globals.axisCharts?n.axisChartsTooltips({e:r,opt:i,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:r,opt:i,tooltipRect:n.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,n,i=e.e,r=e.opt,s=this.w,o=r.elGrid.getBoundingClientRect(),a="touchmove"===i.type?i.touches[0].clientX:i.clientX,l="touchmove"===i.type?i.touches[0].clientY:i.clientY;if(this.clientY=l,this.clientX=a,s.globals.capturedSeriesIndex=-1,s.globals.capturedDataPointIndex=-1,l<o.top||l>o.top+o.height)this.handleMouseOut(r);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!s.config.tooltip.shared){var c=parseInt(r.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(c)<0)return void this.handleMouseOut(r)}var u=this.getElTooltip(),h=this.getElXCrosshairs(),d=s.globals.xyCharts||"bar"===s.config.chart.type&&!s.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||s.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===i.type||"touchmove"===i.type||"mouseup"===i.type){if(s.globals.collapsedSeries.length+s.globals.ancillaryCollapsedSeries.length===s.globals.series.length)return;null!==h&&h.classList.add("apexcharts-active");var f=this.yaxisTooltips.filter((function(e){return!0===e}));if(null!==this.ycrosshairs&&f.length&&this.ycrosshairs.classList.add("apexcharts-active"),d&&!this.showOnIntersect)this.handleStickyTooltip(i,a,l,r);else if("heatmap"===s.config.chart.type||"treemap"===s.config.chart.type){var p=this.intersect.handleHeatTreeTooltip({e:i,opt:r,x:t,y:n,type:s.config.chart.type});t=p.x,n=p.y,u.style.left=t+"px",u.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:i,opt:r}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:i,opt:r,x:t,y:n});if(this.yaxisTooltips.length)for(var g=0;g<s.config.yaxis.length;g++)this.axesTooltip.drawYaxisTooltipText(g,l,this.xyRatios);r.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==i.type&&"touchend"!==i.type||this.handleMouseOut(r)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,n=e.opt,i=e.tooltipRect,r=this.w,s=n.paths.getAttribute("rel"),o=this.getElTooltip(),a=r.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===t.type||"touchmove"===t.type){o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(s,10)-1,shared:!1});var l=r.globals.clientX-a.left-i.ttWidth/2,c=r.globals.clientY-a.top-i.ttHeight-10;if(o.style.left=l+"px",o.style.top=c+"px",r.config.legend.tooltipHoverFormatter){var u=s-1,h=(0,r.config.legend.tooltipHoverFormatter)(this.legendLabels[u].getAttribute("data:default-text"),{seriesIndex:u,dataPointIndex:u,w:r});this.legendLabels[u].innerHTML=h}}else"mouseout"!==t.type&&"touchend"!==t.type||(o.classList.remove("apexcharts-active"),r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)})))}},{key:"handleStickyTooltip",value:function(e,t,n,i){var r=this.w,s=this.tooltipUtil.getNearestValues({context:this,hoverArea:i.hoverArea,elGrid:i.elGrid,clientX:t,clientY:n}),o=s.j,a=s.capturedSeries,l=i.elGrid.getBoundingClientRect();s.hoverX<0||s.hoverX>l.width?this.handleMouseOut(i):null!==a?this.handleStickyCapturedSeries(e,a,i,o):(this.tooltipUtil.isXoverlap(o)||r.globals.isBarHorizontal)&&this.create(e,this,0,o,i.ttItems)}},{key:"handleStickyCapturedSeries",value:function(e,t,n,i){var r=this.w;this.tConfig.shared||null!==r.globals.series[t][i]?void 0!==r.globals.series[t][i]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(i)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,i,n.ttItems):this.create(e,this,t,i,n.ttItems,!1):this.tooltipUtil.isXoverlap(i)&&this.create(e,this,0,i,n.ttItems):this.handleMouseOut(n)}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new S(this.ctx),n=e.globals.dom.Paper.select(".apexcharts-bar-area"),i=0;i<n.length;i++)t.pathMouseLeave(n[i])}},{key:"handleMouseOut",value:function(e){var t=this.w,n=this.getElXCrosshairs();if(e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==t.config.chart.type&&this.marker.resetPointsSize(),null!==n&&n.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var i=0;i<this.yaxisTTEls.length;i++)this.yaxisTTEls[i].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)}))}},{key:"markerClick",value:function(e,t,n){var i=this.w;"function"==typeof i.config.chart.events.markerClick&&i.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:i}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:i}])}},{key:"create",value:function(e,t,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=this.w,a=t;"mouseup"===e.type&&this.markerClick(e,n,i),null===s&&(s=this.tConfig.shared);var l=this.tooltipUtil.hasMarkers(),c=this.tooltipUtil.getElBars();if(o.config.legend.tooltipHoverFormatter){var u=o.config.legend.tooltipHoverFormatter,h=Array.from(this.legendLabels);h.forEach((function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)}));for(var d=0;d<h.length;d++){var f=h[d],p=parseInt(f.getAttribute("i"),10),g=decodeURIComponent(f.getAttribute("data:default-text")),m=u(g,{seriesIndex:s?p:n,dataPointIndex:i,w:o});if(s)f.innerHTML=o.globals.collapsedSeriesIndices.indexOf(p)<0?m:g;else if(f.innerHTML=p===n?m:g,n===p)break}}if(s){if(a.tooltipLabels.drawSeriesTexts({ttItems:r,i:n,j:i,shared:!this.showOnIntersect&&this.tConfig.shared}),l&&(o.globals.markers.largestSize>0?a.marker.enlargePoints(i):a.tooltipPosition.moveDynamicPointsOnHover(i)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(c),this.barSeriesHeight>0)){var v=new S(this.ctx),y=o.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(i,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(i);for(var b=0;b<y.length;b++)v.pathMouseEnter(y[b])}}else a.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:r,i:n,j:i}),this.tooltipUtil.hasBars()&&a.tooltipPosition.moveStickyTooltipOverBars(i),l&&a.tooltipPosition.moveMarkers(n,i)}}]),e}(),ke=function(e){h(n,B);var t=g(n);function n(){return a(this,n),t.apply(this,arguments)}return c(n,[{key:"draw",value:function(e,t){var n=this,i=this.w;this.graphics=new S(this.ctx),this.bar=new B(this.ctx,this.xyRatios);var r=new k(this.ctx,i);e=r.getLogSeries(e),this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e),"100%"===i.config.chart.stackType&&(e=i.globals.seriesPercent.slice()),this.series=e,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var o=0;o<e.length;o++)e[o].length>0&&(this.totalItems+=e[o].length);for(var a=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),l=0,c=0,u=function(r,o){var u=void 0,h=void 0,d=void 0,f=void 0,p=[],g=[],m=i.globals.comboCharts?t[r]:r;n.yRatio.length>1&&(n.yaxisIndex=m),n.isReversed=i.config.yaxis[n.yaxisIndex]&&i.config.yaxis[n.yaxisIndex].reversed;var v=n.graphics.group({class:"apexcharts-series",seriesName:x.escapeString(i.globals.seriesNames[m]),rel:r+1,"data:realIndex":m});n.ctx.series.addCollapsedClassToSeries(v,m);var y=n.graphics.group({class:"apexcharts-datalabels","data:realIndex":m}),b=0,w=0,_=n.initialPositions(l,c,u,h,d,f);c=_.y,b=_.barHeight,h=_.yDivision,f=_.zeroW,l=_.x,w=_.barWidth,u=_.xDivision,d=_.zeroH,n.yArrj=[],n.yArrjF=[],n.yArrjVal=[],n.xArrj=[],n.xArrjF=[],n.xArrjVal=[],1===n.prevY.length&&n.prevY[0].every((function(e){return isNaN(e)}))&&(n.prevY[0]=n.prevY[0].map((function(e){return d})),n.prevYF[0]=n.prevYF[0].map((function(e){return 0})));for(var S=0;S<i.globals.dataPoints;S++){var k=n.barHelpers.getStrokeWidth(r,S,m),C={indexes:{i:r,j:S,realIndex:m,bc:o},strokeWidth:k,x:l,y:c,elSeries:v},A=null;n.isHorizontal?(A=n.drawStackedBarPaths(s(s({},C),{},{zeroW:f,barHeight:b,yDivision:h})),w=n.series[r][S]/n.invertedYRatio):(A=n.drawStackedColumnPaths(s(s({},C),{},{xDivision:u,barWidth:w,zeroH:d})),b=n.series[r][S]/n.yRatio[n.yaxisIndex]),c=A.y,l=A.x,p.push(l),g.push(c);var T=n.barHelpers.getPathFillColor(e,r,S,m);v=n.renderSeries({realIndex:m,pathFill:T,j:S,i:r,pathFrom:A.pathFrom,pathTo:A.pathTo,strokeWidth:k,elSeries:v,x:l,y:c,series:e,barHeight:b,barWidth:w,elDataLabelsWrap:y,type:"bar",visibleSeries:0})}i.globals.seriesXvalues[m]=p,i.globals.seriesYvalues[m]=g,n.prevY.push(n.yArrj),n.prevYF.push(n.yArrjF),n.prevYVal.push(n.yArrjVal),n.prevX.push(n.xArrj),n.prevXF.push(n.xArrjF),n.prevXVal.push(n.xArrjVal),a.add(v)},h=0,d=0;h<e.length;h++,d++)u(h,d);return a}},{key:"initialPositions",value:function(e,t,n,i,r,s){var o,a,l=this.w;return this.isHorizontal?(o=(o=i=l.globals.gridHeight/l.globals.dataPoints)*parseInt(l.config.plotOptions.bar.barHeight,10)/100,s=this.baseLineInvertedY+l.globals.padHorizontal+(this.isReversed?l.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),t=(i-o)/2):(a=n=l.globals.gridWidth/l.globals.dataPoints,a=l.globals.isXNumeric&&l.globals.dataPoints>1?(n=l.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:a*parseInt(l.config.plotOptions.bar.columnWidth,10)/100,r=this.baseLineY[this.yaxisIndex]+(this.isReversed?l.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),e=l.globals.padHorizontal+(n-a)/2),{x:e,y:t,yDivision:i,xDivision:n,barHeight:o,barWidth:a,zeroH:r,zeroW:s}}},{key:"drawStackedBarPaths",value:function(e){for(var t,n=e.indexes,i=e.barHeight,r=e.strokeWidth,s=e.zeroW,o=e.x,a=e.y,l=e.yDivision,c=e.elSeries,u=this.w,h=a,d=n.i,f=n.j,p=0,g=0;g<this.prevXF.length;g++)p+=this.prevXF[g][f];if(d>0){var m=s;this.prevXVal[d-1][f]<0?m=this.series[d][f]>=0?this.prevX[d-1][f]+p-2*(this.isReversed?p:0):this.prevX[d-1][f]:this.prevXVal[d-1][f]>=0&&(m=this.series[d][f]>=0?this.prevX[d-1][f]:this.prevX[d-1][f]-p+2*(this.isReversed?p:0)),t=m}else t=s;o=null===this.series[d][f]?t:t+this.series[d][f]/this.invertedYRatio-2*(this.isReversed?this.series[d][f]/this.invertedYRatio:0);var v=this.barHelpers.getBarpaths({barYPosition:h,barHeight:i,x1:t,x2:o,strokeWidth:r,series:this.series,realIndex:n.realIndex,i:d,j:f,w:u});return this.barHelpers.barBackground({j:f,i:d,y1:h,y2:i,elSeries:c}),a+=l,{pathTo:v.pathTo,pathFrom:v.pathFrom,x:o,y:a}}},{key:"drawStackedColumnPaths",value:function(e){var t=e.indexes,n=e.x,i=e.y,r=e.xDivision,s=e.barWidth,o=e.zeroH;e.strokeWidth;var a=e.elSeries,l=this.w,c=t.i,u=t.j,h=t.bc;if(l.globals.isXNumeric){var d=l.globals.seriesX[c][u];d||(d=0),n=(d-l.globals.minX)/this.xRatio-s/2}for(var f,p=n,g=0,m=0;m<this.prevYF.length;m++)g+=isNaN(this.prevYF[m][u])?0:this.prevYF[m][u];if(c>0&&!l.globals.isXNumeric||c>0&&l.globals.isXNumeric&&l.globals.seriesX[c-1][u]===l.globals.seriesX[c][u]){var v,y,b=Math.min(this.yRatio.length+1,c+1);if(void 0!==this.prevY[c-1])for(var x=1;x<b;x++)if(!isNaN(this.prevY[c-x][u])){y=this.prevY[c-x][u];break}for(var w=1;w<b;w++){if(this.prevYVal[c-w][u]<0){v=this.series[c][u]>=0?y-g+2*(this.isReversed?g:0):y;break}if(this.prevYVal[c-w][u]>=0){v=this.series[c][u]>=0?y:y+g-2*(this.isReversed?g:0);break}}void 0===v&&(v=l.globals.gridHeight),f=this.prevYF[0].every((function(e){return 0===e}))&&this.prevYF.slice(1,c).every((function(e){return e.every((function(e){return isNaN(e)}))}))?l.globals.gridHeight-o:v}else f=l.globals.gridHeight-o;i=f-this.series[c][u]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[c][u]/this.yRatio[this.yaxisIndex]:0);var _=this.barHelpers.getColumnPaths({barXPosition:p,barWidth:s,y1:f,y2:i,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:t.realIndex,i:c,j:u,w:l});return this.barHelpers.barBackground({bc:h,j:u,i:c,x1:p,x2:s,elSeries:a}),n+=r,{pathTo:_.pathTo,pathFrom:_.pathFrom,x:l.globals.isXNumeric?n-r:n,y:i}}}]),n}(),Ce=function(e){h(n,B);var t=g(n);function n(){return a(this,n),t.apply(this,arguments)}return c(n,[{key:"draw",value:function(e,t){var n=this,i=this.w,r=new S(this.ctx),o=new L(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=i.config.plotOptions.bar.horizontal;var a=new k(this.ctx,i);e=a.getLogSeries(e),this.series=e,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);for(var l=r.group({class:"apexcharts-".concat(i.config.chart.type,"-series apexcharts-plot-series")}),c=function(a){n.isBoxPlot="boxPlot"===i.config.chart.type||"boxPlot"===i.config.series[a].type;var c,u,h,d,f,p,g=void 0,m=void 0,v=[],y=[],b=i.globals.comboCharts?t[a]:a,w=r.group({class:"apexcharts-series",seriesName:x.escapeString(i.globals.seriesNames[b]),rel:a+1,"data:realIndex":b});n.ctx.series.addCollapsedClassToSeries(w,b),e[a].length>0&&(n.visibleI=n.visibleI+1),n.yRatio.length>1&&(n.yaxisIndex=b);var _=n.barHelpers.initialPositions();m=_.y,f=_.barHeight,u=_.yDivision,d=_.zeroW,g=_.x,p=_.barWidth,c=_.xDivision,h=_.zeroH,y.push(g+p/2);for(var S=r.group({class:"apexcharts-datalabels","data:realIndex":b}),k=function(t){var r=n.barHelpers.getStrokeWidth(a,t,b),l=null,x={indexes:{i:a,j:t,realIndex:b},x:g,y:m,strokeWidth:r,elSeries:w};l=n.isHorizontal?n.drawHorizontalBoxPaths(s(s({},x),{},{yDivision:u,barHeight:f,zeroW:d})):n.drawVerticalBoxPaths(s(s({},x),{},{xDivision:c,barWidth:p,zeroH:h})),m=l.y,g=l.x,t>0&&y.push(g+p/2),v.push(m),l.pathTo.forEach((function(s,c){var u=!n.isBoxPlot&&n.candlestickOptions.wick.useFillColor?l.color[c]:i.globals.stroke.colors[a],h=o.fillPath({seriesNumber:b,dataPointIndex:t,color:l.color[c],value:e[a][t]});n.renderSeries({realIndex:b,pathFill:h,lineFill:u,j:t,i:a,pathFrom:l.pathFrom,pathTo:s,strokeWidth:r,elSeries:w,x:g,y:m,series:e,barHeight:f,barWidth:p,elDataLabelsWrap:S,visibleSeries:n.visibleI,type:i.config.chart.type})}))},C=0;C<i.globals.dataPoints;C++)k(C);i.globals.seriesXvalues[b]=y,i.globals.seriesYvalues[b]=v,l.add(w)},u=0;u<e.length;u++)c(u);return l}},{key:"drawVerticalBoxPaths",value:function(e){var t=e.indexes,n=e.x;e.y;var i=e.xDivision,r=e.barWidth,s=e.zeroH,o=e.strokeWidth,a=this.w,l=new S(this.ctx),c=t.i,u=t.j,h=!0,d=a.config.plotOptions.candlestick.colors.upward,f=a.config.plotOptions.candlestick.colors.downward,p="";this.isBoxPlot&&(p=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var g=this.yRatio[this.yaxisIndex],m=t.realIndex,v=this.getOHLCValue(m,u),y=s,b=s;v.o>v.c&&(h=!1);var x=Math.min(v.o,v.c),w=Math.max(v.o,v.c),_=v.m;a.globals.isXNumeric&&(n=(a.globals.seriesX[m][u]-a.globals.minX)/this.xRatio-r/2);var k=n+r*this.visibleI;void 0===this.series[c][u]||null===this.series[c][u]?(x=s,w=s):(x=s-x/g,w=s-w/g,y=s-v.h/g,b=s-v.l/g,_=s-v.m/g);var C=l.move(k,s),A=l.move(k+r/2,x);return a.globals.previousPaths.length>0&&(A=this.getPreviousPath(m,u,!0)),C=this.isBoxPlot?[l.move(k,x)+l.line(k+r/2,x)+l.line(k+r/2,y)+l.line(k+r/4,y)+l.line(k+r-r/4,y)+l.line(k+r/2,y)+l.line(k+r/2,x)+l.line(k+r,x)+l.line(k+r,_)+l.line(k,_)+l.line(k,x+o/2),l.move(k,_)+l.line(k+r,_)+l.line(k+r,w)+l.line(k+r/2,w)+l.line(k+r/2,b)+l.line(k+r-r/4,b)+l.line(k+r/4,b)+l.line(k+r/2,b)+l.line(k+r/2,w)+l.line(k,w)+l.line(k,_)+"z"]:[l.move(k,w)+l.line(k+r/2,w)+l.line(k+r/2,y)+l.line(k+r/2,w)+l.line(k+r,w)+l.line(k+r,x)+l.line(k+r/2,x)+l.line(k+r/2,b)+l.line(k+r/2,x)+l.line(k,x)+l.line(k,w-o/2)],A+=l.move(k,x),a.globals.isXNumeric||(n+=i),{pathTo:C,pathFrom:A,x:n,y:w,barXPosition:k,color:this.isBoxPlot?p:h?[d]:[f]}}},{key:"drawHorizontalBoxPaths",value:function(e){var t=e.indexes;e.x;var n=e.y,i=e.yDivision,r=e.barHeight,s=e.zeroW,o=e.strokeWidth,a=this.w,l=new S(this.ctx),c=t.i,u=t.j,h=this.boxOptions.colors.lower;this.isBoxPlot&&(h=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var d=this.invertedYRatio,f=t.realIndex,p=this.getOHLCValue(f,u),g=s,m=s,v=Math.min(p.o,p.c),y=Math.max(p.o,p.c),b=p.m;a.globals.isXNumeric&&(n=(a.globals.seriesX[f][u]-a.globals.minX)/this.invertedXRatio-r/2);var x=n+r*this.visibleI;void 0===this.series[c][u]||null===this.series[c][u]?(v=s,y=s):(v=s+v/d,y=s+y/d,g=s+p.h/d,m=s+p.l/d,b=s+p.m/d);var w=l.move(s,x),_=l.move(v,x+r/2);return a.globals.previousPaths.length>0&&(_=this.getPreviousPath(f,u,!0)),w=[l.move(v,x)+l.line(v,x+r/2)+l.line(g,x+r/2)+l.line(g,x+r/2-r/4)+l.line(g,x+r/2+r/4)+l.line(g,x+r/2)+l.line(v,x+r/2)+l.line(v,x+r)+l.line(b,x+r)+l.line(b,x)+l.line(v+o/2,x),l.move(b,x)+l.line(b,x+r)+l.line(y,x+r)+l.line(y,x+r/2)+l.line(m,x+r/2)+l.line(m,x+r-r/4)+l.line(m,x+r/4)+l.line(m,x+r/2)+l.line(y,x+r/2)+l.line(y,x)+l.line(b,x)+"z"],_+=l.move(v,x),a.globals.isXNumeric||(n+=i),{pathTo:w,pathFrom:_,x:y,y:n,barYPosition:x,color:h}}},{key:"getOHLCValue",value:function(e,t){var n=this.w;return{o:this.isBoxPlot?n.globals.seriesCandleH[e][t]:n.globals.seriesCandleO[e][t],h:this.isBoxPlot?n.globals.seriesCandleO[e][t]:n.globals.seriesCandleH[e][t],m:n.globals.seriesCandleM[e][t],l:this.isBoxPlot?n.globals.seriesCandleC[e][t]:n.globals.seriesCandleL[e][t],c:this.isBoxPlot?n.globals.seriesCandleL[e][t]:n.globals.seriesCandleC[e][t]}}}]),n}(),Ae=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,n=e.config.plotOptions[e.config.chart.type];return n.colorScale.ranges.length>0&&n.colorScale.ranges.map((function(e,n){e.from<=0&&(t=!0)})),t}},{key:"getShadeColor",value:function(e,t,n,i){var r=this.w,s=1,o=r.config.plotOptions[e].shadeIntensity,a=this.determineColor(e,t,n);r.globals.hasNegs||i?s=r.config.plotOptions[e].reverseNegativeShade?a.percent<0?a.percent/100*(1.25*o):(1-a.percent/100)*(1.25*o):a.percent<=0?1-(1+a.percent/100)*o:(1-a.percent/100)*o:(s=1-a.percent/100,"treemap"===e&&(s=(1-a.percent/100)*(1.25*o)));var l=a.color,c=new x;return r.config.plotOptions[e].enableShades&&(l="dark"===this.w.config.theme.mode?x.hexToRgba(c.shadeColor(-1*s,a.color),r.config.fill.opacity):x.hexToRgba(c.shadeColor(s,a.color),r.config.fill.opacity)),{color:l,colorProps:a}}},{key:"determineColor",value:function(e,t,n){var i=this.w,r=i.globals.series[t][n],s=i.config.plotOptions[e],o=s.colorScale.inverse?n:t;s.distributed&&"treemap"===i.config.chart.type&&(o=n);var a=i.globals.colors[o],l=null,c=Math.min.apply(Math,v(i.globals.series[t])),u=Math.max.apply(Math,v(i.globals.series[t]));s.distributed||"heatmap"!==e||(c=i.globals.minY,u=i.globals.maxY),void 0!==s.colorScale.min&&(c=s.colorScale.min<i.globals.minY?s.colorScale.min:i.globals.minY,u=s.colorScale.max>i.globals.maxY?s.colorScale.max:i.globals.maxY);var h=Math.abs(u)+Math.abs(c),d=100*r/(0===h?h-1e-6:h);return s.colorScale.ranges.length>0&&s.colorScale.ranges.map((function(e,t){if(r>=e.from&&r<=e.to){a=e.color,l=e.foreColor?e.foreColor:null,c=e.from,u=e.to;var n=Math.abs(u)+Math.abs(c);d=100*r/(0===n?n-1e-6:n)}})),{color:a,foreColor:l,percent:d}}},{key:"calculateDataLabels",value:function(e){var t=e.text,n=e.x,i=e.y,r=e.i,s=e.j,o=e.colorProps,a=e.fontSize,l=this.w.config.dataLabels,c=new S(this.ctx),u=new M(this.ctx),h=null;if(l.enabled){h=c.group({class:"apexcharts-data-labels"});var d=l.offsetX,f=l.offsetY,p=n+d,g=i+parseFloat(l.style.fontSize)/3+f;u.plotDataLabelsText({x:p,y:g,text:t,i:r,j:s,color:o.foreColor,parent:h,fontSize:a,dataLabelsConfig:l})}return h}},{key:"addListeners",value:function(e){var t=new S(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),e}(),Te=function(){function e(t,n){a(this,e),this.ctx=t,this.w=t.w,this.xRatio=n.xRatio,this.yRatio=n.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Ae(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return c(e,[{key:"draw",value:function(e){var t=this.w,n=new S(this.ctx),i=n.group({class:"apexcharts-heatmap"});i.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var r=t.globals.gridWidth/t.globals.dataPoints,s=t.globals.gridHeight/t.globals.series.length,o=0,a=!1;this.negRange=this.helpers.checkColorRange();var l=e.slice();t.config.yaxis[0].reversed&&(a=!0,l.reverse());for(var c=a?0:l.length-1;a?c<l.length:c>=0;a?c++:c--){var u=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:x.escapeString(t.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(this.ctx.series.addCollapsedClassToSeries(u,c),t.config.chart.dropShadow.enabled){var h=t.config.chart.dropShadow;new _(this.ctx).dropShadow(u,h,c)}for(var d=0,f=t.config.plotOptions.heatmap.shadeIntensity,p=0;p<l[c].length;p++){var g=this.helpers.getShadeColor(t.config.chart.type,c,p,this.negRange),m=g.color,v=g.colorProps;"image"===t.config.fill.type&&(m=new L(this.ctx).fillPath({seriesNumber:c,dataPointIndex:p,opacity:t.globals.hasNegs?v.percent<0?1-(1+v.percent/100):f+v.percent/100:v.percent/100,patternID:x.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:r,height:t.config.fill.image.height?t.config.fill.image.height:s}));var y=this.rectRadius,b=n.drawRect(d,o,r,s,y);if(b.attr({cx:d,cy:o}),b.node.classList.add("apexcharts-heatmap-rect"),u.add(b),b.attr({fill:m,i:c,index:c,j:p,val:l[c][p],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?m:t.globals.stroke.colors[0],color:m}),this.helpers.addListeners(b),t.config.chart.animations.enabled&&!t.globals.dataChanged){var w=1;t.globals.resized||(w=t.config.chart.animations.speed),this.animateHeatMap(b,d,o,r,s,w)}if(t.globals.dataChanged){var k=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){k=this.dynamicAnim.speed;var C=t.globals.previousPaths[c]&&t.globals.previousPaths[c][p]&&t.globals.previousPaths[c][p].color;C||(C="rgba(255, 255, 255, 0)"),this.animateHeatColor(b,x.isColorHex(C)?C:x.rgb2hex(C),x.isColorHex(m)?m:x.rgb2hex(m),k)}}var A=(0,t.config.dataLabels.formatter)(t.globals.series[c][p],{value:t.globals.series[c][p],seriesIndex:c,dataPointIndex:p,w:t}),T=this.helpers.calculateDataLabels({text:A,x:d+r/2,y:o+s/2,i:c,j:p,colorProps:v,series:l});null!==T&&u.add(T),d+=r}o+=s,i.add(u)}var I=t.globals.yAxisScale[0].result.slice();t.config.yaxis[0].reversed?I.unshift(""):I.push(""),t.globals.yAxisScale[0].result=I;var E=t.globals.gridHeight/t.globals.series.length;return t.config.yaxis[0].labels.offsetY=-E/2,i}},{key:"animateHeatMap",value:function(e,t,n,i,r,s){var o=new w(this.ctx);o.animateRect(e,{x:t+i/2,y:n+r/2,width:0,height:0},{x:t,y:n,width:i,height:r},s,(function(){o.animationCompleted(e)}))}},{key:"animateHeatColor",value:function(e,t,n,i){e.attr({fill:t}).animate(i).attr({fill:n})}}]),e}(),Ie=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"drawYAxisTexts",value:function(e,t,n,i){var r=this.w,s=r.config.yaxis[0],o=r.globals.yLabelFormatters[0];return new S(this.ctx).drawText({x:e+s.labels.offsetX,y:t+s.labels.offsetY,text:o(i,n),textAnchor:"middle",fontSize:s.labels.style.fontSize,fontFamily:s.labels.style.fontFamily,foreColor:Array.isArray(s.labels.style.colors)?s.labels.style.colors[n]:s.labels.style.colors})}}]),e}(),Ee=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==n.globals.stroke.colors?n.globals.stroke.colors:n.globals.colors,this.defaultSize=Math.min(n.globals.gridWidth,n.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=n.globals.gridWidth/2,"radialBar"===n.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(n.config.plotOptions.pie.endAngle-n.config.plotOptions.pie.startAngle),this.initialAngle=n.config.plotOptions.pie.startAngle%this.fullAngle,n.globals.radialSize=this.defaultSize/2.05-n.config.stroke.width-(n.config.chart.sparkline.enabled?0:n.config.chart.dropShadow.blur),this.donutSize=n.globals.radialSize*parseInt(n.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return c(e,[{key:"draw",value:function(e){var t=this,n=this.w,i=new S(this.ctx);if(this.ret=i.group({class:"apexcharts-pie"}),n.globals.noData)return this.ret;for(var r=0,s=0;s<e.length;s++)r+=x.negToZero(e[s]);var o=[],a=i.group();0===r&&(r=1e-5),e.forEach((function(e){t.maxY=Math.max(t.maxY,e)})),n.config.yaxis[0].max&&(this.maxY=n.config.yaxis[0].max),"back"===n.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var l=0;l<e.length;l++){var c=this.fullAngle*x.negToZero(e[l])/r;o.push(c),"polarArea"===this.chartType?(o[l]=this.fullAngle/e.length,this.sliceSizes.push(n.globals.radialSize*e[l]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var u,h=0,d=0;d<n.globals.previousPaths.length;d++)h+=x.negToZero(n.globals.previousPaths[d]);for(var f=0;f<n.globals.previousPaths.length;f++)u=this.fullAngle*x.negToZero(n.globals.previousPaths[f])/h,this.prevSectorAngleArr.push(u)}this.donutSize<0&&(this.donutSize=0);var p=n.config.plotOptions.pie.customScale,g=n.globals.gridWidth/2,m=n.globals.gridHeight/2,v=g-n.globals.gridWidth/2*p,y=m-n.globals.gridHeight/2*p;if("donut"===this.chartType){var b=i.drawCircle(this.donutSize);b.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),a.add(b)}var w=this.drawArcs(o,e);if(this.sliceLabels.forEach((function(e){w.add(e)})),a.attr({transform:"translate(".concat(v,", ").concat(y,") scale(").concat(p,")")}),a.add(w),this.ret.add(a),this.donutDataLabels.show){var _=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:v,translateY:y});this.ret.add(_)}return"front"===n.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(e,t){var n=this.w,i=new _(this.ctx),r=new S(this.ctx),s=new L(this.ctx),o=r.group({class:"apexcharts-slices"}),a=this.initialAngle,l=this.initialAngle,c=this.initialAngle,u=this.initialAngle;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var h=0;h<e.length;h++){var d=r.group({class:"apexcharts-series apexcharts-pie-series",seriesName:x.escapeString(n.globals.seriesNames[h]),rel:h+1,"data:realIndex":h});o.add(d),l=u,c=(a=c)+e[h],u=l+this.prevSectorAngleArr[h];var f=c<a?this.fullAngle+c-a:c-a,p=s.fillPath({seriesNumber:h,size:this.sliceSizes[h],value:t[h]}),g=this.getChangedPath(l,u),m=r.drawPath({d:g,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[h]:this.lineColorArr,strokeWidth:0,fill:p,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(h)});if(m.attr({index:0,j:h}),i.setSelectionFilter(m,0,h),n.config.chart.dropShadow.enabled){var v=n.config.chart.dropShadow;i.dropShadow(m,v,h)}this.addListeners(m,this.donutDataLabels),S.setAttrs(m.node,{"data:angle":f,"data:startAngle":a,"data:strokeWidth":this.strokeWidth,"data:value":t[h]});var y={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?y=x.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(a+f/2)%this.fullAngle):"donut"===this.chartType&&(y=x.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(a+f/2)%this.fullAngle)),d.add(m);var b=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):(0===(b=f/this.fullAngle*n.config.chart.animations.speed)&&(b=1),this.animDur=b+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&n.globals.dataChanged?this.animatePaths(m,{size:this.sliceSizes[h],endAngle:c,startAngle:a,prevStartAngle:l,prevEndAngle:u,animateStartingPos:!0,i:h,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(m,{size:this.sliceSizes[h],endAngle:c,startAngle:a,i:h,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:b}),n.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&m.click(this.pieClicked.bind(this,h)),void 0!==n.globals.selectedDataPoints[0]&&n.globals.selectedDataPoints[0].indexOf(h)>-1&&this.pieClicked(h),n.config.dataLabels.enabled){var w=y.x,k=y.y,C=100*f/this.fullAngle+"%";if(0!==f&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[h]){var A=n.config.dataLabels.formatter;void 0!==A&&(C=A(n.globals.seriesPercent[h][0],{seriesIndex:h,w:n}));var T=n.globals.dataLabels.style.colors[h],I=r.group({class:"apexcharts-datalabels"}),E=r.drawText({x:w,y:k,text:C,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:T});if(I.add(E),n.config.dataLabels.dropShadow.enabled){var P=n.config.dataLabels.dropShadow;i.dropShadow(E,P)}E.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&!1===n.globals.resized&&(E.node.classList.add("apexcharts-pie-label-delay"),E.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(I)}}}return o}},{key:"addListeners",value:function(e,t){var n=new S(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var n=this.w,i=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,r=i,s=t.startAngle,o=t.startAngle;void 0!==t.prevStartAngle&&void 0!==t.prevEndAngle&&(s=t.prevEndAngle,r=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===n.config.series.length-1&&(i+o>this.fullAngle?t.endAngle=t.endAngle-(i+o):i+o<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(i+o)))),i===this.fullAngle&&(i=this.fullAngle-.01),this.animateArc(e,s,o,i,r,t)}},{key:"animateArc",value:function(e,t,n,i,r,s){var o,a=this,l=this.w,c=new w(this.ctx),u=s.size;(isNaN(t)||isNaN(r))&&(t=n,r=i,s.dur=0);var h=i,d=n,f=t<n?this.fullAngle+t-n:t-n;l.globals.dataChanged&&s.shouldSetPrevPaths&&s.prevEndAngle&&(o=a.getPiePath({me:a,startAngle:s.prevStartAngle,angle:s.prevEndAngle<s.prevStartAngle?this.fullAngle+s.prevEndAngle-s.prevStartAngle:s.prevEndAngle-s.prevStartAngle,size:u}),e.attr({d:o})),0!==s.dur?e.animate(s.dur,l.globals.easing,s.animBeginArr[s.i]).afterAll((function(){"pie"!==a.chartType&&"donut"!==a.chartType&&"polarArea"!==a.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":a.strokeWidth}),s.i===l.config.series.length-1&&c.animationCompleted(e)})).during((function(l){h=f+(i-f)*l,s.animateStartingPos&&(h=r+(i-r)*l,d=t-r+(n-(t-r))*l),o=a.getPiePath({me:a,startAngle:d,angle:h,size:u}),e.node.setAttribute("data:pathOrig",o),e.attr({d:o})})):(o=a.getPiePath({me:a,startAngle:d,angle:i,size:u}),s.isTrack||(l.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",o),e.attr({d:o,"stroke-width":a.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,n=this.w,i=this,r=i.sliceSizes[e]+(n.config.plotOptions.pie.expandOnClick?4:0),s=n.globals.dom.Paper.select(".apexcharts-".concat(i.chartType.toLowerCase(),"-slice-").concat(e)).members[0];if("true"!==s.attr("data:pieClicked")){var o=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,(function(e){e.setAttribute("data:pieClicked","false");var t=e.getAttribute("data:pathOrig");e.setAttribute("d",t)})),s.attr("data:pieClicked","true");var a=parseInt(s.attr("data:startAngle"),10),l=parseInt(s.attr("data:angle"),10);t=i.getPiePath({me:i,startAngle:a,angle:l,size:r}),360!==l&&s.plot(t)}else{s.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(s.node,this.donutDataLabels);var c=s.attr("data:pathOrig");s.attr({d:c})}}},{key:"getChangedPath",value:function(e,t){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),n}},{key:"getPiePath",value:function(e){var t=e.me,n=e.startAngle,i=e.angle,r=e.size,s=n,o=Math.PI*(s-90)/180,a=i+n;Math.ceil(a)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(a=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(a)>this.fullAngle&&(a-=this.fullAngle);var l=Math.PI*(a-90)/180,c=t.centerX+r*Math.cos(o),u=t.centerY+r*Math.sin(o),h=t.centerX+r*Math.cos(l),d=t.centerY+r*Math.sin(l),f=x.polarToCartesian(t.centerX,t.centerY,t.donutSize,a),p=x.polarToCartesian(t.centerX,t.centerY,t.donutSize,s),g=i>180?1:0,m=["M",c,u,"A",r,r,0,g,1,h,d];return"donut"===t.chartType?[].concat(m,["L",f.x,f.y,"A",t.donutSize,t.donutSize,0,g,0,p.x,p.y,"L",c,u,"z"]).join(" "):"pie"===t.chartType||"polarArea"===t.chartType?[].concat(m,["L",t.centerX,t.centerY,"L",c,u]).join(" "):[].concat(m).join(" ")}},{key:"drawPolarElements",value:function(e){var t=this.w,n=new Q(this.ctx),i=new S(this.ctx),r=new Ie(this.ctx),s=i.group(),o=i.group(),a=n.niceScale(0,Math.ceil(this.maxY),t.config.yaxis[0].tickAmount,0,!0),l=a.result.reverse(),c=a.result.length;this.maxY=a.niceMax;for(var u=t.globals.radialSize,h=u/(c-1),d=0;d<c-1;d++){var f=i.drawCircle(u);if(f.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var p=r.drawYAxisTexts(this.centerX,this.centerY-u+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,d,l[d]);o.add(p)}s.add(f),u-=h}this.drawSpokes(e),e.add(s),e.add(o)}},{key:"renderInnerDataLabels",value:function(e,t){var n=this.w,i=new S(this.ctx),r=i.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(t.translateX?t.translateX:0,", ").concat(t.translateY?t.translateY:0,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),s=e.total.show;r.node.style.opacity=t.opacity;var o,a,l=t.centerX,c=t.centerY;o=void 0===e.name.color?n.globals.colors[0]:e.name.color;var u=e.name.fontSize,h=e.name.fontFamily,d=e.name.fontWeight;a=void 0===e.value.color?n.config.chart.foreColor:e.value.color;var f=e.value.formatter,p="",g="";if(s?(o=e.total.color,u=e.total.fontSize,h=e.total.fontFamily,d=e.total.fontWeight,g=e.total.label,p=e.total.formatter(n)):1===n.globals.series.length&&(p=f(n.globals.series[0],n),g=n.globals.seriesNames[0]),g&&(g=e.name.formatter(g,e.total.show,n)),e.name.show){var m=i.drawText({x:l,y:c+parseFloat(e.name.offsetY),text:g,textAnchor:"middle",foreColor:o,fontSize:u,fontWeight:d,fontFamily:h});m.node.classList.add("apexcharts-datalabel-label"),r.add(m)}if(e.value.show){var v=e.name.show?parseFloat(e.value.offsetY)+16:e.value.offsetY,y=i.drawText({x:l,y:c+v,text:p,textAnchor:"middle",foreColor:a,fontWeight:e.value.fontWeight,fontSize:e.value.fontSize,fontFamily:e.value.fontFamily});y.node.classList.add("apexcharts-datalabel-value"),r.add(y)}return r}},{key:"printInnerLabels",value:function(e,t,n,i){var r,s=this.w;i?r=void 0===e.name.color?s.globals.colors[parseInt(i.parentNode.getAttribute("rel"),10)-1]:e.name.color:s.globals.series.length>1&&e.total.show&&(r=e.total.color);var o=s.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),a=s.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,e.value.formatter)(n,s),i||"function"!=typeof e.total.formatter||(n=e.total.formatter(s));var l=t===e.total.label;t=e.name.formatter(t,l,s),null!==o&&(o.textContent=t),null!==a&&(a.textContent=n),null!==o&&(o.style.fill=r)}},{key:"printDataLabelsInner",value:function(e,t){var n=this.w,i=e.getAttribute("data:value"),r=n.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(t,r,i,e);var s=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==s&&(s.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,n=this.w,i=new S(this.ctx),r=n.config.plotOptions.polarArea.spokes;if(0!==r.strokeWidth){for(var s=[],o=360/n.globals.series.length,a=0;a<n.globals.series.length;a++)s.push(x.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize,n.config.plotOptions.pie.startAngle+o*a));s.forEach((function(n,s){var o=i.drawLine(n.x,n.y,t.centerX,t.centerY,Array.isArray(r.connectorColors)?r.connectorColors[s]:r.connectorColors);e.add(o)}))}}},{key:"revertDataLabelsInner",value:function(e,t,n){var i=this,r=this.w,s=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),o=!1,a=r.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),l=function(e){var n=e.makeSliceOut,r=e.printLabel;Array.prototype.forEach.call(a,(function(e){"true"===e.getAttribute("data:pieClicked")&&(n&&(o=!0),r&&i.printDataLabelsInner(e,t))}))};if(l({makeSliceOut:!0,printLabel:!1}),t.total.show&&r.globals.series.length>1)o&&!t.total.showAlways?l({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(t,t.total.label,t.total.formatter(r));else if(l({makeSliceOut:!1,printLabel:!0}),!o)if(r.globals.selectedDataPoints.length&&r.globals.series.length>1)if(r.globals.selectedDataPoints[0].length>0){var c=r.globals.selectedDataPoints[0],u=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(c));this.printDataLabelsInner(u,t)}else s&&r.globals.selectedDataPoints.length&&0===r.globals.selectedDataPoints[0].length&&(s.style.opacity=0);else s&&r.globals.series.length>1&&(s.style.opacity=0)}}]),e}(),Pe=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var n=this.w;this.graphics=new S(this.ctx),this.lineColorArr=void 0!==n.globals.stroke.colors?n.globals.stroke.colors:n.globals.colors,this.defaultSize=n.globals.svgHeight<n.globals.svgWidth?n.globals.gridHeight+1.5*n.globals.goldenPadding:n.globals.gridWidth,this.isLog=n.config.yaxis[0].logarithmic,this.coreUtils=new k(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(n.globals.maxY,0):n.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):n.globals.minY,this.polygons=n.config.plotOptions.radar.polygons,this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-n.config.chart.dropShadow.blur,n.config.xaxis.labels.show&&(this.size=this.size-n.globals.xAxisLabelsWidth/1.75),void 0!==n.config.plotOptions.radar.size&&(this.size=n.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return c(e,[{key:"draw",value:function(e){var t=this,n=this.w,i=new L(this.ctx),r=[],o=new M(this.ctx);e.length&&(this.dataPointsLen=e[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var a=n.globals.gridWidth/2,l=n.globals.gridHeight/2,c=a+n.config.plotOptions.radar.offsetX,u=l+n.config.plotOptions.radar.offsetY,h=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(u||0,")")}),d=[],f=null,p=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach((function(e,a){var l=e.length===n.globals.dataPoints,c=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":l,seriesName:x.escapeString(n.globals.seriesNames[a]),rel:a+1,"data:realIndex":a});t.dataRadiusOfPercent[a]=[],t.dataRadius[a]=[],t.angleArr[a]=[],e.forEach((function(e,n){var i=Math.abs(t.maxValue-t.minValue);e+=Math.abs(t.minValue),t.isLog&&(e=t.coreUtils.getLogVal(e,0)),t.dataRadiusOfPercent[a][n]=e/i,t.dataRadius[a][n]=t.dataRadiusOfPercent[a][n]*t.size,t.angleArr[a][n]=n*t.disAngle})),d=t.getDataPointsPos(t.dataRadius[a],t.angleArr[a]);var u=t.createPaths(d,{x:0,y:0});f=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),p=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":a}),n.globals.delayedElements.push({el:f.node,index:a});var h={i:a,realIndex:a,animationDelay:a,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[a],strokeLineCap:n.config.stroke.lineCap},g=null;n.globals.previousPaths.length>0&&(g=t.getPreviousPath(a));for(var m=0;m<u.linePathsTo.length;m++){var v=t.graphics.renderPaths(s(s({},h),{},{pathFrom:null===g?u.linePathsFrom[m]:g,pathTo:u.linePathsTo[m],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[a]:t.strokeWidth,fill:"none",drawShadow:!1}));c.add(v);var y=i.fillPath({seriesNumber:a}),b=t.graphics.renderPaths(s(s({},h),{},{pathFrom:null===g?u.areaPathsFrom[m]:g,pathTo:u.areaPathsTo[m],strokeWidth:0,fill:y,drawShadow:!1}));if(n.config.chart.dropShadow.enabled){var w=new _(t.ctx),S=n.config.chart.dropShadow;w.dropShadow(b,Object.assign({},S,{noUserSpaceOnUse:!0}),a)}c.add(b)}e.forEach((function(e,i){var r=new N(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:a,dataPointIndex:i}),l=t.graphics.drawMarker(d[i].x,d[i].y,r);l.attr("rel",i),l.attr("j",i),l.attr("index",a),l.node.setAttribute("default-marker-size",r.pSize);var u=t.graphics.group({class:"apexcharts-series-markers"});u&&u.add(l),f.add(u),c.add(f);var h=n.config.dataLabels;if(h.enabled){var g=h.formatter(n.globals.series[a][i],{seriesIndex:a,dataPointIndex:i,w:n});o.plotDataLabelsText({x:d[i].x,y:d[i].y,text:g,textAnchor:"middle",i:a,j:a,parent:p,offsetCorrection:!1,dataLabelsConfig:s({},h)})}c.add(p)})),r.push(c)})),this.drawPolygons({parent:h}),n.config.xaxis.labels.show){var g=this.drawXAxisTexts();h.add(g)}return r.forEach((function(e){h.add(e)})),h.add(this.yaxisLabels),h}},{key:"drawPolygons",value:function(e){for(var t=this,n=this.w,i=e.parent,r=new Ie(this.ctx),s=n.globals.yAxisScale[0].result.reverse(),o=s.length,a=[],l=this.size/(o-1),c=0;c<o;c++)a[c]=l*c;a.reverse();var u=[],h=[];a.forEach((function(e,n){var i=x.getPolygonPos(e,t.dataPointsLen),r="";i.forEach((function(e,i){if(0===n){var s=t.graphics.drawLine(e.x,e.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[i]:t.polygons.connectorColors);h.push(s)}0===i&&t.yaxisLabelsTextsPos.push({x:e.x,y:e.y}),r+=e.x+","+e.y+" "})),u.push(r)})),u.forEach((function(e,r){var s=t.polygons.strokeColors,o=t.polygons.strokeWidth,a=t.graphics.drawPolygon(e,Array.isArray(s)?s[r]:s,Array.isArray(o)?o[r]:o,n.globals.radarPolygons.fill.colors[r]);i.add(a)})),h.forEach((function(e){i.add(e)})),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(e,n){var i=r.drawYAxisTexts(e.x,e.y,n,s[n]);t.yaxisLabels.add(i)}))}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,n=t.config.xaxis.labels,i=this.graphics.group({class:"apexcharts-xaxis"}),r=x.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach((function(o,a){var l=t.config.xaxis.labels.formatter,c=new M(e.ctx);if(r[a]){var u=e.getTextPos(r[a],e.size),h=l(o,{seriesIndex:-1,dataPointIndex:a,w:t});c.plotDataLabelsText({x:u.newX,y:u.newY,text:h,textAnchor:u.textAnchor,i:a,j:a,parent:i,color:Array.isArray(n.style.colors)&&n.style.colors[a]?n.style.colors[a]:"#a8a8a8",dataLabelsConfig:s({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1})}})),i}},{key:"createPaths",value:function(e,t){var n=this,i=[],r=[],s=[],o=[];if(e.length){r=[this.graphics.move(t.x,t.y)],o=[this.graphics.move(t.x,t.y)];var a=this.graphics.move(e[0].x,e[0].y),l=this.graphics.move(e[0].x,e[0].y);e.forEach((function(t,i){a+=n.graphics.line(t.x,t.y),l+=n.graphics.line(t.x,t.y),i===e.length-1&&(a+="Z",l+="Z")})),i.push(a),s.push(l)}return{linePathsFrom:r,linePathsTo:i,areaPathsFrom:o,areaPathsTo:s}}},{key:"getTextPos",value:function(e,t){var n="middle",i=e.x,r=e.y;return Math.abs(e.x)>=10?e.x>0?(n="start",i+=10):e.x<0&&(n="end",i-=10):n="middle",Math.abs(e.y)>=t-10&&(e.y<0?r-=10:e.y>0&&(r+=10)),{textAnchor:n,newX:i,newY:r}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,n=null,i=0;i<t.globals.previousPaths.length;i++){var r=t.globals.previousPaths[i];r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(e,10)&&void 0!==t.globals.previousPaths[i].paths[0]&&(n=t.globals.previousPaths[i].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var i=[],r=0;r<n;r++){var s={};s.x=e[r]*Math.sin(t[r]),s.y=-e[r]*Math.cos(t[r]),i.push(s)}return i}}]),e}(),Re=function(e){h(n,Ee);var t=g(n);function n(e){var i;a(this,n),(i=t.call(this,e)).ctx=e,i.w=e.w,i.animBeginArr=[0],i.animDur=0;var r=i.w;return i.startAngle=r.config.plotOptions.radialBar.startAngle,i.endAngle=r.config.plotOptions.radialBar.endAngle,i.totalAngle=Math.abs(r.config.plotOptions.radialBar.endAngle-r.config.plotOptions.radialBar.startAngle),i.trackStartAngle=r.config.plotOptions.radialBar.track.startAngle,i.trackEndAngle=r.config.plotOptions.radialBar.track.endAngle,i.donutDataLabels=i.w.config.plotOptions.radialBar.dataLabels,i.radialDataLabels=i.donutDataLabels,i.trackStartAngle||(i.trackStartAngle=i.startAngle),i.trackEndAngle||(i.trackEndAngle=i.endAngle),360===i.endAngle&&(i.endAngle=359.99),i.margin=parseInt(r.config.plotOptions.radialBar.track.margin,10),i}return c(n,[{key:"draw",value:function(e){var t=this.w,n=new S(this.ctx),i=n.group({class:"apexcharts-radialbar"});if(t.globals.noData)return i;var r=n.group(),s=this.defaultSize/2,o=t.globals.gridWidth/2,a=this.defaultSize/2.05;t.config.chart.sparkline.enabled||(a=a-t.config.stroke.width-t.config.chart.dropShadow.blur);var l=t.globals.fill.colors;if(t.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:a,centerX:o,centerY:s,colorArr:l,series:e});r.add(c)}var u=this.drawArcs({size:a,centerX:o,centerY:s,colorArr:l,series:e}),h=360;t.config.plotOptions.radialBar.startAngle<0&&(h=this.totalAngle);var d=(360-h)/360;if(t.globals.radialSize=a-a*d,this.radialDataLabels.value.show){var f=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);t.globals.radialSize+=f*d}return r.add(u.g),"front"===t.config.plotOptions.radialBar.hollow.position&&(u.g.add(u.elHollow),u.dataLabels&&u.g.add(u.dataLabels)),i.add(r),i}},{key:"drawTracks",value:function(e){var t=this.w,n=new S(this.ctx),i=n.group({class:"apexcharts-tracks"}),r=new _(this.ctx),s=new L(this.ctx),o=this.getStrokeWidth(e);e.size=e.size-o/2;for(var a=0;a<e.series.length;a++){var l=n.group({class:"apexcharts-radialbar-track apexcharts-track"});i.add(l),l.attr({rel:a+1}),e.size=e.size-o-this.margin;var c=t.config.plotOptions.radialBar.track,u=s.fillPath({seriesNumber:0,size:e.size,fillColors:Array.isArray(c.background)?c.background[a]:c.background,solid:!0}),h=this.trackStartAngle,d=this.trackEndAngle;Math.abs(d)+Math.abs(h)>=360&&(d=360-Math.abs(this.startAngle)-.1);var f=n.drawPath({d:"",stroke:u,strokeWidth:o*parseInt(c.strokeWidth,10)/100,fill:"none",strokeOpacity:c.opacity,classes:"apexcharts-radialbar-area"});if(c.dropShadow.enabled){var p=c.dropShadow;r.dropShadow(f,p)}l.add(f),f.attr("id","apexcharts-radialbarTrack-"+a),this.animatePaths(f,{centerX:e.centerX,centerY:e.centerY,endAngle:d,startAngle:h,size:e.size,i:a,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:t.globals.easing})}return i}},{key:"drawArcs",value:function(e){var t=this.w,n=new S(this.ctx),i=new L(this.ctx),r=new _(this.ctx),s=n.group(),o=this.getStrokeWidth(e);e.size=e.size-o/2;var a=t.config.plotOptions.radialBar.hollow.background,l=e.size-o*e.series.length-this.margin*e.series.length-o*parseInt(t.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,c=l-t.config.plotOptions.radialBar.hollow.margin;void 0!==t.config.plotOptions.radialBar.hollow.image&&(a=this.drawHollowImage(e,s,l,a));var u=this.drawHollow({size:c,centerX:e.centerX,centerY:e.centerY,fill:a||"transparent"});if(t.config.plotOptions.radialBar.hollow.dropShadow.enabled){var h=t.config.plotOptions.radialBar.hollow.dropShadow;r.dropShadow(u,h)}var d=1;!this.radialDataLabels.total.show&&t.globals.series.length>1&&(d=0);var f=null;this.radialDataLabels.show&&(f=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:e.centerX,centerY:e.centerY,opacity:d})),"back"===t.config.plotOptions.radialBar.hollow.position&&(s.add(u),f&&s.add(f));var p=!1;t.config.plotOptions.radialBar.inverseOrder&&(p=!0);for(var g=p?e.series.length-1:0;p?g>=0:g<e.series.length;p?g--:g++){var m=n.group({class:"apexcharts-series apexcharts-radial-series",seriesName:x.escapeString(t.globals.seriesNames[g])});s.add(m),m.attr({rel:g+1,"data:realIndex":g}),this.ctx.series.addCollapsedClassToSeries(m,g),e.size=e.size-o-this.margin;var v=i.fillPath({seriesNumber:g,size:e.size,value:e.series[g]}),y=this.startAngle,b=void 0,w=x.negToZero(e.series[g]>100?100:e.series[g])/100,k=Math.round(this.totalAngle*w)+this.startAngle,C=void 0;t.globals.dataChanged&&(b=this.startAngle,C=Math.round(this.totalAngle*x.negToZero(t.globals.previousPaths[g])/100)+b),Math.abs(k)+Math.abs(y)>=360&&(k-=.01),Math.abs(C)+Math.abs(b)>=360&&(C-=.01);var A=k-y,T=Array.isArray(t.config.stroke.dashArray)?t.config.stroke.dashArray[g]:t.config.stroke.dashArray,I=n.drawPath({d:"",stroke:v,strokeWidth:o,fill:"none",fillOpacity:t.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+g,strokeDashArray:T});if(S.setAttrs(I.node,{"data:angle":A,"data:value":e.series[g]}),t.config.chart.dropShadow.enabled){var E=t.config.chart.dropShadow;r.dropShadow(I,E,g)}r.setSelectionFilter(I,0,g),this.addListeners(I,this.radialDataLabels),m.add(I),I.attr({index:0,j:g});var P=0;!this.initialAnim||t.globals.resized||t.globals.dataChanged||(P=t.config.chart.animations.speed),t.globals.dataChanged&&(P=t.config.chart.animations.dynamicAnimation.speed),this.animDur=P/(1.2*e.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(I,{centerX:e.centerX,centerY:e.centerY,endAngle:k,startAngle:y,prevEndAngle:C,prevStartAngle:b,size:e.size,i:g,totalItems:2,animBeginArr:this.animBeginArr,dur:P,shouldSetPrevPaths:!0,easing:t.globals.easing})}return{g:s,elHollow:u,dataLabels:f}}},{key:"drawHollow",value:function(e){var t=new S(this.ctx).drawCircle(2*e.size);return t.attr({class:"apexcharts-radialbar-hollow",cx:e.centerX,cy:e.centerY,r:e.size,fill:e.fill}),t}},{key:"drawHollowImage",value:function(e,t,n,i){var r=this.w,s=new L(this.ctx),o=x.randomId(),a=r.config.plotOptions.radialBar.hollow.image;if(r.config.plotOptions.radialBar.hollow.imageClipped)s.clippedImgArea({width:n,height:n,image:a,patternID:"pattern".concat(r.globals.cuid).concat(o)}),i="url(#pattern".concat(r.globals.cuid).concat(o,")");else{var l=r.config.plotOptions.radialBar.hollow.imageWidth,c=r.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var u=r.globals.dom.Paper.image(a).loaded((function(t){this.move(e.centerX-t.width/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-t.height/2+r.config.plotOptions.radialBar.hollow.imageOffsetY)}));t.add(u)}else{var h=r.globals.dom.Paper.image(a).loaded((function(t){this.move(e.centerX-l/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-c/2+r.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)}));t.add(h)}}return i}},{key:"getStrokeWidth",value:function(e){var t=this.w;return e.size*(100-parseInt(t.config.plotOptions.radialBar.hollow.size,10))/100/(e.series.length+1)-this.margin}}]),n}(),Le=function(){function e(t){a(this,e),this.w=t.w,this.lineCtx=t}return c(e,[{key:"sameValueSeriesFix",value:function(e,t){var n=this.w;if("line"===n.config.chart.type&&("gradient"===n.config.fill.type||"gradient"===n.config.fill.type[e])&&new k(this.lineCtx.ctx,n).seriesHaveSameValues(e)){var i=t[e].slice();i[i.length-1]=i[i.length-1]+1e-6,t[e]=i}return t}},{key:"calculatePoints",value:function(e){var t=e.series,n=e.realIndex,i=e.x,r=e.y,s=e.i,o=e.j,a=e.prevY,l=this.w,c=[],u=[];if(0===o){var h=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX;l.globals.isXNumeric&&(h=(l.globals.seriesX[n][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),c.push(h),u.push(x.isNumber(t[s][0])?a+l.config.markers.offsetY:null),c.push(i+l.config.markers.offsetX),u.push(x.isNumber(t[s][o+1])?r+l.config.markers.offsetY:null)}else c.push(i+l.config.markers.offsetX),u.push(x.isNumber(t[s][o+1])?r+l.config.markers.offsetY:null);return{x:c,y:u}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,n=e.pathFromArea,i=e.realIndex,r=this.w,s=0;s<r.globals.previousPaths.length;s++){var o=r.globals.previousPaths[s];("line"===o.type||"area"===o.type)&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(i,10)&&("line"===o.type?(this.lineCtx.appendPathFrom=!1,t=r.globals.previousPaths[s].paths[0].d):"area"===o.type&&(this.lineCtx.appendPathFrom=!1,n=r.globals.previousPaths[s].paths[0].d,r.config.stroke.show&&r.globals.previousPaths[s].paths[1]&&(t=r.globals.previousPaths[s].paths[1].d)))}return{pathFromLine:t,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(e){var t=e.i,n=e.series,i=e.prevY,r=e.lineYPosition,s=this.w;if(void 0!==n[t][0])i=(r=s.config.chart.stacked&&t>0?this.lineCtx.prevSeriesY[t-1][0]:this.lineCtx.zeroY)-n[t][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?n[t][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(s.config.chart.stacked&&t>0&&void 0===n[t][0])for(var o=t-1;o>=0;o--)if(null!==n[o][0]&&void 0!==n[o][0]){i=r=this.lineCtx.prevSeriesY[o][0];break}return{prevY:i,lineYPosition:r}}}]),e}(),Ne=function(){function e(t,n,i){a(this,e),this.ctx=t,this.w=t.w,this.xyRatios=n,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||i,this.scatter=new O(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Le(this),this.markers=new N(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return c(e,[{key:"draw",value:function(e,t,n){var i=this.w,r=new S(this.ctx),s=i.globals.comboCharts?t:i.config.chart.type,o=r.group({class:"apexcharts-".concat(s,"-series apexcharts-plot-series")}),a=new k(this.ctx,i);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=a.getLogSeries(e),this.yRatio=a.getLogYRatios(this.yRatio);for(var l=[],c=0;c<e.length;c++){e=this.lineHelpers.sameValueSeriesFix(c,e);var u=i.globals.comboCharts?n[c]:c;this._initSerieVariables(e,c,u);var h=[],d=[],f=i.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,u),i.globals.isXNumeric&&i.globals.seriesX.length>0&&(f=(i.globals.seriesX[u][0]-i.globals.minX)/this.xRatio),d.push(f);var p,g=f,m=g,v=this.zeroY;v=this.lineHelpers.determineFirstPrevY({i:c,series:e,prevY:v,lineYPosition:0}).prevY,h.push(v),p=v;var y=this._calculatePathsFrom({series:e,i:c,realIndex:u,prevX:m,prevY:v}),b=this._iterateOverDataPoints({series:e,realIndex:u,i:c,x:f,y:1,pX:g,pY:p,pathsFrom:y,linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:d,yArrj:h});this._handlePaths({type:s,realIndex:u,i:c,paths:b}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),l.push(this.elSeries)}if(i.config.chart.stacked)for(var x=l.length;x>0;x--)o.add(l[x-1]);else for(var w=0;w<l.length;w++)o.add(l[w]);return o}},{key:"_initSerieVariables",value:function(e,t,n){var i=this.w,r=new S(this.ctx);this.xDivision=i.globals.gridWidth/(i.globals.dataPoints-("on"===i.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(i.config.stroke.width)?i.config.stroke.width[n]:i.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=n),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed,this.zeroY=i.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?i.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>i.globals.gridHeight||"end"===i.config.plotOptions.area.fillTo)&&(this.areaBottomY=i.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=r.group({class:"apexcharts-series",seriesName:x.escapeString(i.globals.seriesNames[n])}),this.elPointsMain=r.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),this.elDataLabelsWrap=r.group({class:"apexcharts-datalabels","data:realIndex":n});var s=e[t].length===i.globals.dataPoints;this.elSeries.attr({"data:longestSeries":s,rel:t+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,n,i,r,s=e.series,o=e.i,a=e.realIndex,l=e.prevX,c=e.prevY,u=this.w,h=new S(this.ctx);if(null===s[o][0]){for(var d=0;d<s[o].length;d++)if(null!==s[o][d]){l=this.xDivision*d,c=this.zeroY-s[o][d]/this.yRatio[this.yaxisIndex],t=h.move(l,c),n=h.move(l,this.areaBottomY);break}}else t=h.move(l,c),n=h.move(l,this.areaBottomY)+h.line(l,c);if(i=h.move(-1,this.zeroY)+h.line(-1,this.zeroY),r=h.move(-1,this.zeroY)+h.line(-1,this.zeroY),u.globals.previousPaths.length>0){var f=this.lineHelpers.checkPreviousPaths({pathFromLine:i,pathFromArea:r,realIndex:a});i=f.pathFromLine,r=f.pathFromArea}return{prevX:l,prevY:c,linePath:t,areaPath:n,pathFromLine:i,pathFromArea:r}}},{key:"_handlePaths",value:function(e){var t=e.type,n=e.realIndex,i=e.i,r=e.paths,o=this.w,a=new S(this.ctx),l=new L(this.ctx);this.prevSeriesY.push(r.yArrj),o.globals.seriesXvalues[n]=r.xArrj,o.globals.seriesYvalues[n]=r.yArrj;var c=o.config.forecastDataPoints;if(c.count>0){var u=o.globals.seriesXvalues[n][o.globals.seriesXvalues[n].length-c.count-1],h=a.drawRect(u,0,o.globals.gridWidth,o.globals.gridHeight,0);o.globals.dom.elForecastMask.appendChild(h.node);var d=a.drawRect(0,0,u,o.globals.gridHeight,0);o.globals.dom.elNonForecastMask.appendChild(d.node)}this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var f={i,realIndex:n,animationDelay:i,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if("area"===t)for(var p=l.fillPath({seriesNumber:n}),g=0;g<r.areaPaths.length;g++){var m=a.renderPaths(s(s({},f),{},{pathFrom:r.pathFromArea,pathTo:r.areaPaths[g],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:p}));this.elSeries.add(m)}if(o.config.stroke.show&&!this.pointsChart){var v=null;if("line"===t)v=l.fillPath({seriesNumber:n,i});else if("solid"===o.config.stroke.fill.type)v=o.globals.stroke.colors[n];else{var y=o.config.fill;o.config.fill=o.config.stroke.fill,v=l.fillPath({seriesNumber:n,i}),o.config.fill=y}for(var b=0;b<r.linePaths.length;b++){var x=s(s({},f),{},{pathFrom:r.pathFromLine,pathTo:r.linePaths[b],stroke:v,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:"none"}),w=a.renderPaths(x);if(this.elSeries.add(w),c.count>0){var _=a.renderPaths(x);_.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&_.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(_),_.attr("clip-path","url(#forecastMask".concat(o.globals.cuid,")")),w.attr("clip-path","url(#nonForecastMask".concat(o.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){for(var t=e.series,n=e.realIndex,i=e.i,r=e.x,s=e.y,o=e.pX,a=e.pY,l=e.pathsFrom,c=e.linePaths,u=e.areaPaths,h=e.seriesIndex,d=e.lineYPosition,f=e.xArrj,p=e.yArrj,g=this.w,m=new S(this.ctx),v=this.yRatio,y=l.prevY,b=l.linePath,w=l.areaPath,_=l.pathFromLine,k=l.pathFromArea,C=x.isNumber(g.globals.minYArr[n])?g.globals.minYArr[n]:g.globals.minY,A=g.globals.dataPoints>1?g.globals.dataPoints-1:g.globals.dataPoints,T=0;T<A;T++){var I=void 0===t[i][T+1]||null===t[i][T+1];if(g.globals.isXNumeric){var E=g.globals.seriesX[n][T+1];void 0===g.globals.seriesX[n][T+1]&&(E=g.globals.seriesX[n][A-1]),r=(E-g.globals.minX)/this.xRatio}else r+=this.xDivision;d=g.config.chart.stacked&&i>0&&g.globals.collapsedSeries.length<g.config.series.length-1?this.prevSeriesY[function(e){for(var t=e,n=0;n<g.globals.series.length;n++)if(g.globals.collapsedSeriesIndices.indexOf(e)>-1){t--;break}return t>=0?t:0}(i-1)][T+1]:this.zeroY,s=I?d-C/v[this.yaxisIndex]+2*(this.isReversed?C/v[this.yaxisIndex]:0):d-t[i][T+1]/v[this.yaxisIndex]+2*(this.isReversed?t[i][T+1]/v[this.yaxisIndex]:0),f.push(r),p.push(s);var P=this.lineHelpers.calculatePoints({series:t,x:r,y:s,realIndex:n,i,j:T,prevY:y}),R=this._createPaths({series:t,i,realIndex:n,j:T,x:r,y:s,pX:o,pY:a,linePath:b,areaPath:w,linePaths:c,areaPaths:u,seriesIndex:h});u=R.areaPaths,c=R.linePaths,o=R.pX,a=R.pY,w=R.areaPath,b=R.linePath,this.appendPathFrom&&(_+=m.line(r,this.zeroY),k+=m.line(r,this.zeroY)),this.handleNullDataPoints(t,P,i,T,n),this._handleMarkersAndLabels({pointsPos:P,series:t,x:r,y:s,prevY:y,i,j:T,realIndex:n})}return{yArrj:p,xArrj:f,pathFromArea:k,areaPaths:u,pathFromLine:_,linePaths:c}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.pointsPos;e.series,e.x,e.y,e.prevY;var n=e.i,i=e.j,r=e.realIndex,s=this.w,o=new M(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,i,{realIndex:r,pointsPos:t,zRatio:this.zRatio,elParent:this.elPointsMain});else{s.globals.series[n].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var a=this.markers.plotChartMarkers(t,r,i+1);null!==a&&this.elPointsMain.add(a)}var l=o.drawDataLabel(t,r,i+1,null);null!==l&&this.elDataLabelsWrap.add(l)}},{key:"_createPaths",value:function(e){var t=e.series,n=e.i,i=e.realIndex,r=e.j,s=e.x,o=e.y,a=e.pX,l=e.pY,c=e.linePath,u=e.areaPath,h=e.linePaths,d=e.areaPaths,f=e.seriesIndex,p=this.w,g=new S(this.ctx),m=p.config.stroke.curve,v=this.areaBottomY;if(Array.isArray(p.config.stroke.curve)&&(m=Array.isArray(f)?p.config.stroke.curve[f[n]]:p.config.stroke.curve[n]),"smooth"===m){var y=.35*(s-a);p.globals.hasNullValues?(null!==t[n][r]&&(null!==t[n][r+1]?(c=g.move(a,l)+g.curve(a+y,l,s-y,o,s+1,o),u=g.move(a+1,l)+g.curve(a+y,l,s-y,o,s+1,o)+g.line(s,v)+g.line(a,v)+"z"):(c=g.move(a,l),u=g.move(a,l)+"z")),h.push(c),d.push(u)):(c+=g.curve(a+y,l,s-y,o,s,o),u+=g.curve(a+y,l,s-y,o,s,o)),a=s,l=o,r===t[n].length-2&&(u=u+g.curve(a,l,s,o,s,v)+g.move(s,o)+"z",p.globals.hasNullValues||(h.push(c),d.push(u)))}else{if(null===t[n][r+1]){c+=g.move(s,o);var b=p.globals.isXNumeric?(p.globals.seriesX[i][r]-p.globals.minX)/this.xRatio:s-this.xDivision;u=u+g.line(b,v)+g.move(s,o)+"z"}null===t[n][r]&&(c+=g.move(s,o),u+=g.move(s,v)),"stepline"===m?(c=c+g.line(s,null,"H")+g.line(null,o,"V"),u=u+g.line(s,null,"H")+g.line(null,o,"V")):"straight"===m&&(c+=g.line(s,o),u+=g.line(s,o)),r===t[n].length-2&&(u=u+g.line(s,v)+g.move(s,o)+"z",h.push(c),d.push(u))}return{linePaths:h,areaPaths:d,pX:a,pY:l,linePath:c,areaPath:u}}},{key:"handleNullDataPoints",value:function(e,t,n,i,r){var s=this.w;if(null===e[n][i]&&s.config.markers.showNullDataPoints||1===e[n].length){var o=this.markers.plotChartMarkers(t,r,i+1,this.strokeWidth-s.config.markers.strokeWidth/2,!0);null!==o&&this.elPointsMain.add(o)}}}]),e}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function e(t,n,i,r){this.xoffset=t,this.yoffset=n,this.height=r,this.width=i,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(e){var t,n=[],i=this.xoffset,r=this.yoffset,o=s(e)/this.height,a=s(e)/this.width;if(this.width>=this.height)for(t=0;t<e.length;t++)n.push([i,r,i+o,r+e[t]/o]),r+=e[t]/o;else for(t=0;t<e.length;t++)n.push([i,r,i+e[t]/a,r+a]),i+=e[t]/a;return n},this.cutArea=function(t){var n;if(this.width>=this.height){var i=t/this.height,r=this.width-i;n=new e(this.xoffset+i,this.yoffset,r,this.height)}else{var s=t/this.width,o=this.height-s;n=new e(this.xoffset,this.yoffset+s,this.width,o)}return n}}function t(t,i,r,o,a){return o=void 0===o?0:o,a=void 0===a?0:a,function(e){var t,n,i=[];for(t=0;t<e.length;t++)for(n=0;n<e[t].length;n++)i.push(e[t][n]);return i}(n(function(e,t){var n,i=[],r=t/s(e);for(n=0;n<e.length;n++)i[n]=e[n]*r;return i}(t,i*r),[],new e(o,a,i,r),[]))}function n(e,t,r,o){var a,l,c;if(0!==e.length)return a=r.shortestEdge(),function(e,t,n){var r;if(0===e.length)return!0;(r=e.slice()).push(t);var s=i(e,n),o=i(r,n);return s>=o}(t,l=e[0],a)?(t.push(l),n(e.slice(1),t,r,o)):(c=r.cutArea(s(t),o),o.push(r.getCoordinates(t)),n(e,[],c,o)),o;o.push(r.getCoordinates(t))}function i(e,t){var n=Math.min.apply(Math,e),i=Math.max.apply(Math,e),r=s(e);return Math.max(Math.pow(t,2)*i/Math.pow(r,2),Math.pow(r,2)/(Math.pow(t,2)*n))}function r(e){return e&&e.constructor===Array}function s(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t];return n}function o(e){var t,n=0;if(r(e[0]))for(t=0;t<e.length;t++)n+=o(e[t]);else n=s(e);return n}return function e(n,i,s,a,l){a=void 0===a?0:a,l=void 0===l?0:l;var c,u,h=[],d=[];if(r(n[0])){for(u=0;u<n.length;u++)h[u]=o(n[u]);for(c=t(h,i,s,a,l),u=0;u<n.length;u++)d.push(e(n[u],c[u][2]-c[u][0],c[u][3]-c[u][1],c[u][0],c[u][1]))}else d=t(n,i,s,a,l);return d}}();var Oe,Me,De=function(){function e(t,n){a(this,e),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Ae(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return c(e,[{key:"draw",value:function(e){var t=this,n=this.w,i=new S(this.ctx),r=new L(this.ctx),s=i.group({class:"apexcharts-treemap"});if(n.globals.noData)return s;var o=[];return e.forEach((function(e){var t=e.map((function(e){return Math.abs(e)}));o.push(t)})),this.negRange=this.helpers.checkColorRange(),n.config.series.forEach((function(e,n){e.data.forEach((function(e){Array.isArray(t.labels[n])||(t.labels[n]=[]),t.labels[n].push(e.x)}))})),window.TreemapSquared.generate(o,n.globals.gridWidth,n.globals.gridHeight).forEach((function(o,a){var l=i.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:x.escapeString(n.globals.seriesNames[a]),rel:a+1,"data:realIndex":a});if(n.config.chart.dropShadow.enabled){var c=n.config.chart.dropShadow;new _(t.ctx).dropShadow(s,c,a)}var u=i.group({class:"apexcharts-data-labels"});o.forEach((function(s,o){var c=s[0],u=s[1],h=s[2],d=s[3],f=i.drawRect(c,u,h-c,d-u,0,"#fff",1,t.strokeWidth,n.config.plotOptions.treemap.useFillColorAsStroke?g:n.globals.stroke.colors[a]);f.attr({cx:c,cy:u,index:a,i:a,j:o,width:h-c,height:d-u});var p=t.helpers.getShadeColor(n.config.chart.type,a,o,t.negRange),g=p.color;void 0!==n.config.series[a].data[o]&&n.config.series[a].data[o].fillColor&&(g=n.config.series[a].data[o].fillColor);var m=r.fillPath({color:g,seriesNumber:a,dataPointIndex:o});f.node.classList.add("apexcharts-treemap-rect"),f.attr({fill:m}),t.helpers.addListeners(f);var v={x:c+(h-c)/2,y:u+(d-u)/2,width:0,height:0},y={x:c,y:u,width:h-c,height:d-u};if(n.config.chart.animations.enabled&&!n.globals.dataChanged){var b=1;n.globals.resized||(b=n.config.chart.animations.speed),t.animateTreemap(f,v,y,b)}if(n.globals.dataChanged){var x=1;t.dynamicAnim.enabled&&n.globals.shouldAnimate&&(x=t.dynamicAnim.speed,n.globals.previousPaths[a]&&n.globals.previousPaths[a][o]&&n.globals.previousPaths[a][o].rect&&(v=n.globals.previousPaths[a][o].rect),t.animateTreemap(f,v,y,x))}var w=t.getFontSize(s),_=n.config.dataLabels.formatter(t.labels[a][o],{value:n.globals.series[a][o],seriesIndex:a,dataPointIndex:o,w:n}),S=t.helpers.calculateDataLabels({text:_,x:(c+h)/2,y:(u+d)/2+t.strokeWidth/2+w/3,i:a,j:o,colorProps:p,fontSize:w,series:e});n.config.dataLabels.enabled&&S&&t.rotateToFitLabel(S,_,c,u,h,d),l.add(f),null!==S&&l.add(S)})),l.add(u),s.add(l)})),s}},{key:"getFontSize",value:function(e){var t,n,i,r,s=this.w,o=function e(t){var n,i=0;if(Array.isArray(t[0]))for(n=0;n<t.length;n++)i+=e(t[n]);else for(n=0;n<t.length;n++)i+=t[n].length;return i}(this.labels)/function e(t){var n,i=0;if(Array.isArray(t[0]))for(n=0;n<t.length;n++)i+=e(t[n]);else for(n=0;n<t.length;n++)i+=1;return i}(this.labels);return t=e[2]-e[0],n=e[3]-e[1],i=t*n,r=Math.pow(i,.5),Math.min(r/o,parseInt(s.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(e,t,n,i,r,s){var o=new S(this.ctx),a=o.getTextRects(t);if(a.width+5>r-n&&a.width<=s-i){var l=o.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(l.x," ").concat(l.y,")"))}}},{key:"animateTreemap",value:function(e,t,n,i){var r=new w(this.ctx);r.animateRect(e,{x:t.x,y:t.y,width:t.width,height:t.height},{x:n.x,y:n.y,width:n.width,height:n.height},i,(function(){r.animationCompleted(e)}))}}]),e}(),Fe=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return c(e,[{key:"calculateTimeScaleTicks",value:function(e,t){var n=this,i=this.w;if(i.globals.allSeriesCollapsed)return i.globals.labels=[],i.globals.timescaleLabels=[],[];var r=new q(this.ctx),o=(t-e)/864e5;this.determineInterval(o),i.globals.disableZoomIn=!1,i.globals.disableZoomOut=!1,o<.00011574074074074075?i.globals.disableZoomIn=!0:o>5e4&&(i.globals.disableZoomOut=!0);var a=r.getTimeUnitsfromTimestamp(e,t,this.utc),l=i.globals.gridWidth/o,c=l/24,u=c/60,h=u/60,d=Math.floor(24*o),f=Math.floor(1440*o),p=Math.floor(86400*o),g=Math.floor(o),m=Math.floor(o/30),v=Math.floor(o/365),y={minMillisecond:a.minMillisecond,minSecond:a.minSecond,minMinute:a.minMinute,minHour:a.minHour,minDate:a.minDate,minMonth:a.minMonth,minYear:a.minYear},b={firstVal:y,currentMillisecond:y.minMillisecond,currentSecond:y.minSecond,currentMinute:y.minMinute,currentHour:y.minHour,currentMonthDate:y.minDate,currentDate:y.minDate,currentMonth:y.minMonth,currentYear:y.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:u,secondsWidthOnXAxis:h,numberOfSeconds:p,numberOfMinutes:f,numberOfHours:d,numberOfDays:g,numberOfMonths:m,numberOfYears:v};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var x=this.timeScaleArray.map((function(e){var t={position:e.position,unit:e.unit,year:e.year,day:e.day?e.day:1,hour:e.hour?e.hour:0,month:e.month+1};return"month"===e.unit?s(s({},t),{},{day:1,value:e.value+1}):"day"===e.unit||"hour"===e.unit?s(s({},t),{},{value:e.value}):"minute"===e.unit?s(s({},t),{},{value:e.value,minute:e.value}):"second"===e.unit?s(s({},t),{},{value:e.value,minute:e.minute,second:e.second}):e}));return x.filter((function(e){var t=1,r=Math.ceil(i.globals.gridWidth/120),s=e.value;void 0!==i.config.xaxis.tickAmount&&(r=i.config.xaxis.tickAmount),x.length>r&&(t=Math.floor(x.length/r));var o=!1,a=!1;switch(n.tickInterval){case"years":"year"===e.unit&&(o=!0);break;case"half_year":t=7,"year"===e.unit&&(o=!0);break;case"months":t=1,"year"===e.unit&&(o=!0);break;case"months_fortnight":t=15,"year"!==e.unit&&"month"!==e.unit||(o=!0),30===s&&(a=!0);break;case"months_days":t=10,"month"===e.unit&&(o=!0),30===s&&(a=!0);break;case"week_days":t=8,"month"===e.unit&&(o=!0);break;case"days":t=1,"month"===e.unit&&(o=!0);break;case"hours":"day"===e.unit&&(o=!0);break;case"minutes_fives":s%5!=0&&(a=!0);break;case"seconds_tens":s%10!=0&&(a=!0);break;case"seconds_fives":s%5!=0&&(a=!0)}if("hours"===n.tickInterval||"minutes_fives"===n.tickInterval||"seconds_tens"===n.tickInterval||"seconds_fives"===n.tickInterval){if(!a)return!0}else if((s%t==0||o)&&!a)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var n=this.w,i=this.formatDates(e),r=this.removeOverlappingTS(i);n.globals.timescaleLabels=r.slice(),new de(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,n=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case n>15:this.tickInterval="minutes_fives";break;case n>5:this.tickInterval="minutes";break;case n>1:this.tickInterval="seconds_tens";break;case 60*n>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,n=e.currentMonth,i=e.currentYear,r=e.daysWidthOnXAxis,s=e.numberOfYears,o=t.minYear,a=0,l=new q(this.ctx),c="year";if(t.minDate>1||t.minMonth>0){var u=l.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);a=(l.determineDaysOfYear(t.minYear)-u+1)*r,o=t.minYear+1,this.timeScaleArray.push({position:a,value:o,unit:c,year:o,month:x.monthMod(n+1)})}else 1===t.minDate&&0===t.minMonth&&this.timeScaleArray.push({position:a,value:o,unit:c,year:i,month:x.monthMod(n+1)});for(var h=o,d=a,f=0;f<s;f++)h++,d=l.determineDaysOfYear(h-1)*r+d,this.timeScaleArray.push({position:d,value:h,unit:c,year:h,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,n=e.currentMonthDate,i=e.currentMonth,r=e.currentYear,s=e.daysWidthOnXAxis,o=e.numberOfMonths,a=i,l=0,c=new q(this.ctx),u="month",h=0;if(t.minDate>1){l=(c.determineDaysOfMonths(i+1,t.minYear)-n+1)*s,a=x.monthMod(i+1);var d=r+h,f=x.monthMod(a),p=a;0===a&&(u="year",p=d,f=1,d+=h+=1),this.timeScaleArray.push({position:l,value:p,unit:u,year:d,month:f})}else this.timeScaleArray.push({position:l,value:a,unit:u,year:r,month:x.monthMod(i)});for(var g=a+1,m=l,v=0,y=1;v<o;v++,y++){0===(g=x.monthMod(g))?(u="year",h+=1):u="month";var b=this._getYear(r,g,h);m=c.determineDaysOfMonths(g,b)*s+m;var w=0===g?b:g;this.timeScaleArray.push({position:m,value:w,unit:u,year:b,month:0===g?1:g}),g++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,n=e.currentMonth,i=e.currentYear,r=e.hoursWidthOnXAxis,s=e.numberOfDays,o=new q(this.ctx),a="day",l=t.minDate+1,c=l,u=function(e,t,n){return e>o.determineDaysOfMonths(t+1,n)?(c=1,a="month",d=t+=1,t):t},h=(24-t.minHour)*r,d=l,f=u(c,n,i);0===t.minHour&&1===t.minDate?(h=0,d=x.monthMod(t.minMonth),a="month",c=t.minDate,s++):1!==t.minDate&&0===t.minHour&&0===t.minMinute&&(h=0,l=t.minDate,d=l,f=u(c=l,n,i)),this.timeScaleArray.push({position:h,value:d,unit:a,year:this._getYear(i,f,0),month:x.monthMod(f),day:c});for(var p=h,g=0;g<s;g++){a="day",f=u(c+=1,f,this._getYear(i,f,0));var m=this._getYear(i,f,0);p=24*r+p;var v=1===c?x.monthMod(f):c;this.timeScaleArray.push({position:p,value:v,unit:a,year:m,month:x.monthMod(f),day:v})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,n=e.currentDate,i=e.currentMonth,r=e.currentYear,s=e.minutesWidthOnXAxis,o=e.numberOfHours,a=new q(this.ctx),l="hour",c=function(e,t){return e>a.determineDaysOfMonths(t+1,r)&&(g=1,t+=1),{month:t,date:g}},u=function(e,t){return e>a.determineDaysOfMonths(t+1,r)?t+=1:t},h=60-(t.minMinute+t.minSecond/60),d=h*s,f=t.minHour+1,p=f+1;60===h&&(d=0,p=(f=t.minHour)+1);var g=n,m=u(g,i);this.timeScaleArray.push({position:d,value:f,unit:l,day:g,hour:p,year:r,month:x.monthMod(m)});for(var v=d,y=0;y<o;y++){l="hour",p>=24&&(p=0,l="day",m=c(g+=1,m).month,m=u(g,m));var b=this._getYear(r,m,0);v=0===p&&0===y?h*s:60*s+v;var w=0===p?g:p;this.timeScaleArray.push({position:v,value:w,unit:l,hour:p,day:g,year:b,month:x.monthMod(m)}),p++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,i=e.currentMinute,r=e.currentHour,s=e.currentDate,o=e.currentMonth,a=e.currentYear,l=e.minutesWidthOnXAxis,c=e.secondsWidthOnXAxis,u=e.numberOfMinutes,h=i+1,d=s,f=o,p=a,g=r,m=(60-n-t/1e3)*c,v=0;v<u;v++)h>=60&&(h=0,24===(g+=1)&&(g=0)),this.timeScaleArray.push({position:m,value:h,unit:"minute",hour:g,minute:h,day:d,year:this._getYear(p,f,0),month:x.monthMod(f)}),m+=l,h++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,i=e.currentMinute,r=e.currentHour,s=e.currentDate,o=e.currentMonth,a=e.currentYear,l=e.secondsWidthOnXAxis,c=e.numberOfSeconds,u=n+1,h=i,d=s,f=o,p=a,g=r,m=(1e3-t)/1e3*l,v=0;v<c;v++)u>=60&&(u=0,++h>=60&&(h=0,24===++g&&(g=0))),this.timeScaleArray.push({position:m,value:u,unit:"second",hour:g,minute:h,second:u,day:d,year:this._getYear(p,f,0),month:x.monthMod(f)}),m+=l,u++}},{key:"createRawDateString",value:function(e,t){var n=e.year;return 0===e.month&&(e.month=1),n+="-"+("0"+e.month.toString()).slice(-2),"day"===e.unit?n+="day"===e.unit?"-"+("0"+t).slice(-2):"-01":n+="-"+("0"+(e.day?e.day:"1")).slice(-2),"hour"===e.unit?n+="hour"===e.unit?"T"+("0"+t).slice(-2):"T00":n+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),"minute"===e.unit?n+=":"+("0"+t).slice(-2):n+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),"second"===e.unit?n+=":"+("0"+t).slice(-2):n+=":00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(e){var t=this,n=this.w;return e.map((function(e){var i=e.value.toString(),r=new q(t.ctx),s=t.createRawDateString(e,i),o=r.getDate(r.parseDate(s));if(t.utc||(o=r.getDate(r.parseDateWithTimezone(s))),void 0===n.config.xaxis.labels.format){var a="dd MMM",l=n.config.xaxis.labels.datetimeFormatter;"year"===e.unit&&(a=l.year),"month"===e.unit&&(a=l.month),"day"===e.unit&&(a=l.day),"hour"===e.unit&&(a=l.hour),"minute"===e.unit&&(a=l.minute),"second"===e.unit&&(a=l.second),i=r.formatDate(o,a)}else i=r.formatDate(o,n.config.xaxis.labels.format);return{dateString:s,position:e.position,value:i,unit:e.unit,year:e.year,month:e.month}}))}},{key:"removeOverlappingTS",value:function(e){var t,n=this,i=new S(this.ctx),r=!1;e.length>0&&e[0].value&&e.every((function(t){return t.value.length===e[0].value.length}))&&(r=!0,t=i.getTextRects(e[0].value).width);var s=0,o=e.map((function(o,a){if(a>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var l=r?t:i.getTextRects(e[s].value).width,c=e[s].position;return o.position>c+l+10?(s=a,o):null}return o}));return o.filter((function(e){return null!==e}))}},{key:"_getYear",value:function(e,t,n){return e+Math.floor(t/12)+n}}]),e}(),ze=function(){function e(t,n){a(this,e),this.ctx=n,this.w=n.w,this.el=t}return c(e,[{key:"setupElements",value:function(){var e=this.w.globals,t=this.w.config,n=t.chart.type;e.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(n)>-1,e.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(n)>-1,e.isBarHorizontal=("bar"===t.chart.type||"rangeBar"===t.chart.type||"boxPlot"===t.chart.type)&&t.plotOptions.bar.horizontal,e.chartClass=".apexcharts"+e.chartID,e.dom.baseEl=this.el,e.dom.elWrap=document.createElement("div"),S.setAttrs(e.dom.elWrap,{id:e.chartClass.substring(1),class:"apexcharts-canvas "+e.chartClass.substring(1)}),this.el.appendChild(e.dom.elWrap),e.dom.Paper=new window.SVG.Doc(e.dom.elWrap),e.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(t.chart.offsetX,", ").concat(t.chart.offsetY,")")}),e.dom.Paper.node.style.background=t.chart.background,this.setSVGDimensions(),e.dom.elGraphical=e.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),e.dom.elAnnotations=e.dom.Paper.group().attr({class:"apexcharts-annotations"}),e.dom.elDefs=e.dom.Paper.defs(),e.dom.elLegendWrap=document.createElement("div"),e.dom.elLegendWrap.classList.add("apexcharts-legend"),e.dom.elWrap.appendChild(e.dom.elLegendWrap),e.dom.Paper.add(e.dom.elGraphical),e.dom.elGraphical.add(e.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var n=this.w,i=n.config,r=n.globals,s={series:[],i:[]},o={series:[],i:[]},a={series:[],i:[]},l={series:[],i:[]},c={series:[],i:[]},u={series:[],i:[]},h={series:[],i:[]};r.series.map((function(t,d){var f=0;void 0!==e[d].type?("column"===e[d].type||"bar"===e[d].type?(r.series.length>1&&i.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),c.series.push(t),c.i.push(d),f++,n.globals.columnSeries=c.series):"area"===e[d].type?(o.series.push(t),o.i.push(d),f++):"line"===e[d].type?(s.series.push(t),s.i.push(d),f++):"scatter"===e[d].type?(a.series.push(t),a.i.push(d)):"bubble"===e[d].type?(l.series.push(t),l.i.push(d),f++):"candlestick"===e[d].type?(u.series.push(t),u.i.push(d),f++):"boxPlot"===e[d].type?(h.series.push(t),h.i.push(d),f++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),f>1&&(r.comboCharts=!0)):(s.series.push(t),s.i.push(d))}));var d=new Ne(this.ctx,t),f=new Ce(this.ctx,t);this.ctx.pie=new Ee(this.ctx);var p=new Re(this.ctx);this.ctx.rangeBar=new V(this.ctx,t);var g=new Pe(this.ctx),m=[];if(r.comboCharts){if(o.series.length>0&&m.push(d.draw(o.series,"area",o.i)),c.series.length>0)if(n.config.chart.stacked){var v=new ke(this.ctx,t);m.push(v.draw(c.series,c.i))}else this.ctx.bar=new B(this.ctx,t),m.push(this.ctx.bar.draw(c.series,c.i));if(s.series.length>0&&m.push(d.draw(s.series,"line",s.i)),u.series.length>0&&m.push(f.draw(u.series,u.i)),h.series.length>0&&m.push(f.draw(h.series,h.i)),a.series.length>0){var y=new Ne(this.ctx,t,!0);m.push(y.draw(a.series,"scatter",a.i))}if(l.series.length>0){var b=new Ne(this.ctx,t,!0);m.push(b.draw(l.series,"bubble",l.i))}}else switch(i.chart.type){case"line":m=d.draw(r.series,"line");break;case"area":m=d.draw(r.series,"area");break;case"bar":i.chart.stacked?m=new ke(this.ctx,t).draw(r.series):(this.ctx.bar=new B(this.ctx,t),m=this.ctx.bar.draw(r.series));break;case"candlestick":m=new Ce(this.ctx,t).draw(r.series);break;case"boxPlot":m=new Ce(this.ctx,t).draw(r.series);break;case"rangeBar":m=this.ctx.rangeBar.draw(r.series);break;case"heatmap":m=new Te(this.ctx,t).draw(r.series);break;case"treemap":m=new De(this.ctx,t).draw(r.series);break;case"pie":case"donut":case"polarArea":m=this.ctx.pie.draw(r.series);break;case"radialBar":m=p.draw(r.series);break;case"radar":m=g.draw(r.series);break;default:m=d.draw(r.series)}return m}},{key:"setSVGDimensions",value:function(){var e=this.w.globals,t=this.w.config;e.svgWidth=t.chart.width,e.svgHeight=t.chart.height;var n=x.getDimensions(this.el),i=t.chart.width.toString().split(/[0-9]+/g).pop();"%"===i?x.isNumber(n[0])&&(0===n[0].width&&(n=x.getDimensions(this.el.parentNode)),e.svgWidth=n[0]*parseInt(t.chart.width,10)/100):"px"!==i&&""!==i||(e.svgWidth=parseInt(t.chart.width,10));var r=t.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==e.svgHeight&&""!==e.svgHeight)if("%"===r){var s=x.getDimensions(this.el.parentNode);e.svgHeight=s[1]*parseInt(t.chart.height,10)/100}else e.svgHeight=parseInt(t.chart.height,10);else e.axisCharts?e.svgHeight=e.svgWidth/1.61:e.svgHeight=e.svgWidth/1.2;if(e.svgWidth<0&&(e.svgWidth=0),e.svgHeight<0&&(e.svgHeight=0),S.setAttrs(e.dom.Paper.node,{width:e.svgWidth,height:e.svgHeight}),"%"!==r){var o=t.chart.sparkline.enabled?0:e.axisCharts?t.chart.parentHeightOffset:0;e.dom.Paper.node.parentNode.parentNode.style.minHeight=e.svgHeight+o+"px"}e.dom.elWrap.style.width=e.svgWidth+"px",e.dom.elWrap.style.height=e.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,n={transform:"translate("+e.translateX+", "+t+")"};S.setAttrs(e.dom.elGraphical.node,n)}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=0,i=e.config.chart.sparkline.enabled?1:15;i+=e.config.grid.padding.bottom,"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||!e.config.legend.show||e.config.legend.floating||(n=new pe(this.ctx).legendHelpers.getLegendBBox().clwh+10);var r=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),s=2.05*e.globals.radialSize;if(r&&!e.config.chart.sparkline.enabled&&0!==e.config.plotOptions.radialBar.startAngle){var o=x.getBoundingClientRect(r);s=o.bottom;var a=o.bottom-o.top;s=Math.max(2.05*e.globals.radialSize,a)}var l=s+t.translateY+n+i;t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",l),e.config.chart.height&&String(e.config.chart.height).indexOf("%")>0||(t.dom.elWrap.style.height=l+"px",S.setAttrs(t.dom.Paper.node,{height:l}),t.dom.Paper.node.parentNode.parentNode.style.minHeight=l+"px")}},{key:"coreCalculations",value:function(){new J(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map((function(e){return[]}))},n=new j,i=this.w.globals;n.initGlobalVars(i),i.seriesXvalues=t(),i.seriesYvalues=t()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var e=null,t=this.w;if(t.globals.axisCharts){if("back"===t.config.xaxis.crosshairs.position&&new re(this.ctx).drawXCrosshairs(),"back"===t.config.yaxis[0].crosshairs.position&&new re(this.ctx).drawYCrosshairs(),"datetime"===t.config.xaxis.type&&void 0===t.config.xaxis.labels.formatter){this.ctx.timeScale=new Fe(this.ctx);var n=[];isFinite(t.globals.minX)&&isFinite(t.globals.maxX)&&!t.globals.isBarHorizontal?n=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minX,t.globals.maxX):t.globals.isBarHorizontal&&(n=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minY,t.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(n)}e=new k(this.ctx).getCalculatedRatios()}return e}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.w;if(t.config.chart.brush.enabled&&"function"!=typeof t.config.chart.events.selection){var n=t.config.chart.brush.targets||[t.config.chart.brush.target];n.forEach((function(t){var n=ApexCharts.getChartByID(t);n.w.globals.brushSource=e.ctx,"function"!=typeof n.w.config.chart.events.zoomed&&(n.w.config.chart.events.zoomed=function(){e.updateSourceChart(n)}),"function"!=typeof n.w.config.chart.events.scrolled&&(n.w.config.chart.events.scrolled=function(){e.updateSourceChart(n)})})),t.config.chart.events.selection=function(e,i){n.forEach((function(e){var n=ApexCharts.getChartByID(e),r=x.clone(t.config.yaxis);if(t.config.chart.brush.autoScaleYaxis&&1===n.w.globals.series.length){var o=new Q(n);r=o.autoScaleY(n,r,i)}var a=n.w.config.yaxis.reduce((function(e,t,i){return[].concat(v(e),[s(s({},n.w.config.yaxis[i]),{},{min:r[0].min,max:r[0].max})])}),[]);n.ctx.updateHelpers._updateOptions({xaxis:{min:i.xaxis.min,max:i.xaxis.max},yaxis:a},!1,!1,!1,!1)}))}}}}]),e}(),Be=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"_updateOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((function(a){var l=[t.ctx];r&&(l=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(l=[t.ctx],t.ctx.w.globals.isExecCalled=!1),l.forEach((function(r,c){var u=r.w;if(u.globals.shouldAnimate=i,n||(u.globals.resized=!0,u.globals.dataChanged=!0,i&&r.series.getPreviousPaths()),e&&"object"===o(e)&&(r.config=new U(e),e=k.extendArrayProps(r.config,e,u),r.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,u.config=x.extend(u.config,e),s&&(u.globals.lastXAxis=e.xaxis?x.clone(e.xaxis):[],u.globals.lastYAxis=e.yaxis?x.clone(e.yaxis):[],u.globals.initialConfig=x.extend({},u.config),u.globals.initialSeries=x.clone(u.config.series),e.series))){for(var h=0;h<u.globals.collapsedSeriesIndices.length;h++){var d=u.config.series[u.globals.collapsedSeriesIndices[h]];u.globals.collapsedSeries[h].data=u.globals.axisCharts?d.data.slice():d}for(var f=0;f<u.globals.ancillaryCollapsedSeriesIndices.length;f++){var p=u.config.series[u.globals.ancillaryCollapsedSeriesIndices[f]];u.globals.ancillaryCollapsedSeries[f].data=u.globals.axisCharts?p.data.slice():p}r.series.emptyCollapsedSeries(u.config.series)}return r.update(e).then((function(){c===l.length-1&&a(r)}))}))}))}},{key:"_updateSeries",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(r){var s,o=n.w;return o.globals.shouldAnimate=t,o.globals.dataChanged=!0,t&&n.ctx.series.getPreviousPaths(),o.globals.axisCharts?(0===(s=e.map((function(e,t){return n._extendSeries(e,t)}))).length&&(s=[{data:[]}]),o.config.series=s):o.config.series=e.slice(),i&&(o.globals.initialSeries=x.clone(o.config.series)),n.ctx.update().then((function(){r(n.ctx)}))}))}},{key:"_extendSeries",value:function(e,t){var n=this.w,i=n.config.series[t];return s(s({},n.config.series[t]),{},{name:e.name?e.name:i&&i.name,color:e.color?e.color:i&&i.color,type:e.type?e.type:i&&i.type,data:e.data?e.data:i&&i.data})}},{key:"toggleDataPointSelection",value:function(e,t){var n=this.w,i=null,r=".apexcharts-series[data\\:realIndex='".concat(e,"']");return n.globals.axisCharts?i=n.globals.dom.Paper.select("".concat(r," path[j='").concat(t,"'], ").concat(r," circle[j='").concat(t,"'], ").concat(r," rect[j='").concat(t,"']")).members[0]:void 0===t&&(i=n.globals.dom.Paper.select("".concat(r," path[j='").concat(e,"']")).members[0],"pie"!==n.config.chart.type&&"polarArea"!==n.config.chart.type&&"donut"!==n.config.chart.type||this.ctx.pie.pieClicked(e)),i?(new S(this.ctx).pathMouseDown(i,null),i.node?i.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach((function(n){void 0!==e.xaxis[n]&&(t.config.xaxis[n]=e.xaxis[n],t.globals.lastXAxis[n]=e.xaxis[n])})),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var n=new H(e);e=n.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){var t=this.w;return t.config.chart.stacked&&"100%"===t.config.chart.stackType&&(Array.isArray(e.yaxis)?e.yaxis.forEach((function(t,n){e.yaxis[n].min=0,e.yaxis[n].max=100})):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,n=this.w,i=n.globals.lastXAxis,r=n.globals.lastYAxis;e&&e.xaxis&&(i=e.xaxis),e&&e.yaxis&&(r=e.yaxis),n.config.xaxis.min=i.min,n.config.xaxis.max=i.max;var s=function(e){void 0!==r[e]&&(n.config.yaxis[e].min=r[e].min,n.config.yaxis[e].max=r[e].max)};n.config.yaxis.map((function(e,i){n.globals.zoomed||void 0!==r[i]?s(i):void 0!==t.ctx.opts.yaxis[i]&&(e.min=t.ctx.opts.yaxis[i].min,e.max=t.ctx.opts.yaxis[i].max)}))}}]),e}();Oe="undefined"!=typeof window?window:void 0,Me=function(e,t){var n=(void 0!==this?this:e).SVG=function(e){if(n.supported)return e=new n.Doc(e),n.parser.draw||n.prepare(),e};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.dev",n.supported=!0,!n.supported)return!1;n.did=1e3,n.eid=function(e){return"Svgjs"+h(e)+n.did++},n.create=function(e){var n=t.createElementNS(this.ns,e);return n.setAttribute("id",this.eid(e)),n},n.extend=function(){var e,t;t=(e=[].slice.call(arguments)).pop();for(var i=e.length-1;i>=0;i--)if(e[i])for(var r in t)e[i].prototype[r]=t[r];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(e){var t="function"==typeof e.create?e.create:function(){this.constructor.call(this,n.create(e.create))};return e.inherit&&(t.prototype=new e.inherit),e.extend&&n.extend(t,e.extend),e.construct&&n.extend(e.parent||n.Container,e.construct),t},n.adopt=function(t){return t?t.instance?t.instance:((i="svg"==t.nodeName?t.parentNode instanceof e.SVGElement?new n.Nested:new n.Doc:"linearGradient"==t.nodeName?new n.Gradient("linear"):"radialGradient"==t.nodeName?new n.Gradient("radial"):n[h(t.nodeName)]?new(n[h(t.nodeName)]):new n.Element(t)).type=t.nodeName,i.node=t,t.instance=i,i instanceof n.Doc&&i.namespace().defs(),i.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),i):null;var i},n.prepare=function(){var e=t.getElementsByTagName("body")[0],i=(e?new n.Doc(e):n.adopt(t.documentElement).nested()).size(2,0);n.parser={body:e||t.documentElement,draw:i.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:i.polyline().node,path:i.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},t.addEventListener("DOMContentLoaded",(function(){n.parser.draw||n.prepare()}),!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(e,t){for(var n=e.length,i=[],r=0;r<n;r++)i.push(t(e[r]));return i},filter:function(e,t){for(var n=e.length,i=[],r=0;r<n;r++)t(e[r])&&i.push(e[r]);return i},filterSVGElements:function(t){return this.filter(t,(function(t){return t instanceof e.SVGElement}))}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(e){var t,i;this.r=0,this.g=0,this.b=0,e&&("string"==typeof e?n.regex.isRgb.test(e)?(t=n.regex.rgb.exec(e.replace(n.regex.whitespace,"")),this.r=parseInt(t[1]),this.g=parseInt(t[2]),this.b=parseInt(t[3])):n.regex.isHex.test(e)&&(t=n.regex.hex.exec(4==(i=e).length?["#",i.substring(1,2),i.substring(1,2),i.substring(2,3),i.substring(2,3),i.substring(3,4),i.substring(3,4)].join(""):i),this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16)):"object"===o(e)&&(this.r=e.r,this.g=e.g,this.b=e.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+d(this.r)+d(this.g)+d(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(e){return this.destination=new n.Color(e),this},at:function(e){return this.destination?(e=e<0?0:e>1?1:e,new n.Color({r:~~(this.r+(this.destination.r-this.r)*e),g:~~(this.g+(this.destination.g-this.g)*e),b:~~(this.b+(this.destination.b-this.b)*e)})):this}}),n.Color.test=function(e){return e+="",n.regex.isHex.test(e)||n.regex.isRgb.test(e)},n.Color.isRgb=function(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b},n.Color.isColor=function(e){return n.Color.isRgb(e)||n.Color.test(e)},n.Array=function(e,t){0==(e=(e||[]).valueOf()).length&&t&&(e=t.valueOf()),this.value=this.parse(e)},n.extend(n.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)}}),n.PointArray=function(e,t){n.Array.call(this,e,t||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray;for(var i={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]}},r="mlhvqtcsaz".split(""),s=0,a=r.length;s<a;++s)i[r[s]]=function(e){return function(t,n,r){if("H"==e)t[0]=t[0]+n.x;else if("V"==e)t[0]=t[0]+n.y;else if("A"==e)t[5]=t[5]+n.x,t[6]=t[6]+n.y;else for(var s=0,o=t.length;s<o;++s)t[s]=t[s]+(s%2?n.y:n.x);if(i&&"function"==typeof i[e])return i[e](t,n,r)}}(r[s].toUpperCase());n.PathArray=function(e,t){n.Array.call(this,e,t||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return function(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t][0],null!=e[t][1]&&(i+=e[t][1],null!=e[t][2]&&(i+=" ",i+=e[t][2],null!=e[t][3]&&(i+=" ",i+=e[t][3],i+=" ",i+=e[t][4],null!=e[t][5]&&(i+=" ",i+=e[t][5],i+=" ",i+=e[t][6],null!=e[t][7]&&(i+=" ",i+=e[t][7])))));return i+" "}(this.value)},move:function(e,t){var n=this.bbox();return n.x,n.y,this},at:function(e){if(!this.destination)return this;for(var t=this.value,i=this.destination.value,r=[],s=new n.PathArray,o=0,a=t.length;o<a;o++){r[o]=[t[o][0]];for(var l=1,c=t[o].length;l<c;l++)r[o][l]=t[o][l]+(i[o][l]-t[o][l])*e;"A"===r[o][0]&&(r[o][4]=+(0!=r[o][4]),r[o][5]=+(0!=r[o][5]))}return s.value=r,s},parse:function(e){if(e instanceof n.PathArray)return e.valueOf();var t,r={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};e="string"==typeof e?e.replace(n.regex.numbersWithDots,c).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):e.reduce((function(e,t){return[].concat.call(e,t)}),[]);var s=[],o=new n.Point,a=new n.Point,l=0,u=e.length;do{n.regex.isPathLetter.test(e[l])?(t=e[l],++l):"M"==t?t="L":"m"==t&&(t="l"),s.push(i[t].call(null,e.slice(l,l+=r[t.toUpperCase()]).map(parseFloat),o,a))}while(u>l);return s},bbox:function(){return n.parser.draw||n.prepare(),n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(e,t){this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(t=e.match(n.regex.numberAndUnit))&&(this.value=parseFloat(t[1]),"%"==t[5]?this.value/=100:"s"==t[5]&&(this.value*=1e3),this.unit=t[5]):e instanceof n.Number&&(this.value=e.valueOf(),this.unit=e.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(e){return e=new n.Number(e),new n.Number(this+e,this.unit||e.unit)},minus:function(e){return e=new n.Number(e),new n.Number(this-e,this.unit||e.unit)},times:function(e){return e=new n.Number(e),new n.Number(this*e,this.unit||e.unit)},divide:function(e){return e=new n.Number(e),new n.Number(this/e,this.unit||e.unit)},to:function(e){var t=new n.Number(this);return"string"==typeof e&&(t.unit=e),t},morph:function(e){return this.destination=new n.Number(e),e.relative&&(this.destination.value+=this.value),this},at:function(e){return this.destination?new n.Number(this.destination).minus(this).times(e).plus(this):this}}}),n.Element=n.invent({create:function(e){this._stroke=n.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=e)&&(this.type=e.nodeName,this.node.instance=this,this._stroke=e.getAttribute("stroke")||this._stroke)},extend:{x:function(e){return this.attr("x",e)},y:function(e){return this.attr("y",e)},cx:function(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)},cy:function(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},width:function(e){return this.attr("width",e)},height:function(e){return this.attr("height",e)},size:function(e,t){var i=f(this,e,t);return this.width(new n.Number(i.width)).height(new n.Number(i.height))},clone:function(e){this.writeDataToDom();var t=m(this.node.cloneNode(!0));return e?e.add(t):this.after(t),t},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(e){return this.after(e).remove(),e},addTo:function(e){return e.put(this)},putIn:function(e){return e.add(this)},id:function(e){return this.attr("id",e)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var e=this.attr("class");return null==e?[]:e.trim().split(n.regex.delimiter)},hasClass:function(e){return-1!=this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){var t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter((function(t){return t!=e})).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},reference:function(e){return n.get(this.attr(e))},parent:function(t){var i=this;if(!i.node.parentNode)return null;if(i=n.adopt(i.node.parentNode),!t)return i;for(;i&&i.node instanceof e.SVGElement;){if("string"==typeof t?i.matches(t):i instanceof t)return i;if(!i.node.parentNode||"#document"==i.node.parentNode.nodeName)return null;i=n.adopt(i.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(e){var t=[],n=this;do{if(!(n=n.parent(e))||!n.node)break;t.push(n)}while(n.parent);return t},matches:function(e){return function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}(this.node,e)},native:function(){return this.node},svg:function(e){var i=t.createElement("svg");if(!(e&&this instanceof n.Parent))return i.appendChild(e=t.createElement("svg")),this.writeDataToDom(),e.appendChild(this.node.cloneNode(!0)),i.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");i.innerHTML="<svg>"+e.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var r=0,s=i.firstChild.childNodes.length;r<s;r++)this.node.appendChild(i.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(e){return this.dom=e,this},is:function(e){return function(e,t){return e instanceof t}(this,e)}}}),n.easing={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)}},n.morph=function(e){return function(t,i){return new n.MorphObj(t,i).at(e)}},n.Situation=n.invent({create:function(e){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(e.duration).valueOf(),this.delay=new n.Number(e.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=e.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(e){this._target=e,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(e,t,i){"object"===o(e)&&(t=e.ease,i=e.delay,e=e.duration);var r=new n.Situation({duration:e||1e3,delay:i||0,ease:n.easing[t||"-"]||t});return this.queue(r),this},target:function(e){return e&&e instanceof n.Element?(this._target=e,this):this._target},timeToAbsPos:function(e){return(e-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(e){return this.situation.duration/this._speed*e+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=e.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){e.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(e){return("function"==typeof e||e instanceof n.Situation)&&this.situations.push(e),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var e,t=this.situation;if(t.init)return this;for(var i in t.animations){e=this.target()[i](),Array.isArray(e)||(e=[e]),Array.isArray(t.animations[i])||(t.animations[i]=[t.animations[i]]);for(var r=e.length;r--;)t.animations[i][r]instanceof n.Number&&(e[r]=new n.Number(e[r])),t.animations[i][r]=e[r].morph(t.animations[i][r])}for(var i in t.attrs)t.attrs[i]=new n.MorphObj(this.target().attr(i),t.attrs[i]);for(var i in t.styles)t.styles[i]=new n.MorphObj(this.target().style(i),t.styles[i]);return t.initialTransformation=this.target().matrixify(),t.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(e,t){var n=this.active;return this.active=!1,t&&this.clearQueue(),e&&this.situation&&(!n&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(e){var t=this.last();return this.target().on("finished.fx",(function n(i){i.detail.situation==t&&(e.call(this,t),this.off("finished.fx",n))})),this._callStart()},during:function(e){var t=this.last(),i=function(i){i.detail.situation==t&&e.call(this,i.detail.pos,n.morph(i.detail.pos),i.detail.eased,t)};return this.target().off("during.fx",i).on("during.fx",i),this.after((function(){this.off("during.fx",i)})),this._callStart()},afterAll:function(e){var t=function t(n){e.call(this),this.off("allfinished.fx",t)};return this.target().off("allfinished.fx",t).on("allfinished.fx",t),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(e,t,n){return this.last()[n||"animations"][e]=t,this._callStart()},step:function(e){var t,n,i;e||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(t=Math.max(this.absPos,0),n=Math.floor(t),!0===this.situation.loops||n<this.situation.loops?(this.pos=t-n,i=this.situation.loop,this.situation.loop=n):(this.absPos=this.situation.loops,this.pos=1,i=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-i)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var r=this.situation.ease(this.pos);for(var s in this.situation.once)s>this.lastPos&&s<=r&&(this.situation.once[s].call(this.target(),this.pos,r),delete this.situation.once[s]);return this.active&&this.target().fire("during",{pos:this.pos,eased:r,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=r,this):this},eachAt:function(){var e,t=this,i=this.target(),r=this.situation;for(var s in r.animations)e=[].concat(r.animations[s]).map((function(e){return"string"!=typeof e&&e.at?e.at(r.ease(t.pos),t.pos):e})),i[s].apply(i,e);for(var s in r.attrs)e=[s].concat(r.attrs[s]).map((function(e){return"string"!=typeof e&&e.at?e.at(r.ease(t.pos),t.pos):e})),i.attr.apply(i,e);for(var s in r.styles)e=[s].concat(r.styles[s]).map((function(e){return"string"!=typeof e&&e.at?e.at(r.ease(t.pos),t.pos):e})),i.style.apply(i,e);if(r.transforms.length){e=r.initialTransformation,s=0;for(var o=r.transforms.length;s<o;s++){var a=r.transforms[s];a instanceof n.Matrix?e=a.relative?e.multiply((new n.Matrix).morph(a).at(r.ease(this.pos))):e.morph(a).at(r.ease(this.pos)):(a.relative||a.undo(e.extract()),e=e.multiply(a.at(r.ease(this.pos))))}i.matrix(e)}return this},once:function(e,t,n){var i=this.last();return n||(e=i.ease(e)),i.once[e]=t,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(e,t,i){return(this.fx||(this.fx=new n.FX(this))).animate(e,t,i)},delay:function(e){return(this.fx||(this.fx=new n.FX(this))).delay(e)},stop:function(e,t){return this.fx&&this.fx.stop(e,t),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),n.MorphObj=n.invent({create:function(e,t){return n.Color.isColor(t)?new n.Color(e).morph(t):n.regex.delimiter.test(e)?n.regex.pathLetters.test(e)?new n.PathArray(e).morph(t):new n.Array(e).morph(t):n.regex.numberAndUnit.test(t)?new n.Number(e).morph(t):(this.value=e,void(this.destination=t))},extend:{at:function(e,t){return t<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(e,t,n){if("object"===o(e))for(var i in e)this.attr(i,e[i]);else this.add(e,t,"attrs");return this},plot:function(e,t,n,i){return 4==arguments.length?this.plot([e,t,n,i]):this.add("plot",new(this.target().morphArray)(e))}}),n.Box=n.invent({create:function(e,t,i,r){if(!("object"!==o(e)||e instanceof n.Element))return n.Box.call(this,null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height);4==arguments.length&&(this.x=e,this.y=t,this.width=i,this.height=r),v(this)}}),n.BBox=n.invent({create:function(e){if(n.Box.apply(this,[].slice.call(arguments)),e instanceof n.Element){var i;try{if(!t.documentElement.contains){for(var r=e.node;r.parentNode;)r=r.parentNode;if(r!=t)throw new Error("Element not in the dom")}i=e.node.getBBox()}catch(t){if(e instanceof n.Shape){n.parser.draw||n.prepare();var s=e.clone(n.parser.draw.instance).show();s&&s.node&&"function"==typeof s.node.getBBox&&(i=s.node.getBBox()),s&&"function"==typeof s.remove&&s.remove()}else i={x:e.node.clientLeft,y:e.node.clientTop,width:e.node.clientWidth,height:e.node.clientHeight}}n.Box.call(this,i)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.Matrix=n.invent({create:function(e){var t=g([1,0,0,1,0,0]);e=null===e?t:e instanceof n.Element?e.matrixify():"string"==typeof e?g(e.split(n.regex.delimiter).map(parseFloat)):6==arguments.length?g([].slice.call(arguments)):Array.isArray(e)?g(e):e&&"object"===o(e)?e:t;for(var i=b.length-1;i>=0;--i)this[b[i]]=null!=e[b[i]]?e[b[i]]:t[b[i]]},extend:{extract:function(){var e=p(this,0,1);p(this,1,0);var t=180/Math.PI*Math.atan2(e.y,e.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(t*Math.PI/180)+this.f*Math.sin(t*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(t*Math.PI/180)+this.e*Math.sin(-t*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(e){return this.destination=new n.Matrix(e),this},multiply:function(e){return new n.Matrix(this.native().multiply(function(e){return e instanceof n.Matrix||(e=new n.Matrix(e)),e}(e).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(e,t){return new n.Matrix(this.native().translate(e||0,t||0))},native:function(){for(var e=n.parser.native.createSVGMatrix(),t=b.length-1;t>=0;t--)e[b[t]]=this[b[t]];return e},toString:function(){return"matrix("+y(this.a)+","+y(this.b)+","+y(this.c)+","+y(this.d)+","+y(this.e)+","+y(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new n.Matrix(t)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(e,t){var n;n=Array.isArray(e)?{x:e[0],y:e[1]}:"object"===o(e)?{x:e.x,y:e.y}:null!=e?{x:e,y:null!=t?t:e}:{x:0,y:0},this.x=n.x,this.y=n.y},extend:{clone:function(){return new n.Point(this)},morph:function(e,t){return this.destination=new n.Point(e,t),this}}}),n.extend(n.Element,{point:function(e,t){return new n.Point(e,t).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(e,t,i){if(null==e){for(e={},i=(t=this.node.attributes).length-1;i>=0;i--)e[t[i].nodeName]=n.regex.isNumber.test(t[i].nodeValue)?parseFloat(t[i].nodeValue):t[i].nodeValue;return e}if("object"===o(e))for(var r in e)this.attr(r,e[r]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?n.defaults.attrs[e]:n.regex.isNumber.test(t)?parseFloat(t):t;"stroke-width"==e?this.attr("stroke",parseFloat(t)>0?this._stroke:null):"stroke"==e&&(this._stroke=t),"fill"!=e&&"stroke"!=e||(n.regex.isImage.test(t)&&(t=this.doc().defs().image(t,0,0)),t instanceof n.Image&&(t=this.doc().defs().pattern(0,0,(function(){this.add(t)})))),"number"==typeof t?t=new n.Number(t):n.Color.isColor(t)?t=new n.Color(t):Array.isArray(t)&&(t=new n.Array(t)),"leading"==e?this.leading&&this.leading(t):"string"==typeof i?this.node.setAttributeNS(i,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!=e&&"x"!=e||this.rebuild(e,t)}return this}}),n.extend(n.Element,{transform:function(e,t){var i;return"object"!==o(e)?(i=new n.Matrix(this).extract(),"string"==typeof e?i[e]:i):(i=new n.Matrix(this),t=!!t||!!e.relative,null!=e.a&&(i=t?i.multiply(new n.Matrix(e)):new n.Matrix(e)),this.attr("transform",i))}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map((function(e){var t=e.trim().split("(");return[t[0],t[1].split(n.regex.delimiter).map((function(e){return parseFloat(e)}))]})).reduce((function(e,t){return"matrix"==t[0]?e.multiply(g(t[1])):e[t[0]].apply(e,t[1])}),new n.Matrix)},toParent:function(e){if(this==e)return this;var t=this.screenCTM(),n=e.screenCTM().inverse();return this.addTo(e).untransform().transform(n.multiply(t)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(e,t){if(arguments.length>1&&"boolean"!=typeof t)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(e))for(var n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=e[n];else if(e&&"object"===o(e))for(n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=e[this.arguments[n]];this.inversed=!1,!0===t&&(this.inversed=!0)}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.extend(n.Element,{style:function(e,t){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===o(e))for(var i in e)this.style(i,e[i]);else{if(!n.regex.isCss.test(e))return this.node.style[u(e)];for(e=e.split(/\s*;\s*/).filter((function(e){return!!e})).map((function(e){return e.split(/\s*:\s*/)}));t=e.pop();)this.style(t[0],t[1])}else this.node.style[u(e)]=null===t||n.regex.isBlank.test(t)?"":t;return this}}),n.Parent=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),(function(e){return n.adopt(e)}))},add:function(e,t){return null==t?this.node.appendChild(e.node):e.node!=this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this},put:function(e,t){return this.add(e,t),e},has:function(e){return this.index(e)>=0},index:function(e){return[].slice.call(this.node.childNodes).indexOf(e.node)},get:function(e){return n.adopt(this.node.childNodes[e])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(e,t){for(var i=this.children(),r=0,s=i.length;r<s;r++)i[r]instanceof n.Element&&e.apply(i[r],[r,i]),t&&i[r]instanceof n.Container&&i[r].each(e,t);return this},removeElement:function(e){return this.node.removeChild(e.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(e,t){return 0===t||this instanceof n.Defs||this.node==n.parser.draw||(e=e||(this instanceof n.Doc?this:this.parent(n.Parent)),t=t||1/0,this.each((function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(e,t-1):this.toParent(e)})),this.node.firstChild||this.remove()),this},flatten:function(e,t){return this.ungroup(e,t)}}),n.Container=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Parent}),n.ViewBox=n.invent({parent:n.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(e){n.Element.prototype[e]=function(t){return n.on(this.node,e,t),this}})),n.listeners=[],n.handlerMap=[],n.listenerId=0,n.on=function(e,t,i,r,s){var o=i.bind(r||e.instance||e),a=(n.handlerMap.indexOf(e)+1||n.handlerMap.push(e))-1,l=t.split(".")[0],c=t.split(".")[1]||"*";n.listeners[a]=n.listeners[a]||{},n.listeners[a][l]=n.listeners[a][l]||{},n.listeners[a][l][c]=n.listeners[a][l][c]||{},i._svgjsListenerId||(i._svgjsListenerId=++n.listenerId),n.listeners[a][l][c][i._svgjsListenerId]=o,e.addEventListener(l,o,s||{passive:!0})},n.off=function(e,t,i){var r=n.handlerMap.indexOf(e),s=t&&t.split(".")[0],o=t&&t.split(".")[1],a="";if(-1!=r)if(i){if("function"==typeof i&&(i=i._svgjsListenerId),!i)return;n.listeners[r][s]&&n.listeners[r][s][o||"*"]&&(e.removeEventListener(s,n.listeners[r][s][o||"*"][i],!1),delete n.listeners[r][s][o||"*"][i])}else if(o&&s){if(n.listeners[r][s]&&n.listeners[r][s][o]){for(var l in n.listeners[r][s][o])n.off(e,[s,o].join("."),l);delete n.listeners[r][s][o]}}else if(o)for(var c in n.listeners[r])for(var a in n.listeners[r][c])o===a&&n.off(e,[c,o].join("."));else if(s){if(n.listeners[r][s]){for(var a in n.listeners[r][s])n.off(e,[s,a].join("."));delete n.listeners[r][s]}}else{for(var c in n.listeners[r])n.off(e,c);delete n.listeners[r],delete n.handlerMap[r]}},n.extend(n.Element,{on:function(e,t,i,r){return n.on(this.node,e,t,i,r),this},off:function(e,t){return n.off(this.node,e,t),this},fire:function(t,i){return t instanceof e.Event?this.node.dispatchEvent(t):this.node.dispatchEvent(t=new n.CustomEvent(t,{detail:i,cancelable:!0})),this._event=t,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(e){return null==e?this.transform("x"):this.transform({x:e-this.x()},!0)}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(e){e&&("svg"==(e="string"==typeof e?t.getElementById(e):e).nodeName?this.constructor.call(this,e):(this.constructor.call(this,n.create("svg")),e.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){var e;return this._defs||((e=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(e):this._defs=new n.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw&&!n.parser.draw.parentNode&&this.node.appendChild(n.parser.draw),this},clone:function(e){this.writeDataToDom();var t=this.node,n=m(t.cloneNode(!0));return e?(e.node||e).appendChild(n.node):t.parentNode.insertBefore(n.node,t.nextSibling),n}}}),n.extend(n.Element,{}),n.Gradient=n.invent({create:function(e){this.constructor.call(this,n.create(e+"Gradient")),this.type=e},inherit:n.Container,extend:{at:function(e,t,i){return this.put(new n.Stop).update(e,t,i)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(e,t,i){return"transform"==e&&(e="gradientTransform"),n.Container.prototype.attr.call(this,e,t,i)}},construct:{gradient:function(e,t){return this.defs().gradient(e,t)}}}),n.extend(n.Gradient,n.FX,{from:function(e,t){return"radial"==(this._target||this).type?this.attr({fx:new n.Number(e),fy:new n.Number(t)}):this.attr({x1:new n.Number(e),y1:new n.Number(t)})},to:function(e,t){return"radial"==(this._target||this).type?this.attr({cx:new n.Number(e),cy:new n.Number(t)}):this.attr({x2:new n.Number(e),y2:new n.Number(t)})}}),n.extend(n.Defs,{gradient:function(e,t){return this.put(new n.Gradient(e)).update(t)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(e){return("number"==typeof e||e instanceof n.Number)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new n.Number(e.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return this.fill()},attr:function(e,t,i){return"transform"==e&&(e="patternTransform"),n.Container.prototype.attr.call(this,e,t,i)}},construct:{pattern:function(e,t,n){return this.defs().pattern(e,t,n)}}}),n.extend(n.Defs,{pattern:function(e,t,i){return this.put(new n.Pattern).update(i).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Element}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(e,t){return this.attr("href",(t||"")+"#"+e,n.xlink)}},construct:{use:function(e,t){return this.put(new n.Use).element(e,t)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(e,t){return this.put(new n.Rect).size(e,t)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(e){return this.put(new n.Circle).rx(new n.Number(e).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(e){return this.attr("r",e)},ry:function(e){return this.rx(e)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(e,t){return this.put(new n.Ellipse).size(e,t).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(e){return this.attr("rx",e)},ry:function(e){return this.attr("ry",e)}}),n.extend(n.Circle,n.Ellipse,{x:function(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())},y:function(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())},cx:function(e){return null==e?this.attr("cx"):this.attr("cx",e)},cy:function(e){return null==e?this.attr("cy"):this.attr("cy",e)},width:function(e){return null==e?2*this.rx():this.rx(new n.Number(e).divide(2))},height:function(e){return null==e?2*this.ry():this.ry(new n.Number(e).divide(2))},size:function(e,t){var i=f(this,e,t);return this.rx(new n.Number(i.width).divide(2)).ry(new n.Number(i.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(e,t,i,r){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:i,y2:r}:new n.PointArray(e).toLine(),this.attr(e))},move:function(e,t){return this.attr(this.array().move(e,t).toLine())},size:function(e,t){var n=f(this,e,t);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(e,t,i,r){return n.Line.prototype.plot.apply(this.put(new n.Line),null!=e?[e,t,i,r]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(e){return this.put(new n.Polyline).plot(e||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(e){return this.put(new n.Polygon).plot(e||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new n.PointArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},size:function(e,t){var n=f(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new n.PathArray(e))},clear:function(){return delete this._array,this}},construct:{path:function(e){return this.put(new n.Path).plot(e||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(t){if(!t)return this;var i=this,r=new e.Image;return n.on(r,"load",(function(){n.off(r);var e=i.parent(n.Pattern);null!==e&&(0==i.width()&&0==i.height()&&i.size(r.width,r.height),e&&0==e.width()&&0==e.height()&&e.size(i.width(),i.height()),"function"==typeof i._loaded&&i._loaded.call(i,{width:r.width,height:r.height,ratio:r.width/r.height,url:t}))})),n.on(r,"error",(function(e){n.off(r),"function"==typeof i._error&&i._error.call(i,e)})),this.attr("href",r.src=this.src=t,n.xlink)},loaded:function(e){return this._loaded=e,this},error:function(e){return this._error=e,this}},construct:{image:function(e,t,i){return this.put(new n.Image).load(e).size(t||0,i||t||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(e){return null==e?this.attr("x"):this.attr("x",e)},text:function(e){if(void 0===e){e="";for(var t=this.node.childNodes,i=0,r=t.length;i<r;++i)0!=i&&3!=t[i].nodeType&&1==n.adopt(t[i]).dom.newLined&&(e+="\n"),e+=t[i].textContent;return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else{i=0;for(var s=(e=e.split("\n")).length;i<s;i++)this.tspan(e[i]).newLine()}return this.build(!1).rebuild()},size:function(e){return this.attr("font-size",e).rebuild()},leading:function(e){return null==e?this.dom.leading:(this.dom.leading=new n.Number(e),this.rebuild())},lines:function(){var e=(this.textPath&&this.textPath()||this).node,t=n.utils.map(n.utils.filterSVGElements(e.childNodes),(function(e){return n.adopt(e)}));return new n.Set(t)},rebuild:function(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){var t=this,i=0,r=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(t.textPath()||this.attr("x",t.attr("x")),"\n"==this.text()?i+=r:(this.attr("dy",r+i),i=0))})),this.fire("rebuild")}return this},build:function(e){return this._build=!!e,this},setData:function(e){return this.dom=e,this.dom.leading=new n.Number(e.leading||1.3),this}},construct:{text:function(e){return this.put(new n.Text).text(e)},plain:function(e){return this.put(new n.Text).plain(e)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?e.call(this,this):this.plain(e),this)},dx:function(e){return this.attr("dx",e)},dy:function(e){return this.attr("dy",e)},newLine:function(){var e=this.parent(n.Text);return this.dom.newLined=!0,this.dy(e.dom.leading*e.attr("font-size")).attr("x",e.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(t.createTextNode(e)),this},tspan:function(e){var t=(this.textPath&&this.textPath()||this).node,i=new n.Tspan;return!1===this._build&&this.clear(),t.appendChild(i.node),i.text(e)},clear:function(){for(var e=(this.textPath&&this.textPath()||this).node;e.hasChildNodes();)e.removeChild(e.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,array:function(){var e=this.track();return e?e.array():null},plot:function(e){var t=this.track(),n=null;return t&&(n=t.plot(e)),null==e?n:this},track:function(){var e=this.textPath();if(e)return e.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"==t?e:e+"-"+t}};function c(e,t,i,r){return i+r.replace(n.regex.dots," .")}function u(e){return e.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function h(e){return e.charAt(0).toUpperCase()+e.slice(1)}function d(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function f(e,t,n){if(null==t||null==n){var i=e.bbox();null==t?t=i.width/i.height*n:null==n&&(n=i.height/i.width*t)}return{width:t,height:n}}function p(e,t,n){return{x:t*e.a+n*e.c+0,y:t*e.b+n*e.d+0}}function g(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}function m(t){for(var i=t.childNodes.length-1;i>=0;i--)t.childNodes[i]instanceof e.SVGElement&&m(t.childNodes[i]);return n.adopt(t).id(n.eid(t.nodeName))}function v(e){return null==e.x&&(e.x=0,e.y=0,e.width=0,e.height=0),e.w=e.width,e.h=e.height,e.x2=e.x+e.width,e.y2=e.y+e.height,e.cx=e.x+e.width/2,e.cy=e.y+e.height/2,e}function y(e){return Math.abs(e)>1e-37?e:0}["fill","stroke"].forEach((function(e){var t={};t[e]=function(t){if(void 0===t)return this;if("string"==typeof t||n.Color.isRgb(t)||t&&"function"==typeof t.fill)this.attr(e,t);else for(var i=l[e].length-1;i>=0;i--)null!=t[l[e][i]]&&this.attr(l.prefix(e,l[e][i]),t[l[e][i]]);return this},n.extend(n.Element,n.FX,t)})),n.extend(n.Element,n.FX,{translate:function(e,t){return this.transform({x:e,y:t})},matrix:function(e){return this.attr("transform",new n.Matrix(6==arguments.length?[].slice.call(arguments):e))},opacity:function(e){return this.attr("opacity",e)},dx:function(e){return this.x(new n.Number(e).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(e){return this.y(new n.Number(e).plus(this instanceof n.FX?0:this.y()),!0)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(e){return this.node.getPointAtLength(e)}}),n.Set=n.invent({create:function(e){Array.isArray(e)?this.members=e:this.clear()},extend:{add:function(){for(var e=[].slice.call(arguments),t=0,n=e.length;t<n;t++)this.members.push(e[t]);return this},remove:function(e){var t=this.index(e);return t>-1&&this.members.splice(t,1),this},each:function(e){for(var t=0,n=this.members.length;t<n;t++)e.apply(this.members[t],[t,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(e){return this.index(e)>=0},index:function(e){return this.members.indexOf(e)},get:function(e){return this.members[e]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(e){return new n.Set(e)}}}),n.FX.Set=n.invent({create:function(e){this.set=e}}),n.Set.inherit=function(){var e=[];for(var t in n.Shape.prototype)"function"==typeof n.Shape.prototype[t]&&"function"!=typeof n.Set.prototype[t]&&e.push(t);for(var t in e.forEach((function(e){n.Set.prototype[e]=function(){for(var t=0,i=this.members.length;t<i;t++)this.members[t]&&"function"==typeof this.members[t][e]&&this.members[t][e].apply(this.members[t],arguments);return"animate"==e?this.fx||(this.fx=new n.FX.Set(this)):this}})),e=[],n.FX.prototype)"function"==typeof n.FX.prototype[t]&&"function"!=typeof n.FX.Set.prototype[t]&&e.push(t);e.forEach((function(e){n.FX.Set.prototype[e]=function(){for(var t=0,n=this.set.members.length;t<n;t++)this.set.members[t].fx[e].apply(this.set.members[t].fx,arguments);return this}}))},n.extend(n.Element,{}),n.extend(n.Element,{remember:function(e,t){if("object"===o(arguments[0]))for(var n in e)this.remember(n,e[n]);else{if(1==arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(e){var i=t.getElementById(function(e){var t=(e||"").toString().match(n.regex.reference);if(t)return t[1]}(e)||e);return n.adopt(i)},n.select=function(e,i){return new n.Set(n.utils.map((i||t).querySelectorAll(e),(function(e){return n.adopt(e)})))},n.extend(n.Parent,{select:function(e){return n.select(e,this.node)}});var b="abcdef".split("");if("function"!=typeof e.CustomEvent){var x=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var i=t.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i};x.prototype=e.Event.prototype,n.CustomEvent=x}else n.CustomEvent=e.CustomEvent;return n},i=function(){return Me(Oe,Oe.document)}.call(t,n,t,e),void 0!==i&&(e.exports=i),
/*! svg.filter.js - v2.0.2 - 2016-02-24
* https://github.com/wout/svg.filter.js
* Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(e,t){return this.add(e,t),!e.attr("in")&&this.autoSetIn&&e.attr("in",this.source),e.attr("result")||e.attr("result",e),e},blend:function(e,t,n){return this.put(new SVG.BlendEffect(e,t,n))},colorMatrix:function(e,t){return this.put(new SVG.ColorMatrixEffect(e,t))},convolveMatrix:function(e){return this.put(new SVG.ConvolveMatrixEffect(e))},componentTransfer:function(e){return this.put(new SVG.ComponentTransferEffect(e))},composite:function(e,t,n){return this.put(new SVG.CompositeEffect(e,t,n))},flood:function(e,t){return this.put(new SVG.FloodEffect(e,t))},offset:function(e,t){return this.put(new SVG.OffsetEffect(e,t))},image:function(e){return this.put(new SVG.ImageEffect(e))},merge:function(){var e=[void 0];for(var t in arguments)e.push(arguments[t]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,e)))},gaussianBlur:function(e,t){return this.put(new SVG.GaussianBlurEffect(e,t))},morphology:function(e,t){return this.put(new SVG.MorphologyEffect(e,t))},diffuseLighting:function(e,t,n){return this.put(new SVG.DiffuseLightingEffect(e,t,n))},displacementMap:function(e,t,n,i,r){return this.put(new SVG.DisplacementMapEffect(e,t,n,i,r))},specularLighting:function(e,t,n,i){return this.put(new SVG.SpecularLightingEffect(e,t,n,i))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(e,t,n,i,r){return this.put(new SVG.TurbulenceEffect(e,t,n,i,r))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(e){var t=this.put(new SVG.Filter);return"function"==typeof e&&e.call(t,t),t}}),SVG.extend(SVG.Container,{filter:function(e){return this.defs().filter(e)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(e){return this.filterer=e instanceof SVG.Element?e:this.doc().filter(e),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(e){return this.filterer&&!0===e&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",e)},result:function(e){return null==e?this.attr("result"):this.attr("result",e)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",e)},result:function(e){return null==e?this.attr("result"):this.attr("result",e)},toString:function(){return this.result()}}});var e={blend:function(e,t){return this.parent()&&this.parent().blend(this,e,t)},colorMatrix:function(e,t){return this.parent()&&this.parent().colorMatrix(e,t).in(this)},convolveMatrix:function(e){return this.parent()&&this.parent().convolveMatrix(e).in(this)},componentTransfer:function(e){return this.parent()&&this.parent().componentTransfer(e).in(this)},composite:function(e,t){return this.parent()&&this.parent().composite(this,e,t)},flood:function(e,t){return this.parent()&&this.parent().flood(e,t)},offset:function(e,t){return this.parent()&&this.parent().offset(e,t).in(this)},image:function(e){return this.parent()&&this.parent().image(e)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(e,t){return this.parent()&&this.parent().gaussianBlur(e,t).in(this)},morphology:function(e,t){return this.parent()&&this.parent().morphology(e,t).in(this)},diffuseLighting:function(e,t,n){return this.parent()&&this.parent().diffuseLighting(e,t,n).in(this)},displacementMap:function(e,t,n,i){return this.parent()&&this.parent().displacementMap(this,e,t,n,i)},specularLighting:function(e,t,n,i){return this.parent()&&this.parent().specularLighting(e,t,n,i).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(e,t,n,i,r){return this.parent()&&this.parent().turbulence(e,t,n,i,r).in(this)}};SVG.extend(SVG.Effect,e),SVG.extend(SVG.ParentEffect,e),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(e){this.attr("in",e)}}});var t={blend:function(e,t,n){this.attr({in:e,in2:t,mode:n||"normal"})},colorMatrix:function(e,t){"matrix"==e&&(t=r(t)),this.attr({type:e,values:void 0===t?null:t})},convolveMatrix:function(e){e=r(e),this.attr({order:Math.sqrt(e.split(" ").length),kernelMatrix:e})},composite:function(e,t,n){this.attr({in:e,in2:t,operator:n})},flood:function(e,t){this.attr("flood-color",e),null!=t&&this.attr("flood-opacity",t)},offset:function(e,t){this.attr({dx:e,dy:t})},image:function(e){this.attr("href",e,SVG.xlink)},displacementMap:function(e,t,n,i,r){this.attr({in:e,in2:t,scale:n,xChannelSelector:i,yChannelSelector:r})},gaussianBlur:function(e,t){null!=e||null!=t?this.attr("stdDeviation",s(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(e,t){this.attr({operator:e,radius:t})},tile:function(){},turbulence:function(e,t,n,i,r){this.attr({numOctaves:t,seed:n,stitchTiles:i,baseFrequency:e,type:r})}},n={merge:function(){var e;if(arguments[0]instanceof SVG.Set){var t=this;arguments[0].each((function(e){this instanceof SVG.MergeNode?t.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&t.put(new SVG.MergeNode(this))}))}else{e=Array.isArray(arguments[0])?arguments[0]:arguments;for(var n=0;n<e.length;n++)e[n]instanceof SVG.MergeNode?this.put(e[n]):this.put(new SVG.MergeNode(e[n]))}},componentTransfer:function(e){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(e){this[e]=new(SVG["Func"+e.toUpperCase()])("identity"),this.rgb.add(this[e]),this.node.appendChild(this[e].node)}.bind(this)),e)for(var t in e.rgb&&(["r","g","b"].forEach(function(t){this[t].attr(e.rgb)}.bind(this)),delete e.rgb),e)this[t].attr(e[t])},diffuseLighting:function(e,t,n){this.attr({surfaceScale:e,diffuseConstant:t,kernelUnitLength:n})},specularLighting:function(e,t,n,i){this.attr({surfaceScale:e,diffuseConstant:t,specularExponent:n,kernelUnitLength:i})}},i={distantLight:function(e,t){this.attr({azimuth:e,elevation:t})},pointLight:function(e,t,n){this.attr({x:e,y:t,z:n})},spotLight:function(e,t,n,i,r,s){this.attr({x:e,y:t,z:n,pointsAtX:i,pointsAtY:r,pointsAtZ:s})},mergeNode:function(e){this.attr("in",e)}};function r(e){return Array.isArray(e)&&(e=new SVG.Array(e)),e.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function s(e){if(!Array.isArray(e))return e;for(var t=0,n=e.length,i=[];t<n;t++)i.push(e[t]);return i.join(" ")}function o(){var e=function(){};for(var t in"function"==typeof arguments[arguments.length-1]&&(e=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var n in arguments[t])e(arguments[t][n],n,arguments[t])}["r","g","b","a"].forEach((function(e){i["Func"+e.toUpperCase()]=function(e){switch(this.attr("type",e),e){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}})),o(t,(function(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1);SVG[n+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),e.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})})),o(n,(function(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1);SVG[n+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),e.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})})),o(i,(function(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1);SVG[n]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),e.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})})),SVG.extend(SVG.MergeEffect,{in:function(e){return e instanceof SVG.MergeNode?this.add(e,0):this.add(new SVG.MergeNode(e),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",e)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function e(e,r,s,o,a,l,c){for(var u=e.slice(r,s||c),h=o.slice(a,l||c),d=0,f={pos:[0,0],start:[0,0]},p={pos:[0,0],start:[0,0]};;){if(u[d]=t.call(f,u[d]),h[d]=t.call(p,h[d]),u[d][0]!=h[d][0]||"M"==u[d][0]||"A"==u[d][0]&&(u[d][4]!=h[d][4]||u[d][5]!=h[d][5])?(Array.prototype.splice.apply(u,[d,1].concat(i.call(f,u[d]))),Array.prototype.splice.apply(h,[d,1].concat(i.call(p,h[d])))):(u[d]=n.call(f,u[d]),h[d]=n.call(p,h[d])),++d==u.length&&d==h.length)break;d==u.length&&u.push(["C",f.pos[0],f.pos[1],f.pos[0],f.pos[1],f.pos[0],f.pos[1]]),d==h.length&&h.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]])}return{start:u,dest:h}}function t(e){switch(e[0]){case"z":case"Z":e[0]="L",e[1]=this.start[0],e[2]=this.start[1];break;case"H":e[0]="L",e[2]=this.pos[1];break;case"V":e[0]="L",e[2]=e[1],e[1]=this.pos[0];break;case"T":e[0]="Q",e[3]=e[1],e[4]=e[2],e[1]=this.reflection[1],e[2]=this.reflection[0];break;case"S":e[0]="C",e[6]=e[4],e[5]=e[3],e[4]=e[2],e[3]=e[1],e[2]=this.reflection[1],e[1]=this.reflection[0]}return e}function n(e){var t=e.length;return this.pos=[e[t-2],e[t-1]],-1!="SCQT".indexOf(e[0])&&(this.reflection=[2*this.pos[0]-e[t-4],2*this.pos[1]-e[t-3]]),e}function i(e){var t=[e];switch(e[0]){case"M":return this.pos=this.start=[e[1],e[2]],t;case"L":e[5]=e[3]=e[1],e[6]=e[4]=e[2],e[1]=this.pos[0],e[2]=this.pos[1];break;case"Q":e[6]=e[4],e[5]=e[3],e[4]=1*e[4]/3+2*e[2]/3,e[3]=1*e[3]/3+2*e[1]/3,e[2]=1*this.pos[1]/3+2*e[2]/3,e[1]=1*this.pos[0]/3+2*e[1]/3;break;case"A":e=(t=function(e,t){var n,i,r,s,o,a,l,c,u,h,d,f,p,g,m,v,y,b,x,w,_,S,k,C,A,T,I=Math.abs(t[1]),E=Math.abs(t[2]),P=t[3]%360,R=t[4],L=t[5],N=t[6],O=t[7],M=new SVG.Point(e),D=new SVG.Point(N,O),F=[];if(0===I||0===E||M.x===D.x&&M.y===D.y)return[["C",M.x,M.y,D.x,D.y,D.x,D.y]];for(n=new SVG.Point((M.x-D.x)/2,(M.y-D.y)/2).transform((new SVG.Matrix).rotate(P)),(i=n.x*n.x/(I*I)+n.y*n.y/(E*E))>1&&(I*=i=Math.sqrt(i),E*=i),r=(new SVG.Matrix).rotate(P).scale(1/I,1/E).rotate(-P),M=M.transform(r),D=D.transform(r),s=[D.x-M.x,D.y-M.y],a=s[0]*s[0]+s[1]*s[1],o=Math.sqrt(a),s[0]/=o,s[1]/=o,l=a<4?Math.sqrt(1-a/4):0,R===L&&(l*=-1),c=new SVG.Point((D.x+M.x)/2+l*-s[1],(D.y+M.y)/2+l*s[0]),u=new SVG.Point(M.x-c.x,M.y-c.y),h=new SVG.Point(D.x-c.x,D.y-c.y),d=Math.acos(u.x/Math.sqrt(u.x*u.x+u.y*u.y)),u.y<0&&(d*=-1),f=Math.acos(h.x/Math.sqrt(h.x*h.x+h.y*h.y)),h.y<0&&(f*=-1),L&&d>f&&(f+=2*Math.PI),!L&&d<f&&(f-=2*Math.PI),g=Math.ceil(2*Math.abs(d-f)/Math.PI),v=[],y=d,p=(f-d)/g,m=4*Math.tan(p/4)/3,_=0;_<=g;_++)x=Math.cos(y),b=Math.sin(y),w=new SVG.Point(c.x+x,c.y+b),v[_]=[new SVG.Point(w.x+m*b,w.y-m*x),w,new SVG.Point(w.x-m*b,w.y+m*x)],y+=p;for(v[0][0]=v[0][1].clone(),v[v.length-1][2]=v[v.length-1][1].clone(),r=(new SVG.Matrix).rotate(P).scale(I,E).rotate(-P),_=0,S=v.length;_<S;_++)v[_][0]=v[_][0].transform(r),v[_][1]=v[_][1].transform(r),v[_][2]=v[_][2].transform(r);for(_=1,S=v.length;_<S;_++)k=(w=v[_-1][2]).x,C=w.y,A=(w=v[_][0]).x,T=w.y,N=(w=v[_][1]).x,O=w.y,F.push(["C",k,C,A,T,N,O]);return F}(this.pos,e))[0]}return e[0]="C",this.pos=[e[5],e[6]],this.reflection=[2*e[5]-e[3],2*e[6]-e[4]],t}function r(e,t){if(!1===t)return!1;for(var n=t,i=e.length;n<i;++n)if("M"==e[n][0])return n;return!1}SVG.extend(SVG.PathArray,{morph:function(t){for(var n=this.value,i=this.parse(t),s=0,o=0,a=!1,l=!1;!1!==s||!1!==o;){var c;a=r(n,!1!==s&&s+1),l=r(i,!1!==o&&o+1),!1===s&&(s=0==(c=new SVG.PathArray(u.start).bbox()).height||0==c.width?n.push(n[0])-1:n.push(["M",c.x+c.width/2,c.y+c.height/2])-1),!1===o&&(o=0==(c=new SVG.PathArray(u.dest).bbox()).height||0==c.width?i.push(i[0])-1:i.push(["M",c.x+c.width/2,c.y+c.height/2])-1);var u=e(n,s,a,i,o,l);n=n.slice(0,s).concat(u.start,!1===a?[]:n.slice(a)),i=i.slice(0,o).concat(u.dest,!1===l?[]:i.slice(l)),s=!1!==a&&s+u.start.length,o=!1!==l&&o+u.dest.length}return this.value=n,this.destination=new SVG.PathArray,this.destination.value=i,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
* https://github.com/svgdotjs/svg.draggable.js
* Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function e(e){e.remember("_draggable",this),this.el=e}e.prototype.init=function(e,t){var n=this;this.constraint=e,this.value=t,this.el.on("mousedown.drag",(function(e){n.start(e)})),this.el.on("touchstart.drag",(function(e){n.start(e)}))},e.prototype.transformPoint=function(e,t){var n=(e=e||window.event).changedTouches&&e.changedTouches[0]||e;return this.p.x=n.clientX-(t||0),this.p.y=n.clientY,this.p.matrixTransform(this.m)},e.prototype.getBBox=function(){var e=this.el.bbox();return this.el instanceof SVG.Nested&&(e=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(e.x=this.el.x(),e.y=this.el.y()),e},e.prototype.start=function(e){if("click"!=e.type&&"mousedown"!=e.type&&"mousemove"!=e.type||1==(e.which||e.buttons)){var t=this;if(this.el.fire("beforedrag",{event:e,handler:this}),!this.el.event().defaultPrevented){e.preventDefault(),e.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var n,i=this.getBBox();if(this.el instanceof SVG.Text)switch(n=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":n/=2;break;case"start":n=0}this.startPoints={point:this.transformPoint(e,n),box:i,transform:this.el.transform()},SVG.on(window,"mousemove.drag",(function(e){t.drag(e)})),SVG.on(window,"touchmove.drag",(function(e){t.drag(e)})),SVG.on(window,"mouseup.drag",(function(e){t.end(e)})),SVG.on(window,"touchend.drag",(function(e){t.end(e)})),this.el.fire("dragstart",{event:e,p:this.startPoints.point,m:this.m,handler:this})}}},e.prototype.drag=function(e){var t=this.getBBox(),n=this.transformPoint(e),i=this.startPoints.box.x+n.x-this.startPoints.point.x,r=this.startPoints.box.y+n.y-this.startPoints.point.y,s=this.constraint,o=n.x-this.startPoints.point.x,a=n.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:e,p:n,m:this.m,handler:this}),this.el.event().defaultPrevented)return n;if("function"==typeof s){var l=s.call(this.el,i,r,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(i):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(r):!1!==l.y&&this.el.y(l.y)}else"object"==typeof s&&(null!=s.minX&&i<s.minX?o=(i=s.minX)-this.startPoints.box.x:null!=s.maxX&&i>s.maxX-t.width&&(o=(i=s.maxX-t.width)-this.startPoints.box.x),null!=s.minY&&r<s.minY?a=(r=s.minY)-this.startPoints.box.y:null!=s.maxY&&r>s.maxY-t.height&&(a=(r=s.maxY-t.height)-this.startPoints.box.y),null!=s.snapToGrid&&(i-=i%s.snapToGrid,r-=r%s.snapToGrid,o-=o%s.snapToGrid,a-=a%s.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:o,y:a},!0):this.el.move(i,r));return n},e.prototype.end=function(e){var t=this.drag(e);this.el.fire("dragend",{event:e,p:t,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(t,n){"function"!=typeof t&&"object"!=typeof t||(n=t,t=!0);var i=this.remember("_draggable")||new e(this);return(t=void 0===t||t)?i.init(n||{},t):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function e(e){this.el=e,e.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(e,t,n){var i="string"!=typeof e?e:t[e];return n?i/2:i},this.pointCoords=function(e,t){var n=this.pointsList[e];return{x:this.pointCoord(n[0],t,"t"===e||"b"===e),y:this.pointCoord(n[1],t,"r"===e||"l"===e)}}}e.prototype.init=function(e,t){var n=this.el.bbox();this.options={};var i=this.el.selectize.defaults.points;for(var r in this.el.selectize.defaults)this.options[r]=this.el.selectize.defaults[r],void 0!==t[r]&&(this.options[r]=t[r]);var s=["points","pointsExclude"];for(var r in s){var o=this.options[s[r]];"string"==typeof o?o=o.length>0?o.split(/\s*,\s*/i):[]:"boolean"==typeof o&&"points"===s[r]&&(o=o?i:[]),this.options[s[r]]=o}this.options.points=[i,this.options.points].reduce((function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))})),this.options.points=[this.options.points,this.options.pointsExclude].reduce((function(e,t){return e.filter((function(e){return t.indexOf(e)<0}))})),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(n.x,n.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(e):this.selectRect(e),this.observe(),this.cleanup()},e.prototype.selectPoints=function(e){return this.pointSelection.isSelected=e,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},e.prototype.getPointArray=function(){var e=this.el.bbox();return this.el.array().valueOf().map((function(t){return[t[0]-e.x,t[1]-e.y]}))},e.prototype.drawPoints=function(){for(var e=this,t=this.getPointArray(),n=0,i=t.length;n<i;++n){var r=function(t){return function(n){(n=n||window.event).preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation();var i=n.pageX||n.touches[0].pageX,r=n.pageY||n.touches[0].pageY;e.el.fire("point",{x:i,y:r,i:t,event:n})}}(n),s=this.drawPoint(t[n][0],t[n][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",r).on("mousedown",r);this.pointSelection.set.add(s)}},e.prototype.drawPoint=function(e,t){var n=this.options.pointType;switch(n){case"circle":return this.drawCircle(e,t);case"rect":return this.drawRect(e,t);default:if("function"==typeof n)return n.call(this,e,t);throw new Error("Unknown "+n+" point type!")}},e.prototype.drawCircle=function(e,t){return this.nested.circle(this.options.pointSize).center(e,t)},e.prototype.drawRect=function(e,t){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(e,t)},e.prototype.updatePointSelection=function(){var e=this.getPointArray();this.pointSelection.set.each((function(t){this.cx()===e[t][0]&&this.cy()===e[t][1]||this.center(e[t][0],e[t][1])}))},e.prototype.updateRectSelection=function(){var e=this,t=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:t.width,height:t.height}),this.options.points.length&&this.options.points.map((function(n,i){var r=e.pointCoords(n,t);e.rectSelection.set.get(i+1).center(r.x,r.y)})),this.options.rotationPoint){var n=this.rectSelection.set.length();this.rectSelection.set.get(n-1).center(t.width/2,20)}},e.prototype.selectRect=function(e){var t=this,n=this.el.bbox();function i(e){return function(n){(n=n||window.event).preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation();var i=n.pageX||n.touches[0].pageX,r=n.pageY||n.touches[0].pageY;t.el.fire(e,{x:i,y:r,event:n})}}if(this.rectSelection.isSelected=e,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(n.width,n.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map((function(e,r){var s=t.pointCoords(e,n),o=t.drawPoint(s.x,s.y).attr("class",t.options.classPoints+"_"+e).on("mousedown",i(e)).on("touchstart",i(e));t.rectSelection.set.add(o)})),this.rectSelection.set.each((function(){this.addClass(t.options.classPoints)}))),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var r=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation();var n=e.pageX||e.touches[0].pageX,i=e.pageY||e.touches[0].pageY;t.el.fire("rot",{x:n,y:i,event:e})},s=this.drawPoint(n.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",r).on("mousedown",r);this.rectSelection.set.add(s)}},e.prototype.handler=function(){var e=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(e.x,e.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},e.prototype.observe=function(){var e=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver((function(){e.handler()})),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(e){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",(function(){e.handler()}))},e.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each((function(){this.remove()})),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each((function(){this.remove()})),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(t,n){return"object"==typeof t&&(n=t,t=!0),(this.remember("_selectHandler")||new e(this)).init(void 0===t||t,n||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function e(e){e.remember("_resizeHandler",this),this.el=e,this.parameters={},this.lastUpdateCall=null,this.p=e.doc().node.createSVGPoint()}e.prototype.transformPoint=function(e,t,n){return this.p.x=e-(this.offset.x-window.pageXOffset),this.p.y=t-(this.offset.y-window.pageYOffset),this.p.matrixTransform(n||this.m)},e.prototype._extractPosition=function(e){return{x:null!=e.clientX?e.clientX:e.touches[0].clientX,y:null!=e.clientY?e.clientY:e.touches[0].clientY}},e.prototype.init=function(e){var t=this;if(this.stop(),"stop"!==e){for(var n in this.options={},this.el.resize.defaults)this.options[n]=this.el.resize.defaults[n],void 0!==e[n]&&(this.options[n]=e[n]);this.el.on("lt.resize",(function(e){t.resize(e||window.event)})),this.el.on("rt.resize",(function(e){t.resize(e||window.event)})),this.el.on("rb.resize",(function(e){t.resize(e||window.event)})),this.el.on("lb.resize",(function(e){t.resize(e||window.event)})),this.el.on("t.resize",(function(e){t.resize(e||window.event)})),this.el.on("r.resize",(function(e){t.resize(e||window.event)})),this.el.on("b.resize",(function(e){t.resize(e||window.event)})),this.el.on("l.resize",(function(e){t.resize(e||window.event)})),this.el.on("rot.resize",(function(e){t.resize(e||window.event)})),this.el.on("point.resize",(function(e){t.resize(e||window.event)})),this.update()}},e.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},e.prototype.resize=function(e){var t=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var n=this._extractPosition(e.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(n.x,n.y),x:e.detail.x,y:e.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==e.detail.i){var i=this.el.array().valueOf();this.parameters.i=e.detail.i,this.parameters.pointCoords=[i[e.detail.i][0],i[e.detail.i][1]]}switch(e.type){case"lt":this.calc=function(e,t){var n=this.snapToGrid(e,t);if(this.parameters.box.width-n[0]>0&&this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-n[0]);n=this.checkAspectRatio(n),this.el.move(this.parameters.box.x+n[0],this.parameters.box.y+n[1]).size(this.parameters.box.width-n[0],this.parameters.box.height-n[1])}};break;case"rt":this.calc=function(e,t){var n=this.snapToGrid(e,t,2);if(this.parameters.box.width+n[0]>0&&this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+n[0]);n=this.checkAspectRatio(n,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+n[1]).size(this.parameters.box.width+n[0],this.parameters.box.height-n[1])}};break;case"rb":this.calc=function(e,t){var n=this.snapToGrid(e,t,0);if(this.parameters.box.width+n[0]>0&&this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+n[0]);n=this.checkAspectRatio(n),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+n[0],this.parameters.box.height+n[1])}};break;case"lb":this.calc=function(e,t){var n=this.snapToGrid(e,t,1);if(this.parameters.box.width-n[0]>0&&this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-n[0]);n=this.checkAspectRatio(n,!0),this.el.move(this.parameters.box.x+n[0],this.parameters.box.y).size(this.parameters.box.width-n[0],this.parameters.box.height+n[1])}};break;case"t":this.calc=function(e,t){var n=this.snapToGrid(e,t,2);if(this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+n[1]).height(this.parameters.box.height-n[1])}};break;case"r":this.calc=function(e,t){var n=this.snapToGrid(e,t,0);if(this.parameters.box.width+n[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+n[0])}};break;case"b":this.calc=function(e,t){var n=this.snapToGrid(e,t,0);if(this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+n[1])}};break;case"l":this.calc=function(e,t){var n=this.snapToGrid(e,t,1);if(this.parameters.box.width-n[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+n[0],this.parameters.box.y).width(this.parameters.box.width-n[0])}};break;case"rot":this.calc=function(e,t){var n=e+this.parameters.p.x,i=t+this.parameters.p.y,r=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),s=Math.atan2(i-this.parameters.box.y-this.parameters.box.height/2,n-this.parameters.box.x-this.parameters.box.width/2),o=this.parameters.rotation+180*(s-r)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(o-o%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(e,t){var n=this.snapToGrid(e,t,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),i=this.el.array().valueOf();i[this.parameters.i][0]=this.parameters.pointCoords[0]+n[0],i[this.parameters.i][1]=this.parameters.pointCoords[1]+n[1],this.el.plot(i)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:e}),SVG.on(window,"touchmove.resize",(function(e){t.update(e||window.event)})),SVG.on(window,"touchend.resize",(function(){t.done()})),SVG.on(window,"mousemove.resize",(function(e){t.update(e||window.event)})),SVG.on(window,"mouseup.resize",(function(){t.done()}))},e.prototype.update=function(e){if(e){var t=this._extractPosition(e),n=this.transformPoint(t.x,t.y),i=n.x-this.parameters.p.x,r=n.y-this.parameters.p.y;this.lastUpdateCall=[i,r],this.calc(i,r),this.el.fire("resizing",{dx:i,dy:r,event:e})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},e.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},e.prototype.snapToGrid=function(e,t,n,i){var r;return void 0!==i?r=[(n+e)%this.options.snapToGrid,(i+t)%this.options.snapToGrid]:(n=null==n?3:n,r=[(this.parameters.box.x+e+(1&n?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+t+(2&n?0:this.parameters.box.height))%this.options.snapToGrid]),e<0&&(r[0]-=this.options.snapToGrid),t<0&&(r[1]-=this.options.snapToGrid),e-=Math.abs(r[0])<this.options.snapToGrid/2?r[0]:r[0]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),t-=Math.abs(r[1])<this.options.snapToGrid/2?r[1]:r[1]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(e,t,n,i)},e.prototype.constraintToBox=function(e,t,n,i){var r,s,o=this.options.constraint||{};return void 0!==i?(r=n,s=i):(r=this.parameters.box.x+(1&n?0:this.parameters.box.width),s=this.parameters.box.y+(2&n?0:this.parameters.box.height)),void 0!==o.minX&&r+e<o.minX&&(e=o.minX-r),void 0!==o.maxX&&r+e>o.maxX&&(e=o.maxX-r),void 0!==o.minY&&s+t<o.minY&&(t=o.minY-s),void 0!==o.maxY&&s+t>o.maxY&&(t=o.maxY-s),[e,t]},e.prototype.checkAspectRatio=function(e,t){if(!this.options.saveAspectRatio)return e;var n=e.slice(),i=this.parameters.box.width/this.parameters.box.height,r=this.parameters.box.width+e[0],s=this.parameters.box.height-e[1],o=r/s;return o<i?(n[1]=r/i-this.parameters.box.height,t&&(n[1]=-n[1])):o>i&&(n[0]=this.parameters.box.width-s*i,t&&(n[0]=-n[0])),n},SVG.extend(SVG.Element,{resize:function(t){return(this.remember("_resizeHandler")||new e(this)).init(t||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var qe=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new w(this.ctx),this.ctx.axes=new ie(this.ctx),this.ctx.core=new ze(this.ctx.el,this.ctx),this.ctx.config=new U({}),this.ctx.data=new W(this.ctx),this.ctx.grid=new Z(this.ctx),this.ctx.graphics=new S(this.ctx),this.ctx.coreUtils=new k(this.ctx),this.ctx.crosshairs=new re(this.ctx),this.ctx.events=new te(this.ctx),this.ctx.exports=new G(this.ctx),this.ctx.localization=new ne(this.ctx),this.ctx.options=new P,this.ctx.responsive=new se(this.ctx),this.ctx.series=new F(this.ctx),this.ctx.theme=new oe(this.ctx),this.ctx.formatters=new X(this.ctx),this.ctx.titleSubtitle=new ae(this.ctx),this.ctx.legend=new pe(this.ctx),this.ctx.toolbar=new ge(this.ctx),this.ctx.dimensions=new de(this.ctx),this.ctx.updateHelpers=new Be(this.ctx),this.ctx.zoomPanSelection=new me(this.ctx),this.ctx.w.globals.tooltip=new Se(this.ctx)}}]),e}(),Ve=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return c(e,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each((function(e,t){this.removeClass("*"),this.off(),this.stop()}),!0),e.ungroup(),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,n=e.isUpdating,i=this.w.globals.dom.Paper.node;i.parentNode&&i.parentNode.parentNode&&!n&&(i.parentNode.parentNode.style.minHeight="unset");var r=this.w.globals.dom.baseEl;r&&this.ctx.eventList.forEach((function(e){r.removeEventListener(e,t.ctx.events.documentEvent)}));var s=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(s.Paper),s.Paper.remove(),s.elWrap=null,s.elGraphical=null,s.elAnnotations=null,s.elLegendWrap=null,s.baseEl=null,s.elGridRect=null,s.elGridRectMask=null,s.elGridRectMarkerMask=null,s.elForecastMask=null,s.elNonForecastMask=null,s.elDefs=null}}]),e}(),He=new WeakMap,Ue=function(){function e(t,n){a(this,e),this.opts=n,this.ctx=this,this.w=new Y(n).init(),this.el=t,this.w.globals.cuid=x.randomId(),this.w.globals.chartID=this.w.config.chart.id?x.escapeString(this.w.config.chart.id):this.w.globals.cuid,new qe(this).initModules(),this.create=x.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return c(e,[{key:"render",value:function(){var e=this;return new Promise((function(t,n){if(null!==e.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var i=e.w.config.chart.events.beforeMount;if("function"==typeof i&&i(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(e,t){var n=!1,i=e.getBoundingClientRect();"none"!==e.style.display&&0!==i.width||(n=!0);var r=new ResizeObserver((function(i){n&&t.call(e,i),n=!0}));e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(e.children).forEach((function(e){return r.observe(e)})):r.observe(e),He.set(t,r)}(e.el.parentNode,e.parentResizeHandler),!e.css){var r=e.el.getRootNode&&e.el.getRootNode(),s=x.is("ShadowRoot",r),o=e.el.ownerDocument,a=o.getElementById("apexcharts-css");!s&&a||(e.css=document.createElement("style"),e.css.id="apexcharts-css",e.css.textContent='.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-title:empty,\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-goals-group, \n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  display: flex;\n}\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}',s?r.prepend(e.css):o.head.appendChild(e.css))}var l=e.create(e.w.config.series,{});if(!l)return t(e);e.mount(l).then((function(){"function"==typeof e.w.config.chart.events.mounted&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(l)})).catch((function(e){n(e)}))}else n(new Error("Element not found"))}))}},{key:"create",value:function(e,t){var n=this.w;new qe(this).initModules();var i=this.w.globals;if(i.noData=!1,i.animationEnded=!1,this.responsive.checkResponsiveConfig(t),n.config.xaxis.convertedCatToNumeric&&new H(n.config).convertCatToNumericXaxis(n.config,this.ctx),null===this.el)return i.animationEnded=!0,null;if(this.core.setupElements(),"treemap"===n.config.chart.type&&(n.config.grid.show=!1,n.config.yaxis[0].show=!1),0===i.svgWidth)return i.animationEnded=!0,null;var r=k.checkComboSeries(e);i.comboCharts=r.comboCharts,i.comboBarCount=r.comboBarCount;var s=e.every((function(e){return e.data&&0===e.data.length}));(0===e.length||s)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(e),this.theme.init(),new N(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),i.noData&&i.collapsedSeries.length!==i.series.length&&!n.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),i.axisCharts&&(this.core.coreCalculations(),"category"!==n.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=n.globals.minX,this.ctx.toolbar.maxX=n.globals.maxX),this.formatters.heatmapLabelFormatters(),new k(this).getLargestMarkerSize(),this.dimensions.plotCoords();var o=this.core.xySettings();this.grid.createGridMask();var a=this.core.plotChartType(e,o),l=new M(this);l.bringForward(),n.config.dataLabels.background.enabled&&l.dataLabelsBackground(),this.core.shiftGraphPosition();var c={plot:{left:n.globals.translateX,top:n.globals.translateY,width:n.globals.gridWidth,height:n.globals.gridHeight}};return{elGraph:a,xyRatios:o,elInner:n.globals.dom.elGraphical,dimensions:c}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this,i=n.w;return new Promise((function(r,s){if(null===n.el)return s(new Error("Not enough data to display or target element not found"));(null===t||i.globals.allSeriesCollapsed)&&n.series.handleNoData(),"treemap"!==i.config.chart.type&&n.axes.drawAxis(i.config.chart.type,t.xyRatios),n.grid=new Z(n);var o=n.grid.drawGrid();n.annotations=new R(n),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),"back"===i.config.grid.position&&o&&i.globals.dom.elGraphical.add(o.el);var a=new K(e.ctx),l=new ee(e.ctx);if(null!==o&&(a.xAxisLabelCorrections(o.xAxisTickWidth),l.setYAxisTextAlignments(),i.config.yaxis.map((function(e,t){-1===i.globals.ignoreYAxisIndexes.indexOf(t)&&l.yAxisTitleRotate(t,e.opposite)}))),"back"===i.config.annotations.position&&(i.globals.dom.Paper.add(i.globals.dom.elAnnotations),n.annotations.drawAxesAnnotations()),Array.isArray(t.elGraph))for(var c=0;c<t.elGraph.length;c++)i.globals.dom.elGraphical.add(t.elGraph[c]);else i.globals.dom.elGraphical.add(t.elGraph);if("front"===i.config.grid.position&&o&&i.globals.dom.elGraphical.add(o.el),"front"===i.config.xaxis.crosshairs.position&&n.crosshairs.drawXCrosshairs(),"front"===i.config.yaxis[0].crosshairs.position&&n.crosshairs.drawYCrosshairs(),"front"===i.config.annotations.position&&(i.globals.dom.Paper.add(i.globals.dom.elAnnotations),n.annotations.drawAxesAnnotations()),!i.globals.noData){if(i.config.tooltip.enabled&&!i.globals.noData&&n.w.globals.tooltip.drawTooltip(t.xyRatios),i.globals.axisCharts&&(i.globals.isXNumeric||i.config.xaxis.convertedCatToNumeric||i.globals.isRangeBar))(i.config.chart.zoom.enabled||i.config.chart.selection&&i.config.chart.selection.enabled||i.config.chart.pan&&i.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:t.xyRatios});else{var u=i.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(e){u[e]=!1}))}i.config.chart.toolbar.show&&!i.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}i.globals.memory.methodsToExec.length>0&&i.globals.memory.methodsToExec.forEach((function(e){e.method(e.params,!1,e.context)})),i.globals.axisCharts||i.globals.noData||n.core.resizeNonAxisCharts(),r(n)}))}},{key:"destroy",value:function(){var e,t;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,e=this.parentResizeHandler,(t=He.get(e))&&(t.disconnect(),He.delete(e));var n=this.w.config.chart.id;n&&Apex._chartInstances.forEach((function(e,t){e.id===x.escapeString(n)&&Apex._chartInstances.splice(t,1)})),new Ve(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.w;return o.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map((function(e,n){return t.updateHelpers._extendSeries(e,n)}))),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,n,i,r,s)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,n)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.w.config.series.slice();return i.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,t,n)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var i=n.w.config.series.slice(),r=0;r<i.length;r++)if(null!==e[r]&&void 0!==e[r])for(var s=0;s<e[r].data.length;s++)i[r].data.push(e[r].data[s]);return n.w.config.series=i,t&&(n.w.globals.initialSeries=x.clone(n.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise((function(n,i){new Ve(t.ctx).clear({isUpdating:!0});var r=t.create(t.w.config.series,e);if(!r)return n(t);t.mount(r).then((function(){"function"==typeof t.w.config.chart.events.updated&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,n(t)})).catch((function(e){i(e)}))}))}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach((function(e){t.push(e)}))),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter((function(e){if(e.group)return!0})).map((function(t){return e.w.config.chart.group===t.group?t.chart:e}))}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addXaxisAnnotationExternal(e,t,i)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addYaxisAnnotationExternal(e,t,i)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addPointAnnotationExternal(e,t,i)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this;t&&(n=t),n.annotations.removeAnnotation(n,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new J(this.ctx);return t.getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new J(this.ctx);return t.getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new G(this.ctx).dataURI(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;"function"==typeof e&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=x.escapeString(e),n=Apex._chartInstances.filter((function(e){return e.id===t}))[0];return n&&n.chart}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),n=0;n<t.length;n++)new e(t[n],JSON.parse(t[n].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var n=this.getChartByID(e);if(n){n.w.globals.isExecCalled=!0;var i=null;if(-1!==n.publicMethods.indexOf(t)){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];i=n[t].apply(n,s)}return i}}},{key:"merge",value:function(e,t){return x.extend(e,t)}}]),e}();e.exports=Ue},9981:(e,t,n)=>{e.exports=n(6148)},6857:(e,t,n)=>{"use strict";var i=n(6031),r=n(8117),s=n(6139),o=n(9395),a=n(7187),l=n(7758),c=n(4908),u=n(7381);e.exports=function(e){return new Promise((function(t,n){var h=e.data,d=e.headers,f=e.responseType;i.isFormData(h)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(g+":"+m)}var v=a(e.baseURL,e.url);function y(){if(p){var i="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,s=f&&"text"!==f&&"json"!==f?p.response:p.responseText,o={data:s,status:p.status,statusText:p.statusText,headers:i,config:e,request:p};r(t,n,o),p=null}}if(p.open(e.method.toUpperCase(),o(v,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(y)},p.onabort=function(){p&&(n(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var b=(e.withCredentials||c(v))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}"setRequestHeader"in p&&i.forEach(d,(function(e,t){"undefined"===typeof h&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),f&&"json"!==f&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),h||(h=null),p.send(h)}))}},6148:(e,t,n)=>{"use strict";var i=n(6031),r=n(4009),s=n(7237),o=n(8342),a=n(9860);function l(e){var t=new s(e),n=r(s.prototype.request,t);return i.extend(n,s.prototype,t),i.extend(n,t),n}var c=l(a);c.Axios=s,c.create=function(e){return l(o(c.defaults,e))},c.Cancel=n(5838),c.CancelToken=n(5e3),c.isCancel=n(2649),c.all=function(e){return Promise.all(e)},c.spread=n(7615),c.isAxiosError=n(6794),e.exports=c,e.exports["default"]=c},5838:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},5e3:(e,t,n)=>{"use strict";var i=n(5838);function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e,t=new r((function(t){e=t}));return{token:t,cancel:e}},e.exports=r},2649:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},7237:(e,t,n)=>{"use strict";var i=n(6031),r=n(9395),s=n(7332),o=n(1014),a=n(8342),l=n(9206),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new s,response:new s}}u.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=a(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var r,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!i){var u=[o,void 0];Array.prototype.unshift.apply(u,n),u=u.concat(s),r=Promise.resolve(e);while(u.length)r=r.then(u.shift(),u.shift());return r}var h=e;while(n.length){var d=n.shift(),f=n.shift();try{h=d(h)}catch(p){f(p);break}}try{r=o(h)}catch(p){return Promise.reject(p)}while(s.length)r=r.then(s.shift(),s.shift());return r},u.prototype.getUri=function(e){return e=a(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,i){return this.request(a(i||{},{method:e,url:t,data:n}))}})),e.exports=u},7332:(e,t,n)=>{"use strict";var i=n(6031);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},7187:(e,t,n)=>{"use strict";var i=n(6847),r=n(6560);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},7381:(e,t,n)=>{"use strict";var i=n(4918);e.exports=function(e,t,n,r,s){var o=new Error(e);return i(o,t,n,r,s)}},1014:(e,t,n)=>{"use strict";var i=n(6031),r=n(2297),s=n(2649),o=n(9860);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){a(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||o.adapter;return t(e).then((function(t){return a(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(a(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},4918:e=>{"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},8342:(e,t,n)=>{"use strict";var i=n(6031);e.exports=function(e,t){t=t||{};var n={},r=["url","method","data"],s=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function c(r){i.isUndefined(t[r])?i.isUndefined(e[r])||(n[r]=l(void 0,e[r])):n[r]=l(e[r],t[r])}i.forEach(r,(function(e){i.isUndefined(t[e])||(n[e]=l(void 0,t[e]))})),i.forEach(s,c),i.forEach(o,(function(r){i.isUndefined(t[r])?i.isUndefined(e[r])||(n[r]=l(void 0,e[r])):n[r]=l(void 0,t[r])})),i.forEach(a,(function(i){i in t?n[i]=l(e[i],t[i]):i in e&&(n[i]=l(void 0,e[i]))}));var u=r.concat(s).concat(o).concat(a),h=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return i.forEach(h,c),n}},8117:(e,t,n)=>{"use strict";var i=n(7381);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2297:(e,t,n)=>{"use strict";var i=n(6031),r=n(9860);e.exports=function(e,t,n){var s=this||r;return i.forEach(n,(function(n){e=n.call(s,e,t)})),e}},9860:(e,t,n)=>{"use strict";var i=n(6031),r=n(4129),s=n(4918),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function l(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(6857)),e}function c(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:l(),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),c(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(o){if("SyntaxError"===a.name)throw s(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){u.headers[e]=i.merge(o)})),e.exports=u},4009:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},9395:(e,t,n)=>{"use strict";var i=n(6031);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(i.isURLSearchParams(t))s=t.toString();else{var o=[];i.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),o.push(r(t)+"="+r(e))})))})),s=o.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},6560:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},6139:(e,t,n)=>{"use strict";var i=n(6031);e.exports=i.isStandardBrowserEnv()?function(){return{write:function(e,t,n,r,s,o){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},6847:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6794:e=>{"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},4908:(e,t,n)=>{"use strict";var i=n(6031);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},4129:(e,t,n)=>{"use strict";var i=n(6031);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},7758:(e,t,n)=>{"use strict";var i=n(6031),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,s,o={};return e?(i.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=i.trim(e.substr(0,s)).toLowerCase(),n=i.trim(e.substr(s+1)),t){if(o[t]&&r.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},7615:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},9206:(e,t,n)=>{"use strict";var i=n(8593),r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={},o=i.version.split(".");function a(e,t){for(var n=t?t.split("."):o,i=e.split("."),r=0;r<3;r++){if(n[r]>i[r])return!0;if(n[r]<i[r])return!1}return!1}function l(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");var i=Object.keys(e),r=i.length;while(r-- >0){var s=i[r],o=t[s];if(o){var a=e[s],l=void 0===a||o(a,s,e);if(!0!==l)throw new TypeError("option "+s+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+s)}}r.transitional=function(e,t,n){var r=t&&a(t);function o(e,t){return"[Axios v"+i.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Error(o(i," has been removed in "+t));return r&&!s[i]&&(s[i]=!0,console.warn(o(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},e.exports={isOlderVersion:a,assertOptions:l,validators:r}},6031:(e,t,n)=>{"use strict";var i=n(4009),r=Object.prototype.toString;function s(e){return"[object Array]"===r.call(e)}function o(e){return"undefined"===typeof e}function a(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function l(e){return"[object ArrayBuffer]"===r.call(e)}function c(e){return"undefined"!==typeof FormData&&e instanceof FormData}function u(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function h(e){return"string"===typeof e}function d(e){return"number"===typeof e}function f(e){return null!==e&&"object"===typeof e}function p(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function g(e){return"[object Date]"===r.call(e)}function m(e){return"[object File]"===r.call(e)}function v(e){return"[object Blob]"===r.call(e)}function y(e){return"[object Function]"===r.call(e)}function b(e){return f(e)&&y(e.pipe)}function x(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function w(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function _(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function S(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),s(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function k(){var e={};function t(t,n){p(e[n])&&p(t)?e[n]=k(e[n],t):p(t)?e[n]=k({},t):s(t)?e[n]=t.slice():e[n]=t}for(var n=0,i=arguments.length;n<i;n++)S(arguments[n],t);return e}function C(e,t,n){return S(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e}function A(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:s,isArrayBuffer:l,isBuffer:a,isFormData:c,isArrayBufferView:u,isString:h,isNumber:d,isObject:f,isPlainObject:p,isUndefined:o,isDate:g,isFile:m,isBlob:v,isFunction:y,isStream:b,isURLSearchParams:x,isStandardBrowserEnv:_,forEach:S,merge:k,extend:C,trim:w,stripBOM:A}},1357:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(9835),r=n(2857),s=n(244),o=n(5987),a=n(2026);const l=(0,o.L)({name:"QAvatar",props:{...s.LU,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:t}){const n=(0,s.ZP)(e),o=(0,i.Fl)((()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(!0===e.square?" q-avatar--square":!0===e.rounded?" rounded-borders":""))),l=(0,i.Fl)((()=>e.fontSize?{fontSize:e.fontSize}:null));return()=>{const s=void 0!==e.icon?[(0,i.h)(r.Z,{name:e.icon})]:void 0;return(0,i.h)("div",{class:o.value,style:n.value},[(0,i.h)("div",{class:"q-avatar__content row flex-center overflow-hidden",style:l.value},(0,a.pf)(t.default,s))])}}})},9379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var i=n(9835),r=n(499),s=n(1957),o=n(2857),a=n(3902),l=n(1136);n(5583),n(6727);const c={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},u=Object.keys(c),h={align:{type:String,validator:e=>u.includes(e)}};function d(e){return(0,i.Fl)((()=>{const t=void 0===e.align?!0===e.vertical?"stretch":"left":e.align;return`${!0===e.vertical?"items":"justify"}-${c[t]}`}))}var f=n(244),p=n(945);const g={none:0,xs:4,sm:8,md:16,lg:24,xl:32},m={xs:8,sm:10,md:14,lg:20,xl:24},v=["button","submit","reset"],y=/[^\s]\/[^\s]/,b={...f.LU,...p.$,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,round:Boolean,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...h.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function x(e){const t=(0,f.ZP)(e,m),n=d(e),{hasRouterLink:r,hasLink:s,linkTag:o,linkProps:a,navigateToRouterLink:l}=(0,p.Z)("button"),c=(0,i.Fl)((()=>{const n=!1===e.fab&&!1===e.fabMini?t.value:{};return void 0!==e.padding?Object.assign({},n,{padding:e.padding.split(/\s+/).map((e=>e in g?g[e]+"px":e)).join(" "),minWidth:"0",minHeight:"0"}):n})),u=(0,i.Fl)((()=>!0===e.rounded||!0===e.fab||!0===e.fabMini)),h=(0,i.Fl)((()=>!0!==e.disable&&!0!==e.loading)),b=(0,i.Fl)((()=>!0===h.value?e.tabindex||0:-1)),x=(0,i.Fl)((()=>!0===e.flat?"flat":!0===e.outline?"outline":!0===e.push?"push":!0===e.unelevated?"unelevated":"standard")),w=(0,i.Fl)((()=>{const t={tabindex:b.value};return!0===s.value?Object.assign(t,a.value):!0===v.includes(e.type)&&(t.type=e.type),"a"===o.value?(!0===e.disable?t["aria-disabled"]="true":void 0===t.href&&(t.role="button"),!0!==r.value&&!0===y.test(e.type)&&(t.type=e.type)):!0===e.disable&&(t.disabled="",t["aria-disabled"]="true"),!0===e.loading&&void 0!==e.percentage&&Object.assign(t,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),t})),_=(0,i.Fl)((()=>{let t;return void 0!==e.color?t=!0===e.flat||!0===e.outline?`text-${e.textColor||e.color}`:`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(t=`text-${e.textColor}`),`q-btn--${x.value} q-btn--`+(!0===e.round?"round":"rectangle"+(!0===u.value?" q-btn--rounded":""))+(void 0!==t?" "+t:"")+(!0===h.value?" q-btn--actionable q-focusable q-hoverable":!0===e.disable?" disabled":"")+(!0===e.fab?" q-btn--fab":!0===e.fabMini?" q-btn--fab-mini":"")+(!0===e.noCaps?" q-btn--no-uppercase":"")+(!0===e.dense?" q-btn--dense":"")+(!0===e.stretch?" no-border-radius self-stretch":"")+(!0===e.glossy?" glossy":"")})),S=(0,i.Fl)((()=>n.value+(!0===e.stack?" column":" row")+(!0===e.noWrap?" no-wrap text-no-wrap":"")+(!0===e.loading?" q-btn__content--hidden":"")));return{classes:_,style:c,innerClasses:S,attributes:w,hasRouterLink:r,hasLink:s,linkTag:o,navigateToRouterLink:l,isActionable:h}}var w=n(5987),_=n(2026),S=n(1384),k=n(1705);const{passiveCapture:C}=S.rU;let A=null,T=null,I=null;const E=(0,w.L)({name:"QBtn",props:{...b,percentage:Number,darkPercentage:Boolean},emits:["click","keydown","touchstart","mousedown","keyup"],setup(e,{slots:t,emit:n}){const{proxy:c}=(0,i.FN)(),{classes:u,style:h,innerClasses:d,attributes:f,hasRouterLink:p,hasLink:g,linkTag:m,navigateToRouterLink:v,isActionable:y}=x(e),b=(0,r.iH)(null),w=(0,r.iH)(null);let E,P,R=null;const L=(0,i.Fl)((()=>void 0!==e.label&&null!==e.label&&""!==e.label)),N=(0,i.Fl)((()=>!0!==e.disable&&!1!==e.ripple&&{keyCodes:!0===g.value?[13,32]:[13],...!0===e.ripple?{}:e.ripple})),O=(0,i.Fl)((()=>({center:e.round}))),M=(0,i.Fl)((()=>{const t=Math.max(0,Math.min(100,e.percentage));return t>0?{transition:"transform 0.6s",transform:`translateX(${t-100}%)`}:{}})),D=(0,i.Fl)((()=>!0===e.loading?{onMousedown:j,onTouchstartPassive:j,onClick:j,onKeydown:j,onKeyup:j}:!0===y.value?{onClick:z,onKeydown:B,onMousedown:V,onTouchstart:q}:{onClick:S.NS})),F=(0,i.Fl)((()=>({ref:b,class:"q-btn q-btn-item non-selectable no-outline "+u.value,style:h.value,...f.value,...D.value})));function z(t){if(null!==b.value){if(void 0!==t){if(!0===t.defaultPrevented)return;const n=document.activeElement;if("submit"===e.type&&n!==document.body&&!1===b.value.contains(n)&&!1===n.contains(b.value)){b.value.focus();const e=()=>{document.removeEventListener("keydown",S.NS,!0),document.removeEventListener("keyup",e,C),null!==b.value&&b.value.removeEventListener("blur",e,C)};document.addEventListener("keydown",S.NS,!0),document.addEventListener("keyup",e,C),b.value.addEventListener("blur",e,C)}}if(!0===p.value){const e=()=>{t.__qNavigate=!0,v(t)};n("click",t,e),!0!==t.defaultPrevented&&e()}else n("click",t)}}function B(e){null!==b.value&&(n("keydown",e),!0===(0,k.So)(e,[13,32])&&T!==b.value&&(null!==T&&U(),!0!==e.defaultPrevented&&(b.value.focus(),T=b.value,b.value.classList.add("q-btn--active"),document.addEventListener("keyup",H,!0),b.value.addEventListener("blur",H,C)),(0,S.NS)(e)))}function q(e){null!==b.value&&(n("touchstart",e),!0!==e.defaultPrevented&&(A!==b.value&&(null!==A&&U(),A=b.value,R=e.target,R.addEventListener("touchcancel",H,C),R.addEventListener("touchend",H,C)),E=!0,clearTimeout(P),P=setTimeout((()=>{E=!1}),200)))}function V(e){null!==b.value&&(e.qSkipRipple=!0===E,n("mousedown",e),!0!==e.defaultPrevented&&I!==b.value&&(null!==I&&U(),I=b.value,b.value.classList.add("q-btn--active"),document.addEventListener("mouseup",H,C)))}function H(e){if(null!==b.value&&(void 0===e||"blur"!==e.type||document.activeElement!==b.value)){if(void 0!==e&&"keyup"===e.type){if(T===b.value&&!0===(0,k.So)(e,[13,32])){const t=new MouseEvent("click",e);t.qKeyEvent=!0,!0===e.defaultPrevented&&(0,S.X$)(t),!0===e.cancelBubble&&(0,S.sT)(t),b.value.dispatchEvent(t),(0,S.NS)(e),e.qKeyEvent=!0}n("keyup",e)}U()}}function U(e){const t=w.value;!0===e||A!==b.value&&I!==b.value||null===t||t===document.activeElement||(t.setAttribute("tabindex",-1),t.focus()),A===b.value&&(null!==R&&(R.removeEventListener("touchcancel",H,C),R.removeEventListener("touchend",H,C)),A=R=null),I===b.value&&(document.removeEventListener("mouseup",H,C),I=null),T===b.value&&(document.removeEventListener("keyup",H,!0),null!==b.value&&b.value.removeEventListener("blur",H,C),T=null),null!==b.value&&b.value.classList.remove("q-btn--active")}function j(e){(0,S.NS)(e),e.qSkipRipple=!0}return(0,i.Jd)((()=>{U(!0)})),Object.assign(c,{click:z}),()=>{let n=[];void 0!==e.icon&&n.push((0,i.h)(o.Z,{name:e.icon,left:!1===e.stack&&!0===L.value,role:"img","aria-hidden":"true"})),!0===L.value&&n.push((0,i.h)("span",{class:"block"},[e.label])),n=(0,_.vs)(t.default,n),void 0!==e.iconRight&&!1===e.round&&n.push((0,i.h)(o.Z,{name:e.iconRight,right:!1===e.stack&&!0===L.value,role:"img","aria-hidden":"true"}));const r=[(0,i.h)("span",{class:"q-focus-helper",ref:w})];return!0===e.loading&&void 0!==e.percentage&&r.push((0,i.h)("span",{class:"q-btn__progress absolute-full overflow-hidden"+(!0===e.darkPercentage?" q-btn__progress--dark":"")},[(0,i.h)("span",{class:"q-btn__progress-indicator fit block",style:M.value})])),r.push((0,i.h)("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+d.value},n)),null!==e.loading&&r.push((0,i.h)(s.uT,{name:"q-transition--fade"},(()=>!0===e.loading?[(0,i.h)("span",{key:"loading",class:"absolute-full flex flex-center"},void 0!==t.loading?t.loading():[(0,i.h)(a.Z)])]:null))),(0,i.wy)((0,i.h)(m.value,F.value,r),[[l.Z,N.value,void 0,O.value]])}}})},4458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});n(5583);var i=n(9835),r=n(8234),s=n(5987),o=n(2026);const a=(0,s.L)({name:"QCard",props:{...r.S,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const n=(0,i.FN)(),s=(0,r.Z)(e,n.proxy.$q),a=(0,i.Fl)((()=>"q-card"+(!0===s.value?" q-card--dark q-dark":"")+(!0===e.bordered?" q-card--bordered":"")+(!0===e.square?" q-card--square no-border-radius":"")+(!0===e.flat?" q-card--flat no-shadow":"")));return()=>(0,i.h)(e.tag,{class:a.value},(0,o.KR)(t.default))}})},3190:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(9835),r=n(5987),s=n(2026);const o=(0,r.L)({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=(0,i.Fl)((()=>"q-card__section q-card__section--"+(!0===e.horizontal?"horiz row no-wrap":"vert")));return()=>(0,i.h)(e.tag,{class:n.value},(0,s.KR)(t.default))}})},960:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});n(6727),n(702);var i=n(9835),r=n(9379),s=n(8234),o=n(6120),a=n(499),l=n(5310),c=n(2046);let u=0;const h={fullscreen:Boolean,noRouteFullscreenExit:Boolean},d=["update:fullscreen","fullscreen"];function f(){const e=(0,i.FN)(),{props:t,emit:n,proxy:r}=e;let s,o,h;const d=(0,a.iH)(!1);function f(){!0===d.value?g():p()}function p(){!0!==d.value&&(d.value=!0,h=r.$el.parentNode,h.replaceChild(o,r.$el),document.body.appendChild(r.$el),u++,1===u&&document.body.classList.add("q-body--fullscreen-mixin"),s={handler:g},l.Z.add(s))}function g(){!0===d.value&&(void 0!==s&&(l.Z.remove(s),s=void 0),h.replaceChild(r.$el,o),d.value=!1,u=Math.max(0,u-1),0===u&&(document.body.classList.remove("q-body--fullscreen-mixin"),void 0!==r.$el.scrollIntoView&&setTimeout((()=>{r.$el.scrollIntoView()}))))}return!0===(0,c.Rb)(e)&&(0,i.YP)((()=>r.$route.fullPath),(()=>{!0!==t.noRouteFullscreenExit&&g()})),(0,i.YP)((()=>t.fullscreen),(e=>{d.value!==e&&f()})),(0,i.YP)(d,(e=>{n("update:fullscreen",e),n("fullscreen",e)})),(0,i.wF)((()=>{o=document.createElement("span")})),(0,i.bv)((()=>{!0===t.fullscreen&&p()})),(0,i.Jd)(g),Object.assign(r,{toggleFullscreen:f,setFullscreen:p,exitFullscreen:g}),{inFullscreen:d,toggleFullscreen:f}}var p=n(5987),g=n(6254),m=n(2026);const v=["top","right","bottom","left"],y=["regular","flat","outline","push","unelevated"],b=(0,p.L)({name:"QCarousel",props:{...s.S,...o.t6,...h,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>y.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>v.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...d,...o.K6],setup(e,{slots:t}){const{proxy:{$q:n}}=(0,i.FN)(),a=(0,s.Z)(e,n);let l,c;const{updatePanelsList:u,getPanelContent:h,panelDirectives:d,goToPanel:p,previousPanel:v,nextPanel:y,getEnabledPanels:b,panelIndex:x}=(0,o.ZP)(),{inFullscreen:w}=f(),_=(0,i.Fl)((()=>!0!==w.value&&void 0!==e.height?{height:e.height}:{})),S=(0,i.Fl)((()=>!0===e.vertical?"vertical":"horizontal")),k=(0,i.Fl)((()=>`q-carousel q-panel-parent q-carousel--with${!0===e.padding?"":"out"}-padding`+(!0===w.value?" fullscreen":"")+(!0===a.value?" q-carousel--dark q-dark":"")+(!0===e.arrows?` q-carousel--arrows-${S.value}`:"")+(!0===e.navigation?` q-carousel--navigation-${I.value}`:""))),C=(0,i.Fl)((()=>{const t=[e.prevIcon||n.iconSet.carousel[!0===e.vertical?"up":"left"],e.nextIcon||n.iconSet.carousel[!0===e.vertical?"down":"right"]];return!1===e.vertical&&!0===n.lang.rtl?t.reverse():t})),A=(0,i.Fl)((()=>e.navigationIcon||n.iconSet.carousel.navigationIcon)),T=(0,i.Fl)((()=>e.navigationActiveIcon||A.value)),I=(0,i.Fl)((()=>e.navigationPosition||(!0===e.vertical?"right":"bottom"))),E=(0,i.Fl)((()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0})));function P(){const t=!0===(0,g.hj)(e.autoplay)?e.autoplay:5e3;l=setTimeout(t>=0?y:v,Math.abs(t))}function R(t,n){return(0,i.h)("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${t} q-carousel__navigation--${I.value}`+(void 0!==e.controlColor?` text-${e.controlColor}`:"")},[(0,i.h)("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},b().map(n))])}function L(){const n=[];if(!0===e.navigation){const e=void 0!==t["navigation-icon"]?t["navigation-icon"]:e=>(0,i.h)(r.Z,{key:"nav"+e.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${!0===e.active?"":"in"}active`,...e.btnProps,onClick:e.onClick}),s=c-1;n.push(R("buttons",((t,n)=>{const i=t.props.name,r=x.value===n;return e({index:n,maxIndex:s,name:i,active:r,btnProps:{icon:!0===r?T.value:A.value,size:"sm",...E.value},onClick:()=>{p(i)}})})))}else if(!0===e.thumbnails){const t=void 0!==e.controlColor?` text-${e.controlColor}`:"";n.push(R("thumbnails",(n=>{const r=n.props;return(0,i.h)("img",{key:"tmb#"+r.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${r.name===e.modelValue?"":"in"}active`+t,src:r.imgSrc||r["img-src"],onClick:()=>{p(r.name)}})})))}return!0===e.arrows&&x.value>=0&&((!0===e.infinite||x.value>0)&&n.push((0,i.h)("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${S.value} absolute flex flex-center`},[(0,i.h)(r.Z,{icon:C.value[0],...E.value,onClick:v})])),(!0===e.infinite||x.value<c-1)&&n.push((0,i.h)("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${S.value} absolute flex flex-center`},[(0,i.h)(r.Z,{icon:C.value[1],...E.value,onClick:y})]))),(0,m.vs)(t.control,n)}return(0,i.YP)((()=>e.modelValue),(()=>{e.autoplay&&(clearInterval(l),P())})),(0,i.YP)((()=>e.autoplay),(e=>{e?P():clearInterval(l)})),(0,i.bv)((()=>{e.autoplay&&P()})),(0,i.Jd)((()=>{clearInterval(l)})),()=>(c=u(t),(0,i.h)("div",{class:k.value,style:_.value},[(0,m.Jl)("div",{class:"q-carousel__slides-container"},h(),"sl-cont",e.swipeable,(()=>d.value))].concat(L())))}})},1694:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(9835),r=n(5987),s=n(6120),o=n(2026);const a=(0,r.L)({name:"QCarouselSlide",props:{...s.vZ,imgSrc:String},setup(e,{slots:t}){const n=(0,i.Fl)((()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{}));return()=>(0,i.h)("div",{class:"q-carousel__slide",style:n.value},(0,o.KR)(t.default))}})},7691:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(9835),r=n(2857),s=n(1136),o=n(8234),a=n(244),l=n(5987),c=n(1384),u=n(2026);const h={xs:8,sm:10,md:14,lg:20,xl:24},d=(0,l.L)({name:"QChip",props:{...o.S,...a.LU,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=(0,i.FN)(),d=(0,o.Z)(e,l),f=(0,a.ZP)(e,h),p=(0,i.Fl)((()=>!0===e.selected||void 0!==e.icon)),g=(0,i.Fl)((()=>!0===e.selected?e.iconSelected||l.iconSet.chip.selected:e.icon)),m=(0,i.Fl)((()=>e.iconRemove||l.iconSet.chip.remove)),v=(0,i.Fl)((()=>!1===e.disable&&(!0===e.clickable||null!==e.selected))),y=(0,i.Fl)((()=>{const t=!0===e.outline&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(!1===e.outline&&void 0!==e.color?` bg-${e.color}`:"")+(t?` text-${t} q-chip--colored`:"")+(!0===e.disable?" disabled":"")+(!0===e.dense?" q-chip--dense":"")+(!0===e.outline?" q-chip--outline":"")+(!0===e.selected?" q-chip--selected":"")+(!0===v.value?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(!0===e.square?" q-chip--square":"")+(!0===d.value?" q-chip--dark q-dark":"")})),b=(0,i.Fl)((()=>!0===e.disable?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0}));function x(e){13===e.keyCode&&w(e)}function w(t){e.disable||(n("update:selected",!e.selected),n("click",t))}function _(t){void 0!==t.keyCode&&13!==t.keyCode||((0,c.NS)(t),!1===e.disable&&(n("update:modelValue",!1),n("remove")))}function S(){const n=[];!0===v.value&&n.push((0,i.h)("div",{class:"q-focus-helper"})),!0===p.value&&n.push((0,i.h)(r.Z,{class:"q-chip__icon q-chip__icon--left",name:g.value}));const s=void 0!==e.label?[(0,i.h)("div",{class:"ellipsis"},[e.label])]:void 0;return n.push((0,i.h)("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},(0,u.pf)(t.default,s))),e.iconRight&&n.push((0,i.h)(r.Z,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),!0===e.removable&&n.push((0,i.h)(r.Z,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:m.value,...b.value,onClick:_,onKeyup:_})),n}return()=>{if(!1===e.modelValue)return;const t={class:y.value,style:f.value};return!0===v.value&&Object.assign(t,b.value,{onClick:w,onKeyup:x}),(0,u.Jl)("div",t,S(),"ripple",!1!==e.ripple&&!0!==e.disable,(()=>[[s.Z,e.ripple]]))}}})},906:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});n(6727),n(702);var i=n(9835),r=n(499),s=n(4953),o=n(3842),a=n(9754),l=n(2695),c=n(8234),u=n(2873),h=n(5987),d=n(321),f=n(2026),p=n(5439);const g=150,m=(0,h.L)({name:"QDrawer",inheritAttrs:!1,props:{...o.vr,...c.S,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...o.gH,"on-layout","mini-state"],setup(e,{slots:t,emit:n,attrs:h}){const m=(0,i.FN)(),{proxy:{$q:v}}=m,y=(0,c.Z)(e,v),{preventBodyScroll:b}=(0,a.Z)(),{registerTimeout:x}=(0,l.Z)(),w=(0,i.f3)(p.YE,(()=>{console.error("QDrawer needs to be child of QLayout")}));let _,S,k;const C=(0,r.iH)("mobile"===e.behavior||"desktop"!==e.behavior&&w.totalWidth.value<=e.breakpoint),A=(0,i.Fl)((()=>!0===e.mini&&!0!==C.value)),T=(0,i.Fl)((()=>!0===A.value?e.miniWidth:e.width)),I=(0,r.iH)(!0===e.showIfAbove&&!1===C.value||!0===e.modelValue),E=(0,i.Fl)((()=>!0!==e.persistent&&(!0===C.value||!0===X.value)));function P(e,t){if(O(),!1!==e&&w.animate(),oe(0),!0===C.value){const e=w.instances[U.value];void 0!==e&&!0===e.belowBreakpoint&&e.hide(!1),ae(1),!0!==w.isContainer.value&&b(!0)}else ae(0),!1!==e&&le(!1);x((()=>{!1!==e&&le(!0),!0!==t&&n("show",e)}),g)}function R(e,t){M(),!1!==e&&w.animate(),ae(0),oe(z.value*T.value),de(),!0!==t&&x((()=>{n("hide",e)}),g)}const{show:L,hide:N}=(0,o.ZP)({showing:I,hideOnRouteChange:E,handleShow:P,handleHide:R}),{addToHistory:O,removeFromHistory:M}=(0,s.Z)(I,N,E),D={belowBreakpoint:C,hide:N},F=(0,i.Fl)((()=>"right"===e.side)),z=(0,i.Fl)((()=>(!0===v.lang.rtl?-1:1)*(!0===F.value?1:-1))),B=(0,r.iH)(0),q=(0,r.iH)(!1),V=(0,r.iH)(!1),H=(0,r.iH)(T.value*z.value),U=(0,i.Fl)((()=>!0===F.value?"left":"right")),j=(0,i.Fl)((()=>!0===I.value&&!1===C.value&&!1===e.overlay?!0===e.miniToOverlay?e.miniWidth:T.value:0)),Y=(0,i.Fl)((()=>!0===e.overlay||!0===e.miniToOverlay||w.view.value.indexOf(F.value?"R":"L")>-1||!0===v.platform.is.ios&&!0===w.isContainer.value)),W=(0,i.Fl)((()=>!1===e.overlay&&!0===I.value&&!1===C.value)),X=(0,i.Fl)((()=>!0===e.overlay&&!0===I.value&&!1===C.value)),$=(0,i.Fl)((()=>"fullscreen q-drawer__backdrop"+(!1===I.value&&!1===q.value?" hidden":""))),G=(0,i.Fl)((()=>({backgroundColor:`rgba(0,0,0,${.4*B.value})`}))),K=(0,i.Fl)((()=>!0===F.value?"r"===w.rows.value.top[2]:"l"===w.rows.value.top[0])),Z=(0,i.Fl)((()=>!0===F.value?"r"===w.rows.value.bottom[2]:"l"===w.rows.value.bottom[0])),Q=(0,i.Fl)((()=>{const e={};return!0===w.header.space&&!1===K.value&&(!0===Y.value?e.top=`${w.header.offset}px`:!0===w.header.space&&(e.top=`${w.header.size}px`)),!0===w.footer.space&&!1===Z.value&&(!0===Y.value?e.bottom=`${w.footer.offset}px`:!0===w.footer.space&&(e.bottom=`${w.footer.size}px`)),e})),J=(0,i.Fl)((()=>{const e={width:`${T.value}px`,transform:`translateX(${H.value}px)`};return!0===C.value?e:Object.assign(e,Q.value)})),ee=(0,i.Fl)((()=>"q-drawer__content fit "+(!0!==w.isContainer.value?"scroll":"overflow-auto"))),te=(0,i.Fl)((()=>`q-drawer q-drawer--${e.side}`+(!0===V.value?" q-drawer--mini-animate":"")+(!0===e.bordered?" q-drawer--bordered":"")+(!0===y.value?" q-drawer--dark q-dark":"")+(!0===q.value?" no-transition":!0===I.value?"":" q-layout--prevent-focus")+(!0===C.value?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":" q-drawer--"+(!0===A.value?"mini":"standard")+(!0===Y.value||!0!==W.value?" fixed":"")+(!0===e.overlay||!0===e.miniToOverlay?" q-drawer--on-top":"")+(!0===K.value?" q-drawer--top-padding":"")))),ne=(0,i.Fl)((()=>{const t=!0===v.lang.rtl?e.side:U.value;return[[u.Z,ue,void 0,{[t]:!0,mouse:!0}]]})),ie=(0,i.Fl)((()=>{const t=!0===v.lang.rtl?U.value:e.side;return[[u.Z,he,void 0,{[t]:!0,mouse:!0}]]})),re=(0,i.Fl)((()=>{const t=!0===v.lang.rtl?U.value:e.side;return[[u.Z,he,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]}));function se(){pe(C,"mobile"===e.behavior||"desktop"!==e.behavior&&w.totalWidth.value<=e.breakpoint)}function oe(e){void 0===e?(0,i.Y3)((()=>{e=!0===I.value?0:T.value,oe(z.value*e)})):(!0!==w.isContainer.value||!0!==F.value||!0!==C.value&&Math.abs(e)!==T.value||(e+=z.value*w.scrollbarWidth.value),H.value=e)}function ae(e){B.value=e}function le(e){const t=!0===e?"remove":!0!==w.isContainer.value?"add":"";""!==t&&document.body.classList[t]("q-body--drawer-toggle")}function ce(){clearTimeout(S),m.proxy&&m.proxy.$el&&m.proxy.$el.classList.add("q-drawer--mini-animate"),V.value=!0,S=setTimeout((()=>{V.value=!1,m&&m.proxy&&m.proxy.$el&&m.proxy.$el.classList.remove("q-drawer--mini-animate")}),150)}function ue(e){if(!1!==I.value)return;const t=T.value,n=(0,d.vX)(e.distance.x,0,t);if(!0===e.isFinal){const e=n>=Math.min(75,t);return!0===e?L():(w.animate(),ae(0),oe(z.value*t)),void(q.value=!1)}oe((!0===v.lang.rtl?!0!==F.value:F.value)?Math.max(t-n,0):Math.min(0,n-t)),ae((0,d.vX)(n/t,0,1)),!0===e.isFirst&&(q.value=!0)}function he(t){if(!0!==I.value)return;const n=T.value,i=t.direction===e.side,r=(!0===v.lang.rtl?!0!==i:i)?(0,d.vX)(t.distance.x,0,n):0;if(!0===t.isFinal){const e=Math.abs(r)<Math.min(75,n);return!0===e?(w.animate(),ae(1),oe(0)):N(),void(q.value=!1)}oe(z.value*r),ae((0,d.vX)(1-r/n,0,1)),!0===t.isFirst&&(q.value=!0)}function de(){b(!1),le(!0)}function fe(t,n){w.update(e.side,t,n)}function pe(e,t){e.value!==t&&(e.value=t)}function ge(t,n){fe("size",!0===t?e.miniWidth:n)}return(0,i.YP)(C,(t=>{!0===t?(_=I.value,!0===I.value&&N(!1)):!1===e.overlay&&"mobile"!==e.behavior&&!1!==_&&(!0===I.value?(oe(0),ae(0),de()):L(!1))})),(0,i.YP)((()=>e.side),((e,t)=>{w.instances[t]===D&&(w.instances[t]=void 0,w[t].space=!1,w[t].offset=0),w.instances[e]=D,w[e].size=T.value,w[e].space=W.value,w[e].offset=j.value})),(0,i.YP)(w.totalWidth,(()=>{!0!==w.isContainer.value&&!0===document.qScrollPrevented||se()})),(0,i.YP)((()=>e.behavior+e.breakpoint),se),(0,i.YP)(w.isContainer,(e=>{!0===I.value&&b(!0!==e),!0===e&&se()})),(0,i.YP)(w.scrollbarWidth,(()=>{oe(!0===I.value?0:void 0)})),(0,i.YP)(j,(e=>{fe("offset",e)})),(0,i.YP)(W,(e=>{n("on-layout",e),fe("space",e)})),(0,i.YP)(F,(()=>{oe()})),(0,i.YP)(T,(t=>{oe(),ge(e.miniToOverlay,t)})),(0,i.YP)((()=>e.miniToOverlay),(e=>{ge(e,T.value)})),(0,i.YP)((()=>v.lang.rtl),(()=>{oe()})),(0,i.YP)((()=>e.mini),(()=>{!0===e.modelValue&&(ce(),w.animate())})),(0,i.YP)(A,(e=>{n("mini-state",e)})),w.instances[e.side]=D,ge(e.miniToOverlay,T.value),fe("space",W.value),fe("offset",j.value),!0===e.showIfAbove&&!0!==e.modelValue&&!0===I.value&&void 0!==e["onUpdate:modelValue"]&&n("update:modelValue",!0),(0,i.bv)((()=>{n("on-layout",W.value),n("mini-state",A.value),_=!0===e.showIfAbove;const t=()=>{const e=!0===I.value?P:R;e(!1,!0)};0===w.totalWidth.value?k=(0,i.YP)(w.totalWidth,(()=>{k(),k=void 0,!1===I.value&&!0===e.showIfAbove&&!1===C.value?L(!1):t()})):(0,i.Y3)(t)})),(0,i.Jd)((()=>{void 0!==k&&k(),clearTimeout(S),!0===I.value&&de(),w.instances[e.side]===D&&(w.instances[e.side]=void 0,fe("size",0),fe("offset",0),fe("space",!1))})),()=>{const n=[];!0===C.value&&(!1===e.noSwipeOpen&&n.push((0,i.wy)((0,i.h)("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),ne.value)),n.push((0,f.Jl)("div",{ref:"backdrop",class:$.value,style:G.value,"aria-hidden":"true",onClick:N},void 0,"backdrop",!0!==e.noSwipeBackdrop&&!0===I.value,(()=>re.value))));const r=!0===A.value&&void 0!==t.mini,s=[(0,i.h)("div",{...h,key:""+r,class:[ee.value,h.class]},!0===r?t.mini():(0,f.KR)(t.default))];return!0===e.elevated&&!0===I.value&&s.push((0,i.h)("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push((0,f.Jl)("aside",{ref:"content",class:te.value,style:J.value},s,"contentclose",!0!==e.noSwipeClose&&!0===C.value,(()=>ie.value))),(0,i.h)("div",{class:"q-drawer-container"},n)}}})},3837:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});n(702),n(6727);var i=n(9835),r=n(499),s=n(7691),o=n(201),a=n(9256),l=n(1970),c=n(7915),u=n(5987),h=n(321),d=n(1384);const f=(0,u.L)({name:"QFile",inheritAttrs:!1,props:{...o.Cl,...a.Fz,...l.TS,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...o.HJ,...l.Pl],setup(e,{slots:t,emit:n,attrs:u}){const{proxy:f}=(0,i.FN)(),p=(0,o.tL)(),g=(0,r.iH)(null),m=(0,r.iH)(!1),v=(0,a.Do)(e),{pickFiles:y,onDragover:b,onDragleave:x,processFiles:w,getDndNode:_}=(0,l.ZP)({editable:p.editable,dnd:m,getFileInput:D,addFilesToQueue:F}),S=(0,c.Z)(e),k=(0,i.Fl)((()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[])),C=(0,i.Fl)((()=>(0,o.yV)(k.value))),A=(0,i.Fl)((()=>k.value.map((e=>e.name)).join(", "))),T=(0,i.Fl)((()=>(0,h.rB)(k.value.reduce(((e,t)=>e+t.size),0)))),I=(0,i.Fl)((()=>({totalSize:T.value,filesNumber:k.value.length,maxFiles:e.maxFiles}))),E=(0,i.Fl)((()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:v.value,...u,id:p.targetUid.value,disabled:!0!==p.editable.value}))),P=(0,i.Fl)((()=>!0===e.multiple&&!0===e.append));function R(e){const t=k.value.slice();t.splice(e,1),N(t)}function L(e){const t=k.value.findIndex(e);t>-1&&R(t)}function N(t){n("update:modelValue",!0===e.multiple?t:t[0])}function O(e){13===e.keyCode&&(0,d.X$)(e)}function M(e){13!==e.keyCode&&32!==e.keyCode||y(e)}function D(){return g.value}function F(t,n){const i=w(t,n,k.value,P.value);void 0!==i&&((!0===e.multiple?e.modelValue&&i.every((e=>k.value.includes(e))):e.modelValue===i[0])||N(!0===P.value?k.value.concat(i):i))}function z(){return[(0,i.h)("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function B(){if(void 0!==t.file)return 0===k.value.length?z():k.value.map(((e,n)=>t.file({index:n,file:e,ref:this})));if(void 0!==t.selected)return 0===k.value.length?z():t.selected({files:k.value,ref:this});if(!0===e.useChips)return 0===k.value.length?z():k.value.map(((t,n)=>(0,i.h)(s.Z,{key:"file-"+n,removable:p.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{R(n)}},(()=>(0,i.h)("span",{class:"ellipsis",textContent:t.name})))));const n=void 0!==e.displayValue?e.displayValue:A.value;return n.length>0?[(0,i.h)("div",{class:e.inputClass,style:e.inputStyle,textContent:n})]:z()}function q(){const t={ref:g,...E.value,...S.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:F};return!0===e.multiple&&(t.multiple=!0),(0,i.h)("input",t)}return Object.assign(p,{fieldClass:{value:"q-file q-field--auto-height"},emitValue:N,hasValue:C,inputRef:g,innerValue:k,floatingLabel:(0,i.Fl)((()=>!0===C.value||(0,o.yV)(e.displayValue))),computedCounter:(0,i.Fl)((()=>{if(void 0!==e.counterLabel)return e.counterLabel(I.value);const t=e.maxFiles;return`${k.value.length}${void 0!==t?" / "+t:""} (${T.value})`})),getControlChild:()=>_("file"),getControl:()=>{const t={ref:p.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return!0===p.editable.value&&Object.assign(t,{onDragover:b,onDragleave:x,onKeydown:O,onKeyup:M}),(0,i.h)("div",t,[q()].concat(B()))}}),Object.assign(f,{removeAtIndex:R,removeFile:L,getNativeElement:()=>g.value}),(0,o.ZP)(p)}})},6602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(9835),r=n(499),s=n(883),o=n(5987),a=n(2026),l=n(5439);const c=(0,o.L)({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=(0,i.FN)(),c=(0,i.f3)(l.YE,(()=>{console.error("QHeader needs to be child of QLayout")})),u=(0,r.iH)(parseInt(e.heightHint,10)),h=(0,r.iH)(!0),d=(0,i.Fl)((()=>!0===e.reveal||c.view.value.indexOf("H")>-1||o.platform.is.ios&&!0===c.isContainer.value)),f=(0,i.Fl)((()=>{if(!0!==e.modelValue)return 0;if(!0===d.value)return!0===h.value?u.value:0;const t=u.value-c.scroll.value.position;return t>0?t:0})),p=(0,i.Fl)((()=>!0!==e.modelValue||!0===d.value&&!0!==h.value)),g=(0,i.Fl)((()=>!0===e.modelValue&&!0===p.value&&!0===e.reveal)),m=(0,i.Fl)((()=>"q-header q-layout__section--marginal "+(!0===d.value?"fixed":"absolute")+"-top"+(!0===e.bordered?" q-header--bordered":"")+(!0===p.value?" q-header--hidden":"")+(!0!==e.modelValue?" q-layout--prevent-focus":""))),v=(0,i.Fl)((()=>{const e=c.rows.value.top,t={};return"l"===e[0]&&!0===c.left.space&&(t[!0===o.lang.rtl?"right":"left"]=`${c.left.size}px`),"r"===e[2]&&!0===c.right.space&&(t[!0===o.lang.rtl?"left":"right"]=`${c.right.size}px`),t}));function y(e,t){c.update("header",e,t)}function b(e,t){e.value!==t&&(e.value=t)}function x({height:e}){b(u,e),y("size",e)}function w(e){!0===g.value&&b(h,!0),n("focusin",e)}(0,i.YP)((()=>e.modelValue),(e=>{y("space",e),b(h,!0),c.animate()})),(0,i.YP)(f,(e=>{y("offset",e)})),(0,i.YP)((()=>e.reveal),(t=>{!1===t&&b(h,e.modelValue)})),(0,i.YP)(h,(e=>{c.animate(),n("reveal",e)})),(0,i.YP)(c.scroll,(t=>{!0===e.reveal&&b(h,"up"===t.direction||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)}));const _={};return c.instances.header=_,!0===e.modelValue&&y("size",u.value),y("space",e.modelValue),y("offset",f.value),(0,i.Jd)((()=>{c.instances.header===_&&(c.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))})),()=>{const n=(0,a.Bl)(t.default,[]);return!0===e.elevated&&n.push((0,i.h)("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push((0,i.h)(s.Z,{debounce:0,onResize:x})),(0,i.h)("header",{class:m.value,style:v.value,onFocusin:w},n)}}})},2857:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});n(702);var i=n(9835),r=n(244),s=n(5987),o=n(2026);const a="0 0 24 24",l=e=>e,c=e=>`ionicons ${e}`,u={"mdi-":e=>`mdi ${e}`,"icon-":l,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":c,"ion-ios":c,"ion-logo":c,"iconfont ":l,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},h={o_:"-outlined",r_:"-round",s_:"-sharp"},d={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},f=new RegExp("^("+Object.keys(u).join("|")+")"),p=new RegExp("^("+Object.keys(h).join("|")+")"),g=new RegExp("^("+Object.keys(d).join("|")+")"),m=/^[Mm]\s?[-+]?\.?\d/,v=/^img:/,y=/^svguse:/,b=/^ion-/,x=/^(fa-(solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /,w=(0,s.L)({name:"QIcon",props:{...r.LU,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,i.FN)(),s=(0,r.ZP)(e),l=(0,i.Fl)((()=>"q-icon"+(!0===e.left?" on-left":"")+(!0===e.right?" on-right":"")+(void 0!==e.color?` text-${e.color}`:""))),c=(0,i.Fl)((()=>{let t,r=e.name;if("none"===r||!r)return{none:!0};if(null!==n.iconMapFn){const e=n.iconMapFn(r);if(void 0!==e){if(void 0===e.icon)return{cls:e.cls,content:void 0!==e.content?e.content:" "};if(r=e.icon,"none"===r||!r)return{none:!0}}}if(!0===m.test(r)){const[e,t=a]=r.split("|");return{svg:!0,viewBox:t,nodes:e.split("&&").map((e=>{const[t,n,r]=e.split("@@");return(0,i.h)("path",{style:n,d:t,transform:r})}))}}if(!0===v.test(r))return{img:!0,src:r.substring(4)};if(!0===y.test(r)){const[e,t=a]=r.split("|");return{svguse:!0,src:e.substring(7),viewBox:t}}let s=" ";const o=r.match(f);if(null!==o)t=u[o[1]](r);else if(!0===x.test(r))t=r;else if(!0===b.test(r))t=`ionicons ion-${!0===n.platform.is.ios?"ios":"md"}${r.substring(3)}`;else if(!0===g.test(r)){t="notranslate material-symbols";const e=r.match(g);null!==e&&(r=r.substring(6),t+=d[e[1]]),s=r}else{t="notranslate material-icons";const e=r.match(p);null!==e&&(r=r.substring(2),t+=h[e[1]]),s=r}return{cls:t,content:s}}));return()=>{const n={class:l.value,style:s.value,"aria-hidden":"true",role:"presentation"};return!0===c.value.none?(0,i.h)(e.tag,n,(0,o.KR)(t.default)):!0===c.value.img?(0,i.h)("span",n,(0,o.vs)(t.default,[(0,i.h)("img",{src:c.value.src})])):!0===c.value.svg?(0,i.h)("span",n,(0,o.vs)(t.default,[(0,i.h)("svg",{viewBox:c.value.viewBox||"0 0 24 24"},c.value.nodes)])):!0===c.value.svguse?(0,i.h)("span",n,(0,o.vs)(t.default,[(0,i.h)("svg",{viewBox:c.value.viewBox},[(0,i.h)("use",{"xlink:href":c.value.src})])])):(void 0!==c.value.cls&&(n.class+=" "+c.value.cls),(0,i.h)(e.tag,n,(0,o.vs)(t.default,[c.value.content])))}}})},335:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(499),r=n(9835),s=n(1957),o=n(3902);const a={ratio:[String,Number]};function l(e,t){return(0,r.Fl)((()=>{const n=Number(e.ratio||(void 0!==t?t.value:void 0));return!0!==isNaN(n)&&n>0?{paddingBottom:100/n+"%"}:null}))}var c=n(5987),u=n(2026);n(7506);const h=16/9,d=(0,c.L)({name:"QImg",props:{...a,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:h},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const a=(0,i.iH)(e.initialRatio),c=l(e,a);let h;const d=[(0,i.iH)(null),(0,i.iH)(void 0!==e.placeholderSrc?{src:e.placeholderSrc}:null)],f=(0,i.iH)(0),p=(0,i.iH)(!1),g=(0,i.iH)(!1),m=(0,r.Fl)((()=>`q-img q-img--${!0===e.noNativeMenu?"no-":""}menu`)),v=(0,r.Fl)((()=>({width:e.width,height:e.height}))),y=(0,r.Fl)((()=>"q-img__image "+(void 0!==e.imgClass?e.imgClass+" ":"")+`q-img__image--with${!0===e.noTransition?"out":""}-transition`)),b=(0,r.Fl)((()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position})));function x(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function w(e){if(clearTimeout(h),g.value=!1,null===e)return p.value=!1,d[0].value=null,void(d[1].value=null);p.value=!0,d[f.value].value=e}function _({target:e}){null!==h&&(clearTimeout(h),a.value=0===e.naturalHeight?.5:e.naturalWidth/e.naturalHeight,S(e,1))}function S(e,t){null!==h&&1e3!==t&&(!0===e.complete?k(e):h=setTimeout((()=>{S(e,t+1)}),50))}function k(e){null!==h&&(f.value=1===f.value?0:1,d[f.value].value=null,p.value=!1,g.value=!1,n("load",e.currentSrc||e.src))}function C(e){clearTimeout(h),p.value=!1,g.value=!0,d[0].value=null,d[1].value=null,n("error",e)}function A(e,t){return(0,r.h)("div",{class:"q-img__container absolute-full",key:e},t)}function T(t){const n=d[t].value,i={key:"img_"+t,class:y.value,style:b.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...n};return f.value===t?(i.class+=" q-img__image--waiting",Object.assign(i,{onLoad:_,onError:C})):i.class+=" q-img__image--loaded",A("img"+t,(0,r.h)("img",i))}function I(){return!0!==p.value?(0,r.h)("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},(0,u.KR)(t[!0===g.value?"error":"default"])):(0,r.h)("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},void 0!==t.loading?t.loading():!0===e.noSpinner?void 0:[(0,r.h)(o.Z,{color:e.spinnerColor,size:e.spinnerSize})])}return(0,r.YP)((()=>x()),w),w(x()),(0,r.Jd)((()=>{clearTimeout(h),h=null})),()=>{const t=[];return null!==c.value&&t.push((0,r.h)("div",{key:"filler",style:c.value})),!0!==g.value&&(null!==d[0].value&&t.push(T(0)),null!==d[1].value&&t.push(T(1))),t.push((0,r.h)(s.uT,{name:"q-transition--fade"},I)),(0,r.h)("div",{class:m.value,style:v.value,role:"img","aria-label":e.alt},t)}}})},3119:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});n(702),n(6727);var i=n(499),r=n(9835),s=n(201),o=(n(8964),n(1705));const a={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},l={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},c=Object.keys(l);c.forEach((e=>{l[e].regex=new RegExp(l[e].pattern)}));const u=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+c.join("")+"])|(.)","g"),h=/[.*+?^${}()|[\]\\]/g,d=String.fromCharCode(1),f={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function p(e,t,n,s){let c,f,p,g;const m=(0,i.iH)(null),v=(0,i.iH)(b());function y(){return!0===e.autogrow||["textarea","text","search","url","tel","password"].includes(e.type)}function b(){if(w(),!0===m.value){const t=A(I(e.modelValue));return!1!==e.fillMask?E(t):t}return e.modelValue}function x(e){if(e<c.length)return c.slice(-e);let t="",n=c;const i=n.indexOf(d);if(i>-1){for(let i=e-n.length;i>0;i--)t+=d;n=n.slice(0,i)+t+n.slice(i)}return n}function w(){if(m.value=void 0!==e.mask&&e.mask.length>0&&y(),!1===m.value)return g=void 0,c="",void(f="");const t=void 0===a[e.mask]?e.mask:a[e.mask],n="string"===typeof e.fillMask&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",i=n.replace(h,"\\$&"),r=[],s=[],o=[];let v=!0===e.reverseFillMask,b="",x="";t.replace(u,((e,t,n,i,a)=>{if(void 0!==i){const e=l[i];o.push(e),x=e.negate,!0===v&&(s.push("(?:"+x+"+)?("+e.pattern+"+)?(?:"+x+"+)?("+e.pattern+"+)?"),v=!1),s.push("(?:"+x+"+)?("+e.pattern+")?")}else if(void 0!==n)b="\\"+("\\"===n?"":n),o.push(n),r.push("([^"+b+"]+)?"+b+"?");else{const e=void 0!==t?t:a;b="\\"===e?"\\\\\\\\":e.replace(h,"\\\\$&"),o.push(e),r.push("([^"+b+"]+)?"+b+"?")}}));const w=new RegExp("^"+r.join("")+"("+(""===b?".":"[^"+b+"]")+"+)?$"),_=s.length-1,S=s.map(((t,n)=>0===n&&!0===e.reverseFillMask?new RegExp("^"+i+"*"+t):n===_?new RegExp("^"+t+"("+(""===x?".":x)+"+)?"+(!0===e.reverseFillMask?"$":i+"*")):new RegExp("^"+t)));p=o,g=e=>{const t=w.exec(e);null!==t&&(e=t.slice(1).join(""));const n=[],i=S.length;for(let r=0,s=e;r<i;r++){const e=S[r].exec(s);if(null===e)break;s=s.slice(e.shift().length),n.push(...e)}return n.length>0?n.join(""):e},c=o.map((e=>"string"===typeof e?e:d)).join(""),f=c.split(d).join(n)}function _(t,i,o){const a=s.value,l=a.selectionEnd,u=a.value.length-l,h=I(t);!0===i&&w();const p=A(h),g=!1!==e.fillMask?E(p):p,m=v.value!==g;a.value!==g&&(a.value=g),!0===m&&(v.value=g),document.activeElement===a&&(0,r.Y3)((()=>{if(g!==f)if("insertFromPaste"!==o||!0===e.reverseFillMask)if(["deleteContentBackward","deleteContentForward"].indexOf(o)>-1){const t=!0===e.reverseFillMask?0===l?g.length>p.length?1:0:Math.max(0,g.length-(g===f?0:Math.min(p.length,u)+1))+1:l;a.setSelectionRange(t,t,"forward")}else if(!0===e.reverseFillMask)if(!0===m){const e=Math.max(0,g.length-(g===f?0:Math.min(p.length,u+1)));1===e&&1===l?a.setSelectionRange(e,e,"forward"):k.rightReverse(a,e,e)}else{const e=g.length-u;a.setSelectionRange(e,e,"backward")}else if(!0===m){const e=Math.max(0,c.indexOf(d),Math.min(p.length,l)-1);k.right(a,e,e)}else{const e=l-1;k.right(a,e,e)}else{const e=l-1;k.right(a,e,e)}else{const t=!0===e.reverseFillMask?f.length:0;a.setSelectionRange(t,t,"forward")}}));const y=!0===e.unmaskedValue?I(g):g;String(e.modelValue)!==y&&n(y,!0)}function S(e,t,n){const i=A(I(e.value));t=Math.max(0,c.indexOf(d),Math.min(i.length,t)),e.setSelectionRange(t,n,"forward")}(0,r.YP)((()=>e.type+e.autogrow),w),(0,r.YP)((()=>e.mask),(n=>{if(void 0!==n)_(v.value,!0);else{const n=I(v.value);w(),e.modelValue!==n&&t("update:modelValue",n)}})),(0,r.YP)((()=>e.fillMask+e.reverseFillMask),(()=>{!0===m.value&&_(v.value,!0)})),(0,r.YP)((()=>e.unmaskedValue),(()=>{!0===m.value&&_(v.value)}));const k={left(e,t,n,i){const r=-1===c.slice(t-1).indexOf(d);let s=Math.max(0,t-1);for(;s>=0;s--)if(c[s]===d){t=s,!0===r&&t++;break}if(s<0&&void 0!==c[t]&&c[t]!==d)return k.right(e,0,0);t>=0&&e.setSelectionRange(t,!0===i?n:t,"backward")},right(e,t,n,i){const r=e.value.length;let s=Math.min(r,n+1);for(;s<=r;s++){if(c[s]===d){n=s;break}c[s-1]===d&&(n=s)}if(s>r&&void 0!==c[n-1]&&c[n-1]!==d)return k.left(e,r,r);e.setSelectionRange(i?t:n,n,"forward")},leftReverse(e,t,n,i){const r=x(e.value.length);let s=Math.max(0,t-1);for(;s>=0;s--){if(r[s-1]===d){t=s;break}if(r[s]===d&&(t=s,0===s))break}if(s<0&&void 0!==r[t]&&r[t]!==d)return k.rightReverse(e,0,0);t>=0&&e.setSelectionRange(t,!0===i?n:t,"backward")},rightReverse(e,t,n,i){const r=e.value.length,s=x(r),o=-1===s.slice(0,n+1).indexOf(d);let a=Math.min(r,n+1);for(;a<=r;a++)if(s[a-1]===d){n=a,n>0&&!0===o&&n--;break}if(a>r&&void 0!==s[n-1]&&s[n-1]!==d)return k.leftReverse(e,r,r);e.setSelectionRange(!0===i?t:n,n,"forward")}};function C(t){if(!0===(0,o.Wm)(t))return;const n=s.value,i=n.selectionStart,r=n.selectionEnd;if(37===t.keyCode||39===t.keyCode){const s=k[(39===t.keyCode?"right":"left")+(!0===e.reverseFillMask?"Reverse":"")];t.preventDefault(),s(n,i,r,t.shiftKey)}else 8===t.keyCode&&!0!==e.reverseFillMask&&i===r?k.left(n,i,r,!0):46===t.keyCode&&!0===e.reverseFillMask&&i===r&&k.rightReverse(n,i,r,!0)}function A(t){if(void 0===t||null===t||""===t)return"";if(!0===e.reverseFillMask)return T(t);const n=p;let i=0,r="";for(let e=0;e<n.length;e++){const s=t[i],o=n[e];if("string"===typeof o)r+=o,s===o&&i++;else{if(void 0===s||!o.regex.test(s))return r;r+=void 0!==o.transform?o.transform(s):s,i++}}return r}function T(e){const t=p,n=c.indexOf(d);let i=e.length-1,r="";for(let s=t.length-1;s>=0&&i>-1;s--){const o=t[s];let a=e[i];if("string"===typeof o)r=o+r,a===o&&i--;else{if(void 0===a||!o.regex.test(a))return r;do{r=(void 0!==o.transform?o.transform(a):a)+r,i--,a=e[i]}while(n===s&&void 0!==a&&o.regex.test(a))}}return r}function I(e){return"string"!==typeof e||void 0===g?"number"===typeof e?g(""+e):e:g(e)}function E(t){return f.length-t.length<=0?t:!0===e.reverseFillMask&&t.length>0?f.slice(0,-t.length)+t:t+f.slice(t.length)}return{innerValue:v,hasMask:m,moveCursorForPaste:S,updateMaskValue:_,onMaskedKeydown:C}}var g=n(9256),m=n(7915),v=n(2802),y=n(5987),b=n(1384),x=n(7026);const w=(0,y.L)({name:"QInput",inheritAttrs:!1,props:{...s.Cl,...f,...g.Fz,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...s.HJ,"paste","change"],setup(e,{emit:t,attrs:n}){const o={};let a,l,c,u,h=NaN;const d=(0,i.iH)(null),f=(0,g.Do)(e),{innerValue:y,hasMask:w,moveCursorForPaste:_,updateMaskValue:S,onMaskedKeydown:k}=p(e,t,F,d),C=(0,m.Z)(e,!0),A=(0,r.Fl)((()=>(0,s.yV)(y.value))),T=(0,v.Z)(D),I=(0,s.tL)(),E=(0,r.Fl)((()=>"textarea"===e.type||!0===e.autogrow)),P=(0,r.Fl)((()=>!0===E.value||["text","search","url","tel","password"].includes(e.type))),R=(0,r.Fl)((()=>{const t={...I.splitAttrs.listeners.value,onInput:D,onPaste:M,onChange:B,onBlur:q,onFocus:b.sT};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=T,!0===w.value&&(t.onKeydown=k),!0===e.autogrow&&(t.onAnimationend=z),t})),L=(0,r.Fl)((()=>{const t={tabindex:0,"data-autofocus":!0===e.autofocus||void 0,rows:"textarea"===e.type?6:void 0,"aria-label":e.label,name:f.value,...I.splitAttrs.attributes.value,id:I.targetUid.value,maxlength:e.maxlength,disabled:!0===e.disable,readonly:!0===e.readonly};return!1===E.value&&(t.type=e.type),!0===e.autogrow&&(t.rows=1),t}));function N(){(0,x.jd)((()=>{const e=document.activeElement;null===d.value||d.value===e||null!==e&&e.id===I.targetUid.value||d.value.focus({preventScroll:!0})}))}function O(){null!==d.value&&d.value.select()}function M(n){if(!0===w.value&&!0!==e.reverseFillMask){const e=n.target;_(e,e.selectionStart,e.selectionEnd)}t("paste",n)}function D(n){if(!n||!n.target||!0===n.target.qComposing)return;if("file"===e.type)return void t("update:modelValue",n.target.files);const i=n.target.value;if(!0===w.value)S(i,!1,n.inputType);else if(F(i),!0===P.value&&n.target===document.activeElement){const{selectionStart:e,selectionEnd:t}=n.target;void 0!==e&&void 0!==t&&(0,r.Y3)((()=>{n.target===document.activeElement&&0===i.indexOf(n.target.value)&&n.target.setSelectionRange(e,t)}))}!0===e.autogrow&&z()}function F(n,i){u=()=>{"number"!==e.type&&!0===o.hasOwnProperty("value")&&delete o.value,e.modelValue!==n&&h!==n&&(h=n,!0===i&&(l=!0),t("update:modelValue",n),(0,r.Y3)((()=>{h===n&&(h=NaN)}))),u=void 0},"number"===e.type&&(a=!0,o.value=n),void 0!==e.debounce?(clearTimeout(c),o.value=n,c=setTimeout(u,e.debounce)):u()}function z(){const e=d.value;if(null!==e){const t=e.parentNode.style,{overflow:n}=e.style;t.marginBottom=e.scrollHeight-1+"px",e.style.height="1px",e.style.overflow="hidden",e.style.height=e.scrollHeight+"px",e.style.overflow=n,t.marginBottom=""}}function B(e){T(e),clearTimeout(c),void 0!==u&&u(),t("change",e.target.value)}function q(t){void 0!==t&&(0,b.sT)(t),clearTimeout(c),void 0!==u&&u(),a=!1,l=!1,delete o.value,"file"!==e.type&&setTimeout((()=>{null!==d.value&&(d.value.value=void 0!==y.value?y.value:"")}))}function V(){return!0===o.hasOwnProperty("value")?o.value:void 0!==y.value?y.value:""}(0,r.YP)((()=>e.type),(()=>{d.value&&(d.value.value=e.modelValue)})),(0,r.YP)((()=>e.modelValue),(t=>{if(!0===w.value){if(!0===l&&(l=!1,String(t)===h))return;S(t)}else y.value!==t&&(y.value=t,"number"===e.type&&!0===o.hasOwnProperty("value")&&(!0===a?a=!1:delete o.value));!0===e.autogrow&&(0,r.Y3)(z)})),(0,r.YP)((()=>e.autogrow),(e=>{!0===e?(0,r.Y3)(z):null!==d.value&&n.rows>0&&(d.value.style.height="auto")})),(0,r.YP)((()=>e.dense),(()=>{!0===e.autogrow&&(0,r.Y3)(z)})),(0,r.Jd)((()=>{q()})),(0,r.bv)((()=>{!0===e.autogrow&&z()})),Object.assign(I,{innerValue:y,fieldClass:(0,r.Fl)((()=>"q-"+(!0===E.value?"textarea":"input")+(!0===e.autogrow?" q-textarea--autogrow":""))),hasShadow:(0,r.Fl)((()=>"file"!==e.type&&"string"===typeof e.shadowText&&e.shadowText.length>0)),inputRef:d,emitValue:F,hasValue:A,floatingLabel:(0,r.Fl)((()=>!0===A.value||(0,s.yV)(e.displayValue))),getControl:()=>(0,r.h)(!0===E.value?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...L.value,...R.value,..."file"!==e.type?{value:V()}:C.value}),getShadowControl:()=>(0,r.h)("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(!0===E.value?"":" text-no-wrap")},[(0,r.h)("span",{class:"invisible"},V()),(0,r.h)("span",e.shadowText)])});const H=(0,s.ZP)(I),U=(0,r.FN)();return Object.assign(U.proxy,{focus:N,select:O,getNativeElement:()=>d.value}),H}})},490:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(9835),r=n(499),s=n(8234),o=n(945),a=n(5987),l=n(2026),c=n(1384),u=n(1705);const h=(0,a.L)({name:"QItem",props:{...s.S,...o.$,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=(0,i.FN)(),h=(0,s.Z)(e,a),{hasRouterLink:d,hasLink:f,linkProps:p,linkClass:g,linkTag:m,navigateToRouterLink:v}=(0,o.Z)(),y=(0,r.iH)(null),b=(0,r.iH)(null),x=(0,i.Fl)((()=>!0===e.clickable||!0===f.value||"label"===e.tag)),w=(0,i.Fl)((()=>!0!==e.disable&&!0===x.value)),_=(0,i.Fl)((()=>"q-item q-item-type row no-wrap"+(!0===e.dense?" q-item--dense":"")+(!0===h.value?" q-item--dark":"")+(!0===f.value&&null===e.active?g.value:!0===e.active?(void 0!==e.activeClass?` ${e.activeClass}`:"")+" q-item--active":"")+(!0===e.disable?" disabled":"")+(!0===w.value?" q-item--clickable q-link cursor-pointer "+(!0===e.manualFocus?"q-manual-focusable":"q-focusable q-hoverable")+(!0===e.focused?" q-manual-focusable--focused":""):""))),S=(0,i.Fl)((()=>{if(void 0===e.insetLevel)return null;const t=!0===a.lang.rtl?"Right":"Left";return{["padding"+t]:16+56*e.insetLevel+"px"}}));function k(e){!0===w.value&&(null!==b.value&&(!0!==e.qKeyEvent&&document.activeElement===y.value?b.value.focus():document.activeElement===b.value&&y.value.focus()),!0===d.value&&v(e),n("click",e))}function C(e){if(!0===w.value&&!0===(0,u.So)(e,13)){(0,c.NS)(e),e.qKeyEvent=!0;const t=new MouseEvent("click",e);t.qKeyEvent=!0,y.value.dispatchEvent(t)}n("keyup",e)}function A(){const e=(0,l.Bl)(t.default,[]);return!0===w.value&&e.unshift((0,i.h)("div",{class:"q-focus-helper",tabindex:-1,ref:b})),e}return()=>{const t={ref:y,class:_.value,style:S.value,onClick:k,onKeyup:C};return!0===w.value?(t.tabindex=e.tabindex||"0",Object.assign(t,p.value)):!0===x.value&&(t["aria-disabled"]="true"),(0,i.h)(m.value,t,A())}}})},3115:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(9835),r=n(5987),s=n(2026);const o=(0,r.L)({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=(0,i.Fl)((()=>parseInt(e.lines,10))),r=(0,i.Fl)((()=>"q-item__label"+(!0===e.overline?" q-item__label--overline text-overline":"")+(!0===e.caption?" q-item__label--caption text-caption":"")+(!0===e.header?" q-item__label--header":"")+(1===n.value?" ellipsis":""))),o=(0,i.Fl)((()=>void 0!==e.lines&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null));return()=>(0,i.h)("div",{style:o.value,class:r.value},(0,s.KR)(t.default))}})},1233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(9835),r=n(5987),s=n(2026);const o=(0,r.L)({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=(0,i.Fl)((()=>"q-item__section column q-item__section--"+(!0===e.avatar||!0===e.side||!0===e.thumbnail?"side":"main")+(!0===e.top?" q-item__section--top justify-start":" justify-center")+(!0===e.avatar?" q-item__section--avatar":"")+(!0===e.thumbnail?" q-item__section--thumbnail":"")+(!0===e.noWrap?" q-item__section--nowrap":"")));return()=>(0,i.h)("div",{class:n.value},(0,s.KR)(t.default))}})},3246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(9835),r=n(5987),s=n(8234),o=n(2026);const a=(0,r.L)({name:"QList",props:{...s.S,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean},setup(e,{slots:t}){const n=(0,i.FN)(),r=(0,s.Z)(e,n.proxy.$q),a=(0,i.Fl)((()=>"q-list"+(!0===e.bordered?" q-list--bordered":"")+(!0===e.dense?" q-list--dense":"")+(!0===e.separator?" q-list--separator":"")+(!0===r.value?" q-list--dark":"")+(!0===e.padding?" q-list--padding":"")));return()=>(0,i.h)("div",{class:a.value},(0,o.KR)(t.default))}})},249:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(9835),r=n(499),s=n(7506),o=n(1868),a=n(883),l=n(5987),c=n(3701),u=n(2026),h=n(5439);const d=(0,l.L)({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=(0,i.FN)(),d=(0,r.iH)(null),f=(0,r.iH)(l.screen.height),p=(0,r.iH)(!0===e.container?0:l.screen.width),g=(0,r.iH)({position:0,direction:"down",inflectionPoint:0}),m=(0,r.iH)(0),v=(0,r.iH)(!0===s.uX.value?0:(0,c.np)()),y=(0,i.Fl)((()=>"q-layout q-layout--"+(!0===e.container?"containerized":"standard"))),b=(0,i.Fl)((()=>!1===e.container?{minHeight:l.screen.height+"px"}:null)),x=(0,i.Fl)((()=>0!==v.value?{[!0===l.lang.rtl?"left":"right"]:`${v.value}px`}:null)),w=(0,i.Fl)((()=>0!==v.value?{[!0===l.lang.rtl?"right":"left"]:0,[!0===l.lang.rtl?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null));function _(t){if(!0===e.container||!0!==document.qScrollPrevented){const i={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};g.value=i,void 0!==e.onScroll&&n("scroll",i)}}function S(t){const{height:i,width:r}=t;let s=!1;f.value!==i&&(s=!0,f.value=i,void 0!==e.onScrollHeight&&n("scroll-height",i),C()),p.value!==r&&(s=!0,p.value=r),!0===s&&void 0!==e.onResize&&n("resize",t)}function k({height:e}){m.value!==e&&(m.value=e,C())}function C(){if(!0===e.container){const e=f.value>m.value?(0,c.np)():0;v.value!==e&&(v.value=e)}}let A;const T={instances:{},view:(0,i.Fl)((()=>e.view)),isContainer:(0,i.Fl)((()=>e.container)),rootRef:d,height:f,containerHeight:m,scrollbarWidth:v,totalWidth:(0,i.Fl)((()=>p.value+v.value)),rows:(0,i.Fl)((()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}})),header:(0,r.qj)({size:0,offset:0,space:!1}),right:(0,r.qj)({size:300,offset:0,space:!1}),footer:(0,r.qj)({size:0,offset:0,space:!1}),left:(0,r.qj)({size:300,offset:0,space:!1}),scroll:g,animate(){void 0!==A?clearTimeout(A):document.body.classList.add("q-body--layout-animate"),A=setTimeout((()=>{document.body.classList.remove("q-body--layout-animate"),A=void 0}),155)},update(e,t,n){T[e][t]=n}};if((0,i.JJ)(h.YE,T),(0,c.np)()>0){let I=null;const E=document.body;function P(){I=null,E.classList.remove("hide-scrollbar")}function R(){if(null===I){if(E.scrollHeight>l.screen.height)return;E.classList.add("hide-scrollbar")}else clearTimeout(I);I=setTimeout(P,300)}function L(e){null!==I&&"remove"===e&&(clearTimeout(I),P()),window[`${e}EventListener`]("resize",R)}(0,i.YP)((()=>!0!==e.container?"add":"remove"),L),!0!==e.container&&L("add"),(0,i.Ah)((()=>{L("remove")}))}return()=>{const n=(0,u.vs)(t.default,[(0,i.h)(o.Z,{onScroll:_}),(0,i.h)(a.Z,{onResize:S})]),r=(0,i.h)("div",{class:y.value,style:b.value,ref:!0===e.container?void 0:d,tabindex:-1},n);return!0===e.container?(0,i.h)("div",{class:"q-layout-container overflow-hidden",ref:d},[(0,i.h)(a.Z,{onResize:k}),(0,i.h)("div",{class:"absolute-full",style:x.value},[(0,i.h)("div",{class:"scroll",style:w.value},[r])])]):r}}})},627:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(5987),r=(n(6727),n(9835)),s=n(2026),o=n(5439);const a={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>2===e.length},expand:Boolean};function l(){const{props:e,proxy:t}=(0,r.FN)(),{$q:n}=t,i=(0,r.f3)(o.YE,(()=>{console.error("QPageSticky needs to be child of QLayout")})),a=(0,r.Fl)((()=>{const t=e.position;return{top:t.indexOf("top")>-1,right:t.indexOf("right")>-1,bottom:t.indexOf("bottom")>-1,left:t.indexOf("left")>-1,vertical:"top"===t||"bottom"===t,horizontal:"left"===t||"right"===t}})),l=(0,r.Fl)((()=>i.header.offset)),c=(0,r.Fl)((()=>i.right.offset)),u=(0,r.Fl)((()=>i.footer.offset)),h=(0,r.Fl)((()=>i.left.offset)),d=(0,r.Fl)((()=>{let t=0,i=0;const r=a.value,s=!0===n.lang.rtl?-1:1;!0===r.top&&0!==l.value?i=`${l.value}px`:!0===r.bottom&&0!==u.value&&(i=-u.value+"px"),!0===r.left&&0!==h.value?t=s*h.value+"px":!0===r.right&&0!==c.value&&(t=-s*c.value+"px");const o={transform:`translate(${t}, ${i})`};return e.offset&&(o.margin=`${e.offset[1]}px ${e.offset[0]}px`),!0===r.vertical?(0!==h.value&&(o[!0===n.lang.rtl?"right":"left"]=`${h.value}px`),0!==c.value&&(o[!0===n.lang.rtl?"left":"right"]=`${c.value}px`)):!0===r.horizontal&&(0!==l.value&&(o.top=`${l.value}px`),0!==u.value&&(o.bottom=`${u.value}px`)),o})),f=(0,r.Fl)((()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--`+(!0===e.expand?"expand":"shrink")));function p(t){const n=(0,s.KR)(t.default);return(0,r.h)("div",{class:f.value,style:d.value},!0===e.expand?n:[(0,r.h)("div",n)])}return{$layout:i,getStickyContent:p}}const c=(0,i.L)({name:"QPageSticky",props:a,setup(e,{slots:t}){const{getStickyContent:n}=l();return()=>n(t)}})},9885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(9835),r=n(5987),s=n(2026),o=n(5439);const a=(0,r.L)({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,i.FN)(),r=(0,i.f3)(o.YE);(0,i.f3)(o.Mw,(()=>{console.error("QPage needs to be child of QPageContainer")}));const a=(0,i.Fl)((()=>{const t=(!0===r.header.space?r.header.size:0)+(!0===r.footer.space?r.footer.size:0);if("function"===typeof e.styleFn){const i=!0===r.isContainer.value?r.containerHeight.value:n.screen.height;return e.styleFn(t,i)}return{minHeight:!0===r.isContainer.value?r.containerHeight.value-t+"px":0===n.screen.height?0!==t?`calc(100vh - ${t}px)`:"100vh":n.screen.height-t+"px"}})),l=(0,i.Fl)((()=>"q-page "+(!0===e.padding?" q-layout-padding":"")));return()=>(0,i.h)("main",{class:l.value,style:a.value},(0,s.KR)(t.default))}})},2133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(9835),r=n(5987),s=n(2026),o=n(5439);const a=(0,r.L)({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:n}}=(0,i.FN)(),r=(0,i.f3)(o.YE,(()=>{console.error("QPageContainer needs to be child of QLayout")}));(0,i.JJ)(o.Mw,!0);const a=(0,i.Fl)((()=>{const e={};return!0===r.header.space&&(e.paddingTop=`${r.header.size}px`),!0===r.right.space&&(e["padding"+(!0===n.lang.rtl?"Left":"Right")]=`${r.right.size}px`),!0===r.footer.space&&(e.paddingBottom=`${r.footer.size}px`),!0===r.left.space&&(e["padding"+(!0===n.lang.rtl?"Right":"Left")]=`${r.left.size}px`),e}));return()=>(0,i.h)("div",{class:"q-page-container",style:a.value},(0,s.KR)(t.default))}})},883:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(9835),r=n(499),s=n(7506);function o(){const e=(0,r.iH)(!s.uX.value);return!1===e.value&&(0,i.bv)((()=>{e.value=!0})),e}var a=n(5987),l=n(1384);const c="undefined"!==typeof ResizeObserver,u=!0===c?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},h=(0,a.L)({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let n,r=null,s={width:-1,height:-1};function a(t){!0===t||0===e.debounce||"0"===e.debounce?h():null===r&&(r=setTimeout(h,e.debounce))}function h(){if(clearTimeout(r),r=null,n){const{offsetWidth:e,offsetHeight:i}=n;e===s.width&&i===s.height||(s={width:e,height:i},t("resize",s))}}const d=(0,i.FN)();if(Object.assign(d.proxy,{trigger:a}),!0===c){let f;return(0,i.bv)((()=>{(0,i.Y3)((()=>{n=d.proxy.$el.parentNode,n&&(f=new ResizeObserver(a),f.observe(n),h())}))})),(0,i.Jd)((()=>{clearTimeout(r),void 0!==f&&(void 0!==f.disconnect?f.disconnect():n&&f.unobserve(n))})),l.ZT}{const p=o();let g;function m(){clearTimeout(r),void 0!==g&&(void 0!==g.removeEventListener&&g.removeEventListener("resize",a,l.rU.passive),g=void 0)}function v(){m(),n&&n.contentDocument&&(g=n.contentDocument.defaultView,g.addEventListener("resize",a,l.rU.passive),h())}return(0,i.bv)((()=>{(0,i.Y3)((()=>{n=d.proxy.$el,n&&v()}))})),(0,i.Jd)(m),()=>{if(!0===p.value)return(0,i.h)("object",{style:u.style,tabindex:-1,type:"text/html",data:u.url,"aria-hidden":"true",onLoad:v})}}}})},6663:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});n(6727);var i=n(499),r=n(9835),s=n(8234),o=n(883),a=n(1868),l=n(2873),c=n(5987),u=n(321),h=n(3701),d=n(2026),f=n(899);const p=["vertical","horizontal"],g={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},m={prevent:!0,mouse:!0,mouseAllDir:!0},v=(0,c.L)({name:"QScrollArea",props:{...s.S,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:t,emit:n}){const c=(0,i.iH)(!1),v=(0,i.iH)(!1),y=(0,i.iH)(!1),b={vertical:(0,i.iH)(0),horizontal:(0,i.iH)(0)},x={vertical:{ref:(0,i.iH)(null),position:(0,i.iH)(0),size:(0,i.iH)(0)},horizontal:{ref:(0,i.iH)(null),position:(0,i.iH)(0),size:(0,i.iH)(0)}},w=(0,r.FN)(),_=(0,s.Z)(e,w.proxy.$q);let S,k;const C=(0,i.iH)(null),A=(0,r.Fl)((()=>"q-scrollarea"+(!0===_.value?" q-scrollarea--dark":"")));x.vertical.percentage=(0,r.Fl)((()=>{const e=x.vertical.size.value-b.vertical.value;if(e<=0)return 0;const t=(0,u.vX)(x.vertical.position.value/e,0,1);return Math.round(1e4*t)/1e4})),x.vertical.thumbHidden=(0,r.Fl)((()=>!0!==(null===e.visible?y.value:e.visible)&&!1===c.value&&!1===v.value||x.vertical.size.value<=b.vertical.value+1)),x.vertical.thumbStart=(0,r.Fl)((()=>x.vertical.percentage.value*(b.vertical.value-x.vertical.thumbSize.value))),x.vertical.thumbSize=(0,r.Fl)((()=>Math.round((0,u.vX)(b.vertical.value*b.vertical.value/x.vertical.size.value,50,b.vertical.value)))),x.vertical.style=(0,r.Fl)((()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${x.vertical.thumbStart.value}px`,height:`${x.vertical.thumbSize.value}px`}))),x.vertical.thumbClass=(0,r.Fl)((()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(!0===x.vertical.thumbHidden.value?" q-scrollarea__thumb--invisible":""))),x.vertical.barClass=(0,r.Fl)((()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(!0===x.vertical.thumbHidden.value?" q-scrollarea__bar--invisible":""))),x.horizontal.percentage=(0,r.Fl)((()=>{const e=x.horizontal.size.value-b.horizontal.value;if(e<=0)return 0;const t=(0,u.vX)(x.horizontal.position.value/e,0,1);return Math.round(1e4*t)/1e4})),x.horizontal.thumbHidden=(0,r.Fl)((()=>!0!==(null===e.visible?y.value:e.visible)&&!1===c.value&&!1===v.value||x.horizontal.size.value<=b.horizontal.value+1)),x.horizontal.thumbStart=(0,r.Fl)((()=>x.horizontal.percentage.value*(b.horizontal.value-x.horizontal.thumbSize.value))),x.horizontal.thumbSize=(0,r.Fl)((()=>Math.round((0,u.vX)(b.horizontal.value*b.horizontal.value/x.horizontal.size.value,50,b.horizontal.value)))),x.horizontal.style=(0,r.Fl)((()=>({...e.thumbStyle,...e.horizontalThumbStyle,left:`${x.horizontal.thumbStart.value}px`,width:`${x.horizontal.thumbSize.value}px`}))),x.horizontal.thumbClass=(0,r.Fl)((()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(!0===x.horizontal.thumbHidden.value?" q-scrollarea__thumb--invisible":""))),x.horizontal.barClass=(0,r.Fl)((()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(!0===x.horizontal.thumbHidden.value?" q-scrollarea__bar--invisible":"")));const T=(0,r.Fl)((()=>!0===x.vertical.thumbHidden.value&&!0===x.horizontal.thumbHidden.value?e.contentStyle:e.contentActiveStyle)),I=[[l.Z,e=>{D(e,"vertical")},void 0,{vertical:!0,...m}]],E=[[l.Z,e=>{D(e,"horizontal")},void 0,{horizontal:!0,...m}]];function P(){const e={};return p.forEach((t=>{const n=x[t];e[t+"Position"]=n.position.value,e[t+"Percentage"]=n.percentage.value,e[t+"Size"]=n.size.value,e[t+"ContainerSize"]=b[t].value})),e}const R=(0,f.Z)((()=>{const e=P();e.ref=w.proxy,n("scroll",e)}),0);function L(e,t,n){if(!1===p.includes(e))return void console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");const i="vertical"===e?h.f3:h.ik;i(C.value,t,n)}function N({height:e,width:t}){let n=!1;b.vertical.value!==e&&(b.vertical.value=e,n=!0),b.horizontal.value!==t&&(b.horizontal.value=t,n=!0),!0===n&&q()}function O({position:e}){let t=!1;x.vertical.position.value!==e.top&&(x.vertical.position.value=e.top,t=!0),x.horizontal.position.value!==e.left&&(x.horizontal.position.value=e.left,t=!0),!0===t&&q()}function M({height:e,width:t}){x.horizontal.size.value!==t&&(x.horizontal.size.value=t,q()),x.vertical.size.value!==e&&(x.vertical.size.value=e,q())}function D(e,t){const n=x[t];if(!0===e.isFirst){if(!0===n.thumbHidden.value)return;k=n.position.value,v.value=!0}else if(!0!==v.value)return;!0===e.isFinal&&(v.value=!1);const i=g[t],r=b[t].value,s=(n.size.value-r)/(r-n.thumbSize.value),o=e.distance[i.dist],a=k+(e.direction===i.dir?1:-1)*o*s;V(a,t)}function F(e,t){const n=x[t];if(!0!==n.thumbHidden.value){const i=e[g[t].offset];if(i<n.thumbStart.value||i>n.thumbStart.value+n.thumbSize.value){const e=i-n.thumbSize.value/2;V(e/b[t].value*n.size.value,t)}null!==n.ref.value&&n.ref.value.dispatchEvent(new MouseEvent(e.type,e))}}function z(e){F(e,"vertical")}function B(e){F(e,"horizontal")}function q(){!0===c.value?clearTimeout(S):c.value=!0,S=setTimeout((()=>{c.value=!1}),e.delay),void 0!==e.onScroll&&R()}function V(e,t){C.value[g[t].scroll]=e}function H(){y.value=!0}function U(){y.value=!1}Object.assign(w.proxy,{getScrollTarget:()=>C.value,getScroll:P,getScrollPosition:()=>({top:x.vertical.position.value,left:x.horizontal.position.value}),getScrollPercentage:()=>({top:x.vertical.percentage.value,left:x.horizontal.percentage.value}),setScrollPosition:L,setScrollPercentage(e,t,n){L(e,t*(x[e].size.value-b[e].value),n)}});let j=null;return(0,r.se)((()=>{j={top:x.vertical.position.value,left:x.horizontal.position.value}})),(0,r.dl)((()=>{if(null===j)return;const e=C.value;null!==e&&((0,h.ik)(e,j.left),(0,h.f3)(e,j.top))})),(0,r.Jd)(R.cancel),()=>(0,r.h)("div",{class:A.value,onMouseenter:H,onMouseleave:U},[(0,r.h)("div",{ref:C,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:void 0!==e.tabindex?e.tabindex:void 0},[(0,r.h)("div",{class:"q-scrollarea__content absolute",style:T.value},(0,d.vs)(t.default,[(0,r.h)(o.Z,{debounce:0,onResize:M})])),(0,r.h)(a.Z,{axis:"both",onScroll:O})]),(0,r.h)(o.Z,{debounce:0,onResize:N}),(0,r.h)("div",{class:x.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:z}),(0,r.h)("div",{class:x.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:B}),(0,r.wy)((0,r.h)("div",{ref:x.vertical.ref,class:x.vertical.thumbClass.value,style:x.vertical.style.value,"aria-hidden":"true"}),I),(0,r.wy)((0,r.h)("div",{ref:x.horizontal.ref,class:x.horizontal.thumbClass.value,style:x.horizontal.style.value,"aria-hidden":"true"}),E)])}})},1868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});n(6727),n(702);var i=n(9835),r=n(5987),s=n(3701),o=n(1384);const{passive:a}=o.rU,l=["both","horizontal","vertical"],c=(0,r.L)({name:"QScrollObserver",props:{axis:{type:String,validator:e=>l.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:t}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let r,l,c=null;function u(){null!==c&&c();const i=Math.max(0,(0,s.u3)(r)),o=(0,s.OI)(r),a={top:i-n.position.top,left:o-n.position.left};if("vertical"===e.axis&&0===a.top||"horizontal"===e.axis&&0===a.left)return;const l=Math.abs(a.top)>=Math.abs(a.left)?a.top<0?"up":"down":a.left<0?"left":"right";n.position={top:i,left:o},n.directionChanged=n.direction!==l,n.delta=a,!0===n.directionChanged&&(n.direction=l,n.inflectionPoint=n.position),t("scroll",{...n})}function h(){r=(0,s.b0)(l,e.scrollTarget),r.addEventListener("scroll",f,a),f(!0)}function d(){void 0!==r&&(r.removeEventListener("scroll",f,a),r=void 0)}function f(t){if(!0===t||0===e.debounce||"0"===e.debounce)u();else if(null===c){const[t,n]=e.debounce?[setTimeout(u,e.debounce),clearTimeout]:[requestAnimationFrame(u),cancelAnimationFrame];c=()=>{n(t),c=null}}}(0,i.YP)((()=>e.scrollTarget),(()=>{d(),h()}));const p=(0,i.FN)();return(0,i.bv)((()=>{l=p.proxy.$el.parentNode,h()})),(0,i.Jd)((()=>{null!==c&&c(),d()})),Object.assign(p.proxy,{trigger:f,getPosition:()=>n}),o.ZT}})},8084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>He});n(6727),n(702);var i=n(9835),r=n(499),s=n(201),o=n(5987);const a=(0,o.L)({name:"QField",inheritAttrs:!1,props:s.Cl,emits:s.HJ,setup(){return(0,s.ZP)((0,s.tL)())}});var l=n(2857),c=n(7691),u=n(490),h=n(1233),d=n(3115),f=n(1957),p=n(2589),g=n(1384),m=n(1705);const v={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function y({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:s,proxy:o,emit:a}=(0,i.FN)(),l=(0,r.iH)(null);let c;function u(e){return null!==l.value&&(void 0===e||void 0===e.touches||e.touches.length<=1)}const h={};function d(){(0,g.ul)(h,"anchor")}function f(e){l.value=e;while(l.value.classList.contains("q-anchor--skip"))l.value=l.value.parentNode;n()}function v(){if(!1===s.target||""===s.target)l.value=null;else if(!0===s.target)f(o.$el.parentNode);else{let t=s.target;if("string"===typeof s.target)try{t=document.querySelector(s.target)}catch(e){t=void 0}void 0!==t&&null!==t?(l.value=t.$el||t,n()):(l.value=null,console.error(`Anchor: target "${s.target}" not found`))}}return void 0===n&&(Object.assign(h,{hide(e){o.hide(e)},toggle(e){o.toggle(e),e.qAnchorHandled=!0},toggleKey(e){!0===(0,m.So)(e,13)&&h.toggle(e)},contextClick(e){o.hide(e),(0,g.X$)(e),(0,i.Y3)((()=>{o.show(e),e.qAnchorHandled=!0}))},prevent:g.X$,mobileTouch(e){if(h.mobileCleanup(e),!0!==u(e))return;o.hide(e),l.value.classList.add("non-selectable");const t=e.target;(0,g.M0)(h,"anchor",[[t,"touchmove","mobileCleanup","passive"],[t,"touchend","mobileCleanup","passive"],[t,"touchcancel","mobileCleanup","passive"],[l.value,"contextmenu","prevent","notPassive"]]),c=setTimeout((()=>{o.show(e),e.qAnchorHandled=!0}),300)},mobileCleanup(t){l.value.classList.remove("non-selectable"),clearTimeout(c),!0===e.value&&void 0!==t&&(0,p.M)()}}),n=function(e=s.contextMenu){if(!0===s.noParentEvent||null===l.value)return;let t;t=!0===e?!0===o.$q.platform.is.mobile?[[l.value,"touchstart","mobileTouch","passive"]]:[[l.value,"mousedown","hide","passive"],[l.value,"contextmenu","contextClick","notPassive"]]:[[l.value,"click","toggle","passive"],[l.value,"keyup","toggleKey","passive"]],(0,g.M0)(h,"anchor",t)}),(0,i.YP)((()=>s.contextMenu),(e=>{null!==l.value&&(d(),n(e))})),(0,i.YP)((()=>s.target),(()=>{null!==l.value&&d(),v()})),(0,i.YP)((()=>s.noParentEvent),(e=>{null!==l.value&&(!0===e?d():n())})),(0,i.bv)((()=>{v(),!0!==t&&!0===s.modelValue&&null===l.value&&a("update:modelValue",!1)})),(0,i.Jd)((()=>{clearTimeout(c),d()})),{anchorEl:l,canShow:u,anchorEvents:h}}function b(e,t){const n=(0,r.iH)(null);let s;function o(e,t){const n=(void 0!==t?"add":"remove")+"EventListener",i=void 0!==t?t:s;e!==window&&e[n]("scroll",i,g.rU.passive),window[n]("scroll",i,g.rU.passive),s=t}function a(){null!==n.value&&(o(n.value),n.value=null)}const l=(0,i.YP)((()=>e.noParentEvent),(()=>{null!==n.value&&(a(),t())}));return(0,i.Jd)(l),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:o}}var x=n(3842),w=n(8234),_=n(7026),S=n(7495);const k=[];let C=document.body;function A(e){const t=document.createElement("div");if(void 0!==e&&(t.id=e),void 0!==S.w6.globalNodes){const e=S.w6.globalNodes["class"];void 0!==e&&(t.className=e)}return C.appendChild(t),k.push(t),t}function T(e){k.splice(k.indexOf(e),1),e.remove()}var I=n(2046);const E=[];function P(e,t){do{if("QMenu"===e.$options.name){if(e.hide(t),!0===e.$props.separateClosePopup)return(0,I.Kq)(e)}else if(void 0!==e.__qPortalInnerRef){const n=(0,I.Kq)(e);return void 0!==n&&"QPopupProxy"===n.$options.name?(e.hide(t),n):e}e=(0,I.Kq)(e)}while(void 0!==e&&null!==e)}function R(e){e=e.parent;while(void 0!==e&&null!==e){if("QGlobalDialog"===e.type.name)return!0;if("QDialog"===e.type.name||"QMenu"===e.type.name)return!1;e=e.parent}return!1}function L(e,t,n,s){const o=(0,r.iH)(!1),a=(0,r.iH)(!1);let l=null;const c={},u=!0===s&&R(e);function h(t){if(!0===t)return(0,_.xF)(c),void(a.value=!0);a.value=!1,!1===o.value&&(!1===u&&null===l&&(l=A()),o.value=!0,E.push(e.proxy),(0,_.YX)(c))}function d(t){if(a.value=!1,!0!==t)return;(0,_.xF)(c),o.value=!1;const n=E.indexOf(e.proxy);n>-1&&E.splice(n,1),null!==l&&(T(l),l=null)}return(0,i.Ah)((()=>{d(!0)})),Object.assign(e.proxy,{__qPortalInnerRef:t}),{showPortal:h,hidePortal:d,portalIsActive:o,portalIsAccessible:a,renderPortal:()=>!0===u?n():!0===o.value?[(0,i.h)(i.lR,{to:l},n())]:void 0}}const N={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function O(e,t){const n=(0,r.iH)(t.value);return(0,i.YP)(t,(e=>{(0,i.Y3)((()=>{n.value=e}))})),{transition:(0,i.Fl)((()=>"q-transition--"+(!0===n.value?e.transitionHide:e.transitionShow))),transitionStyle:(0,i.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`))}}var M=n(6916),D=n(2695),F=n(3701),z=n(2026),B=n(7506);const q=[];let V;function H(e){V=27===e.keyCode}function U(){!0===V&&(V=!1)}function j(e){!0===V&&(V=!1,!0===(0,m.So)(e,27)&&q[q.length-1](e))}function Y(e){window[e]("keydown",H),window[e]("blur",U),window[e]("keyup",j),V=!1}function W(e){!0===B.Lp.is.desktop&&(q.push(e),1===q.length&&Y("addEventListener"))}function X(e){const t=q.indexOf(e);t>-1&&(q.splice(t,1),0===q.length&&Y("removeEventListener"))}const $=[];function G(e){$[$.length-1](e)}function K(e){!0===B.Lp.is.desktop&&($.push(e),1===$.length&&document.body.addEventListener("focusin",G))}function Z(e){const t=$.indexOf(e);t>-1&&($.splice(t,1),0===$.length&&document.body.removeEventListener("focusin",G))}var Q=n(223);let J;const{notPassiveCapture:ee}=g.rU,te=[];function ne(e){clearTimeout(J);const t=e.target;if(void 0===t||8===t.nodeType||!0===t.classList.contains("no-pointer-events"))return;let n=E.length-1;while(n>=0){const e=E[n].$;if("QDialog"!==e.type.name)break;if(!0!==e.props.seamless)return;n--}for(let i=te.length-1;i>=0;i--){const n=te[i];if(null!==n.anchorEl.value&&!1!==n.anchorEl.value.contains(t)||t!==document.body&&(null===n.innerRef.value||!1!==n.innerRef.value.contains(t)))return;e.qClickOutside=!0,n.onClickOutside(e)}}function ie(e){te.push(e),1===te.length&&(document.addEventListener("mousedown",ne,ee),document.addEventListener("touchstart",ne,ee))}function re(e){const t=te.findIndex((t=>t===e));t>-1&&(te.splice(t,1),0===te.length&&(clearTimeout(J),document.removeEventListener("mousedown",ne,ee),document.removeEventListener("touchstart",ne,ee)))}let se,oe;function ae(e){const t=e.split(" ");return 2===t.length&&(!0!==["top","center","bottom"].includes(t[0])?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):!0===["left","middle","right","start","end"].includes(t[1])||(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1))}function le(e){return!e||2===e.length&&("number"===typeof e[0]&&"number"===typeof e[1])}const ce={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};function ue(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:ce[`${n[1]}#${!0===t?"rtl":"ltr"}`]}}function he(e,t){let{top:n,left:i,right:r,bottom:s,width:o,height:a}=e.getBoundingClientRect();return void 0!==t&&(n-=t[1],i-=t[0],s+=t[1],r+=t[0],o+=t[0],a+=t[1]),{top:n,left:i,right:r,bottom:s,width:o,height:a,middle:i+(r-i)/2,center:n+(s-n)/2}}function de(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function fe(e){if(!0===B.Lp.is.ios&&void 0!==window.visualViewport){const e=document.body.style,{offsetLeft:t,offsetTop:n}=window.visualViewport;t!==se&&(e.setProperty("--q-pe-left",t+"px"),se=t),n!==oe&&(e.setProperty("--q-pe-top",n+"px"),oe=n)}let t;const{scrollLeft:n,scrollTop:i}=e.el;if(void 0===e.absoluteOffset)t=he(e.anchorEl,!0===e.cover?[0,0]:e.offset);else{const{top:n,left:i}=e.anchorEl.getBoundingClientRect(),r=n+e.absoluteOffset.top,s=i+e.absoluteOffset.left;t={top:r,left:s,width:1,height:1,right:s+1,center:r,middle:s,bottom:r+1}}let r={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};!0!==e.fit&&!0!==e.cover||(r.minWidth=t.width+"px",!0===e.cover&&(r.minHeight=t.height+"px")),Object.assign(e.el.style,r);const s=de(e.el),o={top:t[e.anchorOrigin.vertical]-s[e.selfOrigin.vertical],left:t[e.anchorOrigin.horizontal]-s[e.selfOrigin.horizontal]};pe(o,t,s,e.anchorOrigin,e.selfOrigin),r={top:o.top+"px",left:o.left+"px"},void 0!==o.maxHeight&&(r.maxHeight=o.maxHeight+"px",t.height>o.maxHeight&&(r.minHeight=r.maxHeight)),void 0!==o.maxWidth&&(r.maxWidth=o.maxWidth+"px",t.width>o.maxWidth&&(r.minWidth=r.maxWidth)),Object.assign(e.el.style,r),e.el.scrollTop!==i&&(e.el.scrollTop=i),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function pe(e,t,n,i,r){const s=n.bottom,o=n.right,a=(0,F.np)(),l=window.innerHeight-a,c=document.body.clientWidth;if(e.top<0||e.top+s>l)if("center"===r.vertical)e.top=t[i.vertical]>l/2?Math.max(0,l-s):0,e.maxHeight=Math.min(s,l);else if(t[i.vertical]>l/2){const n=Math.min(l,"center"===i.vertical?t.center:i.vertical===r.vertical?t.bottom:t.top);e.maxHeight=Math.min(s,n),e.top=Math.max(0,n-s)}else e.top=Math.max(0,"center"===i.vertical?t.center:i.vertical===r.vertical?t.top:t.bottom),e.maxHeight=Math.min(s,l-e.top);if(e.left<0||e.left+o>c)if(e.maxWidth=Math.min(o,c),"middle"===r.horizontal)e.left=t[i.horizontal]>c/2?Math.max(0,c-o):0;else if(t[i.horizontal]>c/2){const n=Math.min(c,"middle"===i.horizontal?t.middle:i.horizontal===r.horizontal?t.right:t.left);e.maxWidth=Math.min(o,n),e.left=Math.max(0,n-e.maxWidth)}else e.left=Math.max(0,"middle"===i.horizontal?t.middle:i.horizontal===r.horizontal?t.left:t.right),e.maxWidth=Math.min(o,c-e.left)}["left","middle","right"].forEach((e=>{ce[`${e}#ltr`]=e,ce[`${e}#rtl`]=e}));const ge=(0,o.L)({name:"QMenu",inheritAttrs:!1,props:{...v,...x.vr,...w.S,...N,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ae},self:{type:String,validator:ae},offset:{type:Array,validator:le},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...x.gH,"click","escape-key"],setup(e,{slots:t,emit:n,attrs:s}){let o,a,l,c=null;const u=(0,i.FN)(),{proxy:h}=u,{$q:d}=h,p=(0,r.iH)(null),m=(0,r.iH)(!1),v=(0,i.Fl)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss)),S=(0,w.Z)(e,d),{registerTick:k,removeTick:C}=(0,M.Z)(),{registerTimeout:A,removeTimeout:T}=(0,D.Z)(),{transition:I,transitionStyle:E}=O(e,m),{localScrollTarget:R,changeScrollEvent:N,unconfigureScrollTarget:B}=b(e,ce),{anchorEl:q,canShow:V}=y({showing:m}),{hide:H}=(0,x.ZP)({showing:m,canShow:V,handleShow:oe,handleHide:ae,hideOnRouteChange:v,processOnMount:!0}),{showPortal:U,hidePortal:j,renderPortal:Y}=L(u,p,me),$={anchorEl:q,innerRef:p,onClickOutside(t){if(!0!==e.persistent&&!0===m.value)return H(t),("touchstart"===t.type||t.target.classList.contains("q-dialog__backdrop"))&&(0,g.NS)(t),!0}},G=(0,i.Fl)((()=>ue(e.anchor||(!0===e.cover?"center middle":"bottom start"),d.lang.rtl))),J=(0,i.Fl)((()=>!0===e.cover?G.value:ue(e.self||"top start",d.lang.rtl))),ee=(0,i.Fl)((()=>(!0===e.square?" q-menu--square":"")+(!0===S.value?" q-menu--dark q-dark":""))),te=(0,i.Fl)((()=>!0===e.autoClose?{onClick:he}:{})),ne=(0,i.Fl)((()=>!0===m.value&&!0!==e.persistent));function se(){(0,_.jd)((()=>{let e=p.value;e&&!0!==e.contains(document.activeElement)&&(e=e.querySelector("[autofocus], [data-autofocus]")||e,e.focus({preventScroll:!0}))}))}function oe(t){if(C(),T(),c=!1===e.noRefocus?document.activeElement:null,K(de),U(),ce(),o=void 0,void 0!==t&&(e.touchPosition||e.contextMenu)){const e=(0,g.FK)(t);if(void 0!==e.left){const{top:t,left:n}=q.value.getBoundingClientRect();o={left:e.left-n,top:e.top-t}}}void 0===a&&(a=(0,i.YP)((()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl),ge)),!0!==e.noFocus&&document.activeElement.blur(),k((()=>{ge(),!0!==e.noFocus&&se()})),A((()=>{!0===d.platform.is.ios&&(l=e.autoClose,p.value.click()),ge(),U(!0),n("show",t)}),e.transitionDuration)}function ae(t){C(),T(),j(),le(!0),null===c||void 0!==t&&!0===t.qClickOutside||(c.focus(),c=null),A((()=>{j(!0),n("hide",t)}),e.transitionDuration)}function le(e){o=void 0,void 0!==a&&(a(),a=void 0),!0!==e&&!0!==m.value||(Z(de),B(),re($),X(pe)),!0!==e&&(c=null)}function ce(){null===q.value&&void 0===e.scrollTarget||(R.value=(0,F.b0)(q.value,e.scrollTarget),N(R.value,ge))}function he(e){!0!==l?(P(h,e),n("click",e)):l=!1}function de(t){!0===ne.value&&!0!==e.noFocus&&!0!==(0,Q.mY)(p.value,t.target)&&se()}function pe(e){n("escape-key"),H(e)}function ge(){const t=p.value;null!==t&&null!==q.value&&fe({el:t,offset:e.offset,anchorEl:q.value,anchorOrigin:G.value,selfOrigin:J.value,absoluteOffset:o,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function me(){return(0,i.h)(f.uT,{name:I.value,appear:!0},(()=>!0===m.value?(0,i.h)("div",{...s,ref:p,tabindex:-1,class:["q-menu q-position-engine scroll"+ee.value,s.class],style:[s.style,E.value],...te.value},(0,z.KR)(t.default)):null))}return(0,i.YP)(ne,(e=>{!0===e?(W(pe),ie($)):(X(pe),re($))})),(0,i.Jd)(le),Object.assign(h,{focus:se,updatePosition:ge}),Y}});var me=n(4953),ve=n(9754);let ye=0;const be={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},xe={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},we=(0,o.L)({name:"QDialog",inheritAttrs:!1,props:{...x.vr,...N,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>"standard"===e||["top","bottom","left","right"].includes(e)}},emits:[...x.gH,"shake","click","escape-key"],setup(e,{slots:t,emit:n,attrs:s}){const o=(0,i.FN)(),a=(0,r.iH)(null),l=(0,r.iH)(!1),c=(0,r.iH)(!1),u=(0,r.iH)(!1);let h,d,p,g=null;const m=(0,i.Fl)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss&&!0!==e.seamless)),{preventBodyScroll:v}=(0,ve.Z)(),{registerTimeout:y,removeTimeout:b}=(0,D.Z)(),{registerTick:w,removeTick:S}=(0,M.Z)(),{showPortal:k,hidePortal:C,portalIsAccessible:A,renderPortal:T}=L(o,a,re,!0),{hide:I}=(0,x.ZP)({showing:l,hideOnRouteChange:m,handleShow:U,handleHide:j,processOnMount:!0}),{addToHistory:E,removeFromHistory:P}=(0,me.Z)(l,I,m),R=(0,i.Fl)((()=>"q-dialog__inner flex no-pointer-events q-dialog__inner--"+(!0===e.maximized?"maximized":"minimized")+` q-dialog__inner--${e.position} ${be[e.position]}`+(!0===u.value?" q-dialog__inner--animating":"")+(!0===e.fullWidth?" q-dialog__inner--fullwidth":"")+(!0===e.fullHeight?" q-dialog__inner--fullheight":"")+(!0===e.square?" q-dialog__inner--square":""))),N=(0,i.Fl)((()=>"q-transition--"+(void 0===e.transitionShow?xe[e.position][0]:e.transitionShow))),O=(0,i.Fl)((()=>"q-transition--"+(void 0===e.transitionHide?xe[e.position][1]:e.transitionHide))),F=(0,i.Fl)((()=>!0===c.value?O.value:N.value)),B=(0,i.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`)),q=(0,i.Fl)((()=>!0===l.value&&!0!==e.seamless)),V=(0,i.Fl)((()=>!0===e.autoClose?{onClick:te}:{})),H=(0,i.Fl)((()=>["q-dialog fullscreen no-pointer-events q-dialog--"+(!0===q.value?"modal":"seamless"),s.class]));function U(t){b(),S(),E(),g=!1===e.noRefocus&&null!==document.activeElement?document.activeElement:null,ee(e.maximized),k(),u.value=!0,!0!==e.noFocus&&(null!==document.activeElement&&document.activeElement.blur(),w(Y)),y((()=>{if(!0===o.proxy.$q.platform.is.ios){if(!0!==e.seamless&&document.activeElement){const{top:e,bottom:t}=document.activeElement.getBoundingClientRect(),{innerHeight:n}=window,i=void 0!==window.visualViewport?window.visualViewport.height:n;e>0&&t>i/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-i,t>=n?1/0:Math.ceil(document.scrollingElement.scrollTop+t-i/2))),document.activeElement.scrollIntoView()}p=!0,a.value.click(),p=!1}k(!0),u.value=!1,n("show",t)}),e.transitionDuration)}function j(t){b(),S(),P(),J(!0),u.value=!0,C(),null!==g&&(g.focus(),g=null),y((()=>{C(!0),u.value=!1,n("hide",t)}),e.transitionDuration)}function Y(e){(0,_.jd)((()=>{let t=a.value;null!==t&&!0!==t.contains(document.activeElement)&&(t=t.querySelector(e||"[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))}))}function $(){Y(),n("shake");const e=a.value;null!==e&&(e.classList.remove("q-animate--scale"),e.classList.add("q-animate--scale"),clearTimeout(h),h=setTimeout((()=>{null!==a.value&&(e.classList.remove("q-animate--scale"),Y())}),170))}function G(){!0!==e.seamless&&(!0===e.persistent||!0===e.noEscDismiss?!0!==e.maximized&&!0!==e.noShake&&$():(n("escape-key"),I()))}function J(t){clearTimeout(h),!0!==t&&!0!==l.value||(ee(!1),!0!==e.seamless&&(v(!1),Z(ie),X(G))),!0!==t&&(g=null)}function ee(e){!0===e?!0!==d&&(ye<1&&document.body.classList.add("q-body--dialog"),ye++,d=!0):!0===d&&(ye<2&&document.body.classList.remove("q-body--dialog"),ye--,d=!1)}function te(e){!0!==p&&(I(e),n("click",e))}function ne(t){!0!==e.persistent&&!0!==e.noBackdropDismiss?I(t):!0!==e.noShake&&$()}function ie(e){!0===A.value&&!0!==(0,Q.mY)(a.value,e.target)&&Y('[tabindex]:not([tabindex="-1"])')}function re(){return(0,i.h)("div",{...s,class:H.value},[(0,i.h)(f.uT,{name:"q-transition--fade",appear:!0},(()=>!0===q.value?(0,i.h)("div",{class:"q-dialog__backdrop fixed-full",style:B.value,"aria-hidden":"true",onMousedown:ne}):null)),(0,i.h)(f.uT,{name:F.value,appear:!0},(()=>!0===l.value?(0,i.h)("div",{ref:a,class:R.value,style:B.value,tabindex:-1,...V.value},(0,z.KR)(t.default)):null))])}return(0,i.YP)(l,(e=>{(0,i.Y3)((()=>{c.value=e}))})),(0,i.YP)((()=>e.maximized),(e=>{!0===l.value&&ee(e)})),(0,i.YP)(q,(e=>{v(e),!0===e?(K(ie),W(G)):(Z(ie),X(G))})),Object.assign(o.proxy,{focus:Y,shake:$,__updateRefocusTarget(e){g=e||null}}),(0,i.Jd)(J),T}});n(8964),n(5583);var _e=n(899),Se=n(8383);const ke=1e3,Ce=["start","center","end","start-force","center-force","end-force"],Ae=Array.prototype.filter,Te=void 0===window.getComputedStyle(document.body).overflowAnchor?g.ZT:function(e,t){requestAnimationFrame((()=>{if(null===e)return;const n=e.children||[];Ae.call(n,(e=>e.dataset&&void 0!==e.dataset.qVsAnchor)).forEach((e=>{delete e.dataset.qVsAnchor}));const i=n[t];i&&i.dataset&&(i.dataset.qVsAnchor="")}))};function Ie(e,t){return e+t}function Ee(e,t,n,i,r,s,o,a){const l=e===window?document.scrollingElement||document.documentElement:e,c=!0===r?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-o-a,scrollMaxSize:0,offsetStart:-o,offsetEnd:-a};if(!0===r?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=l.scrollLeft,u.scrollViewSize+=l.clientWidth),u.scrollMaxSize=l.scrollWidth,!0===s&&(u.scrollStart=(!0===Se.e?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=l.scrollTop,u.scrollViewSize+=l.clientHeight),u.scrollMaxSize=l.scrollHeight),null!==n)for(let h=n.previousElementSibling;null!==h;h=h.previousElementSibling)!1===h.classList.contains("q-virtual-scroll--skip")&&(u.offsetStart+=h[c]);if(null!==i)for(let h=i.nextElementSibling;null!==h;h=h.nextElementSibling)!1===h.classList.contains("q-virtual-scroll--skip")&&(u.offsetEnd+=h[c]);if(t!==e){const n=l.getBoundingClientRect(),i=t.getBoundingClientRect();!0===r?(u.offsetStart+=i.left-n.left,u.offsetEnd-=i.width):(u.offsetStart+=i.top-n.top,u.offsetEnd-=i.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function Pe(e,t,n,i){"end"===t&&(t=(e===window?document.body:e)[!0===n?"scrollWidth":"scrollHeight"]),e===window?!0===n?(!0===i&&(t=(!0===Se.e?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):!0===n?(!0===i&&(t=(!0===Se.e?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Re(e,t,n,i){if(n>=i)return 0;const r=t.length,s=Math.floor(n/ke),o=Math.floor((i-1)/ke)+1;let a=e.slice(s,o).reduce(Ie,0);return n%ke!==0&&(a-=t.slice(s*ke,n).reduce(Ie,0)),i%ke!==0&&i!==r&&(a-=t.slice(i,o*ke).reduce(Ie,0)),a}const Le={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Ne=(Object.keys(Le),{virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Le});function Oe({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:s}){const o=(0,i.FN)(),{props:a,emit:l,proxy:c}=o,{$q:u}=c;let h,d,f,p,g=[];const m=(0,r.iH)(0),v=(0,r.iH)(0),y=(0,r.iH)({}),b=(0,r.iH)(null),x=(0,r.iH)(null),w=(0,r.iH)(null),_=(0,r.iH)({from:0,to:0}),S=(0,i.Fl)((()=>void 0!==a.tableColspan?a.tableColspan:100));void 0===s&&(s=(0,i.Fl)((()=>a.virtualScrollItemSize)));const k=(0,i.Fl)((()=>s.value+";"+a.virtualScrollHorizontal)),C=(0,i.Fl)((()=>k.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter));function A(){N(d,!0)}function T(e){N(void 0===e?d:e)}function I(i,r){const s=t();if(void 0===s||null===s||8===s.nodeType)return;const o=Ee(s,n(),b.value,x.value,a.virtualScrollHorizontal,u.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);f!==o.scrollViewSize&&O(o.scrollViewSize),P(s,o,Math.min(e.value-1,Math.max(0,parseInt(i,10)||0)),0,Ce.indexOf(r)>-1?r:d>-1&&i>d?"end":"start")}function E(){const i=t();if(void 0===i||null===i||8===i.nodeType)return;const r=Ee(i,n(),b.value,x.value,a.virtualScrollHorizontal,u.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),s=e.value-1,o=r.scrollMaxSize-r.offsetStart-r.offsetEnd-v.value;if(h===r.scrollStart)return;if(r.scrollMaxSize<=0)return void P(i,r,0,0);f!==r.scrollViewSize&&O(r.scrollViewSize),R(_.value.from);const l=Math.floor(r.scrollMaxSize-Math.max(r.scrollViewSize,r.offsetEnd)-Math.min(p[s],r.scrollViewSize/2));if(l>0&&Math.ceil(r.scrollStart)>=l)return void P(i,r,s,r.scrollMaxSize-r.offsetEnd-g.reduce(Ie,0));let c=0,d=r.scrollStart-r.offsetStart,y=d;if(d<=o&&d+r.scrollViewSize>=m.value)d-=m.value,c=_.value.from,y=d;else for(let e=0;d>=g[e]&&c<s;e++)d-=g[e],c+=ke;while(d>0&&c<s)d-=p[c],d>-r.scrollViewSize?(c++,y=d):y=p[c]+d;P(i,r,c,y)}function P(t,n,i,r,s){const o="string"===typeof s&&s.indexOf("-force")>-1,l=!0===o?s.replace("-force",""):s,c=void 0!==l?l:"start";let d=Math.max(0,i-y.value[c]),f=d+y.value.total;f>e.value&&(f=e.value,d=Math.max(0,f-y.value.total)),h=n.scrollStart;const b=d!==_.value.from||f!==_.value.to;if(!1===b&&void 0===l)return void D(i);const{activeElement:x}=document,S=w.value;!0===b&&null!==S&&S!==x&&!0===S.contains(x)&&(S.addEventListener("focusout",L),setTimeout((()=>{null!==S&&S.removeEventListener("focusout",L)}))),Te(S,i-d);const k=void 0!==l?p.slice(d,i).reduce(Ie,0):0;if(!0===b){const t=f>=_.value.from&&d<=_.value.to?_.value.to:f;_.value={from:d,to:t},m.value=Re(g,p,0,d),v.value=Re(g,p,f,e.value),requestAnimationFrame((()=>{_.value.to!==f&&h===n.scrollStart&&(_.value={from:_.value.from,to:f},v.value=Re(g,p,f,e.value))}))}requestAnimationFrame((()=>{if(h!==n.scrollStart)return;!0===b&&R(d);const e=p.slice(d,i).reduce(Ie,0),s=e+n.offsetStart+m.value,c=s+p[i];let f=s+r;if(void 0!==l){const t=e-k,r=n.scrollStart+t;f=!0!==o&&r<s&&c<r+n.scrollViewSize?r:"end"===l?c-n.scrollViewSize:s-("start"===l?0:Math.round((n.scrollViewSize-p[i])/2))}h=f,Pe(t,f,a.virtualScrollHorizontal,u.lang.rtl),D(i)}))}function R(e){const t=w.value;if(t){const n=Ae.call(t.children,(e=>e.classList&&!1===e.classList.contains("q-virtual-scroll--skip"))),i=n.length,r=!0===a.virtualScrollHorizontal?e=>e.getBoundingClientRect().width:e=>e.offsetHeight;let s,o,l=e;for(let e=0;e<i;){s=r(n[e]),e++;while(e<i&&!0===n[e].classList.contains("q-virtual-scroll--with-prev"))s+=r(n[e]),e++;o=s-p[l],0!==o&&(p[l]+=o,g[Math.floor(l/ke)]+=o),l++}}}function L(){null!==w.value&&void 0!==w.value&&w.value.focus()}function N(t,n){const r=1*s.value;!0!==n&&!1!==Array.isArray(p)||(p=[]);const o=p.length;p.length=e.value;for(let i=e.value-1;i>=o;i--)p[i]=r;const a=Math.floor((e.value-1)/ke);g=[];for(let i=0;i<=a;i++){let t=0;const n=Math.min((i+1)*ke,e.value);for(let e=i*ke;e<n;e++)t+=p[e];g.push(t)}d=-1,h=void 0,m.value=Re(g,p,0,_.value.from),v.value=Re(g,p,_.value.to,e.value),t>=0?(R(_.value.from),(0,i.Y3)((()=>{I(t)}))):F()}function O(e){if(void 0===e&&"undefined"!==typeof window){const i=t();void 0!==i&&null!==i&&8!==i.nodeType&&(e=Ee(i,n(),b.value,x.value,a.virtualScrollHorizontal,u.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}f=e;const i=parseFloat(a.virtualScrollSliceRatioBefore)||0,r=parseFloat(a.virtualScrollSliceRatioAfter)||0,o=1+i+r,l=void 0===e||e<=0?1:Math.ceil(e/s.value),c=Math.max(1,l,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/o));y.value={total:Math.ceil(c*o),start:Math.ceil(c*i),center:Math.ceil(c*(.5+i)),end:Math.ceil(c*(1+i)),view:l}}function M(e,t){const n=!0===a.virtualScrollHorizontal?"width":"height",r={["--q-virtual-scroll-item-"+n]:s.value+"px"};return["tbody"===e?(0,i.h)(e,{class:"q-virtual-scroll__padding",key:"before",ref:b},[(0,i.h)("tr",[(0,i.h)("td",{style:{[n]:`${m.value}px`,...r},colspan:S.value})])]):(0,i.h)(e,{class:"q-virtual-scroll__padding",key:"before",ref:b,style:{[n]:`${m.value}px`,...r}}),(0,i.h)(e,{class:"q-virtual-scroll__content",key:"content",ref:w,tabindex:-1},t.flat()),"tbody"===e?(0,i.h)(e,{class:"q-virtual-scroll__padding",key:"after",ref:x},[(0,i.h)("tr",[(0,i.h)("td",{style:{[n]:`${v.value}px`,...r},colspan:S.value})])]):(0,i.h)(e,{class:"q-virtual-scroll__padding",key:"after",ref:x,style:{[n]:`${v.value}px`,...r}})]}function D(e){d!==e&&(void 0!==a.onVirtualScroll&&l("virtual-scroll",{index:e,from:_.value.from,to:_.value.to-1,direction:e<d?"decrease":"increase",ref:c}),d=e)}(0,i.YP)(C,(()=>{O()})),(0,i.YP)(k,A),O();const F=(0,_e.Z)(E,!0===u.platform.is.ios?120:35);(0,i.wF)((()=>{O()}));let z=!1;return(0,i.se)((()=>{z=!0})),(0,i.dl)((()=>{if(!0!==z)return;const e=t();void 0!==h&&void 0!==e&&null!==e&&8!==e.nodeType?Pe(e,h,a.virtualScrollHorizontal,u.lang.rtl):I(d)})),(0,i.Jd)((()=>{F.cancel()})),Object.assign(c,{scrollTo:I,reset:A,refresh:T}),{virtualScrollSliceRange:_,virtualScrollSliceSizeComputed:y,setVirtualScrollSize:O,onVirtualScrollEvt:F,localResetVirtualScroll:N,padVirtualScroll:M,scrollTo:I,reset:A,refresh:T}}var Me=n(9256),De=n(2802),Fe=n(6254),ze=n(321);const Be=e=>["add","add-unique","toggle"].includes(e),qe=".*+?^${}()|[]\\",Ve=Object.keys(s.Cl),He=(0,o.L)({name:"QSelect",inheritAttrs:!1,props:{...Ne,...Me.Fz,...s.Cl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Be},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...s.HJ,"add","remove","input-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:t,emit:n}){const{proxy:o}=(0,i.FN)(),{$q:f}=o,p=(0,r.iH)(!1),v=(0,r.iH)(!1),y=(0,r.iH)(-1),b=(0,r.iH)(""),x=(0,r.iH)(!1),w=(0,r.iH)(!1);let _,S,k,C,A,T,I,E,P;const R=(0,r.iH)(null),L=(0,r.iH)(null),N=(0,r.iH)(null),O=(0,r.iH)(null),M=(0,r.iH)(null),D=(0,Me.Do)(e),F=(0,De.Z)(Ge),B=(0,i.Fl)((()=>Array.isArray(e.options)?e.options.length:0)),q=(0,i.Fl)((()=>void 0===e.virtualScrollItemSize?!0===e.optionsDense?24:48:e.virtualScrollItemSize)),{virtualScrollSliceRange:V,virtualScrollSliceSizeComputed:H,localResetVirtualScroll:U,padVirtualScroll:j,onVirtualScrollEvt:Y,reset:W,scrollTo:X,setVirtualScrollSize:$}=Oe({virtualScrollLength:B,getVirtualScrollTarget:Ye,getVirtualScrollEl:je,virtualScrollItemSizeComputed:q}),G=(0,s.tL)(),K=(0,i.Fl)((()=>{const t=!0===e.mapOptions&&!0!==e.multiple,n=void 0===e.modelValue||null===e.modelValue&&!0!==t?[]:!0===e.multiple&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue];if(!0===e.mapOptions&&!0===Array.isArray(e.options)){const i=!0===e.mapOptions&&void 0!==S?S:[],r=n.map((e=>Ie(e,i)));return null===e.modelValue&&!0===t?r.filter((e=>null!==e)):r}return n})),Z=(0,i.Fl)((()=>{const t={};return Ve.forEach((n=>{const i=e[n];void 0!==i&&(t[n]=i)})),t})),Q=(0,i.Fl)((()=>null===e.optionsDark?G.isDark.value:e.optionsDark)),J=(0,i.Fl)((()=>(0,s.yV)(K.value))),ee=(0,i.Fl)((()=>{let t="q-field__input q-placeholder col";return!0===e.hideSelected||0===K.value.length?[t,e.inputClass]:(t+=" q-field__input--padding",void 0===e.inputClass?t:[t,e.inputClass])})),te=(0,i.Fl)((()=>(!0===e.virtualScrollHorizontal?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:""))),ne=(0,i.Fl)((()=>0===B.value)),ie=(0,i.Fl)((()=>K.value.map((e=>me.value(e))).join(", "))),re=(0,i.Fl)((()=>!0===e.optionsHtml?()=>!0:e=>void 0!==e&&null!==e&&!0===e.html)),se=(0,i.Fl)((()=>!0===e.displayValueHtml||void 0===e.displayValue&&(!0===e.optionsHtml||K.value.some(re.value)))),oe=(0,i.Fl)((()=>!0===G.focused.value?e.tabindex:-1)),ae=(0,i.Fl)((()=>({tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":!0===e.useInput?"list":"none","aria-expanded":!0===p.value?"true":"false","aria-owns":`${G.targetUid.value}_lb`,"aria-controls":`${G.targetUid.value}_lb`}))),le=(0,i.Fl)((()=>{const t={id:`${G.targetUid.value}_lb`,role:"listbox","aria-multiselectable":!0===e.multiple?"true":"false"};return y.value>=0&&(t["aria-activedescendant"]=`${G.targetUid.value}_${y.value}`),t})),ce=(0,i.Fl)((()=>K.value.map(((e,t)=>({index:t,opt:e,html:re.value(e),selected:!0,removeAtIndex:Se,toggleOption:Ce,tabindex:oe.value}))))),ue=(0,i.Fl)((()=>{if(0===B.value)return[];const{from:t,to:n}=V.value;return e.options.slice(t,n).map(((n,i)=>{const r=!0===ve.value(n),s=t+i,o={clickable:!0,active:!1,activeClass:fe.value,manualFocus:!0,focused:!1,disable:r,tabindex:-1,dense:e.optionsDense,dark:Q.value,role:"option",id:`${G.targetUid.value}_${s}`,onClick:()=>{Ce(n)}};return!0!==r&&(!0===Pe(n)&&(o.active=!0),y.value===s&&(o.focused=!0),o["aria-selected"]=!0===o.active?"true":"false",!0===f.platform.is.desktop&&(o.onMousemove=()=>{!0===p.value&&Ae(s)})),{index:s,opt:n,html:re.value(n),label:me.value(n),selected:o.active,focused:o.focused,toggleOption:Ce,setOptionIndex:Ae,itemProps:o}}))})),he=(0,i.Fl)((()=>void 0!==e.dropdownIcon?e.dropdownIcon:f.iconSet.arrow.dropdown)),de=(0,i.Fl)((()=>!1===e.optionsCover&&!0!==e.outlined&&!0!==e.standout&&!0!==e.borderless&&!0!==e.rounded)),fe=(0,i.Fl)((()=>void 0!==e.optionsSelectedClass?e.optionsSelectedClass:void 0!==e.color?`text-${e.color}`:"")),pe=(0,i.Fl)((()=>Ee(e.optionValue,"value"))),me=(0,i.Fl)((()=>Ee(e.optionLabel,"label"))),ve=(0,i.Fl)((()=>Ee(e.optionDisable,"disable"))),ye=(0,i.Fl)((()=>K.value.map((e=>pe.value(e))))),be=(0,i.Fl)((()=>{const e={onInput:Ge,onChange:F,onKeydown:Ue,onKeyup:Ne,onKeypress:He,onFocus:Re,onClick(e){!0===k&&(0,g.sT)(e)}};return e.onCompositionstart=e.onCompositionupdate=e.onCompositionend=F,e}));function xe(t){return!0===e.emitValue?pe.value(t):t}function _e(t){if(t>-1&&t<K.value.length)if(!0===e.multiple){const i=e.modelValue.slice();n("remove",{index:t,value:i.splice(t,1)[0]}),n("update:modelValue",i)}else n("update:modelValue",null)}function Se(e){_e(e),G.focus()}function ke(t,i){const r=xe(t);if(!0!==e.multiple)return!0===e.fillInput&&Ze(me.value(t),!0,!0),void n("update:modelValue",r);if(0===K.value.length)return n("add",{index:0,value:r}),void n("update:modelValue",!0===e.multiple?[r]:r);if(!0===i&&!0===Pe(t))return;if(void 0!==e.maxValues&&e.modelValue.length>=e.maxValues)return;const s=e.modelValue.slice();n("add",{index:s.length,value:r}),s.push(r),n("update:modelValue",s)}function Ce(t,i){if(!0!==G.editable.value||void 0===t||!0===ve.value(t))return;const r=pe.value(t);if(!0!==e.multiple)return!0!==i&&(Ze(!0===e.fillInput?me.value(t):"",!0,!0),ut()),null!==L.value&&L.value.focus(),void(0!==K.value.length&&!0===(0,Fe.xb)(pe.value(K.value[0]),r)||n("update:modelValue",!0===e.emitValue?r:t));if((!0!==k||!0===x.value)&&G.focus(),Re(),0===K.value.length){const i=!0===e.emitValue?r:t;return n("add",{index:0,value:i}),void n("update:modelValue",!0===e.multiple?[i]:i)}const s=e.modelValue.slice(),o=ye.value.findIndex((e=>(0,Fe.xb)(e,r)));if(o>-1)n("remove",{index:o,value:s.splice(o,1)[0]});else{if(void 0!==e.maxValues&&s.length>=e.maxValues)return;const i=!0===e.emitValue?r:t;n("add",{index:s.length,value:i}),s.push(i)}n("update:modelValue",s)}function Ae(e){if(!0!==f.platform.is.desktop)return;const t=e>-1&&e<B.value?e:-1;y.value!==t&&(y.value=t)}function Te(t=1,n){if(!0===p.value){let i=y.value;do{i=(0,ze.Uz)(i+t,-1,B.value-1)}while(-1!==i&&i!==y.value&&!0===ve.value(e.options[i]));y.value!==i&&(Ae(i),X(i),!0!==n&&!0===e.useInput&&!0===e.fillInput&&Ke(i>=0?me.value(e.options[i]):T))}}function Ie(t,n){const i=e=>(0,Fe.xb)(pe.value(e),t);return e.options.find(i)||n.find(i)||t}function Ee(e,t){const n=void 0!==e?e:t;return"function"===typeof n?n:e=>null!==e&&"object"===typeof e&&n in e?e[n]:e}function Pe(e){const t=pe.value(e);return void 0!==ye.value.find((e=>(0,Fe.xb)(e,t)))}function Re(t){!0===e.useInput&&null!==L.value&&(void 0===t||L.value===t.target&&t.target.value===ie.value)&&L.value.select()}function Le(e){!0===(0,m.So)(e,27)&&!0===p.value&&((0,g.sT)(e),ut(),ht()),n("keyup",e)}function Ne(t){const{value:n}=t.target;if(void 0===t.keyCode)if(t.target.value="",clearTimeout(_),ht(),"string"===typeof n&&n.length>0){const t=n.toLocaleLowerCase(),i=n=>{const i=e.options.find((e=>n.value(e).toLocaleLowerCase()===t));return void 0!==i&&(-1===K.value.indexOf(i)?Ce(i):ut(),!0)},r=e=>{!0!==i(pe)&&!0!==i(me)&&!0!==e&&Qe(n,!0,(()=>r(!0)))};r()}else G.clearValue(t);else Le(t)}function He(e){n("keypress",e)}function Ue(t){if(n("keydown",t),!0===(0,m.Wm)(t))return;const r=b.value.length>0&&(void 0!==e.newValueMode||void 0!==e.onNewValue),s=!0!==t.shiftKey&&!0!==e.multiple&&(y.value>-1||!0===r);if(27===t.keyCode)return void(0,g.X$)(t);if(9===t.keyCode&&!1===s)return void lt();if(void 0===t.target||t.target.id!==G.targetUid.value)return;if(40===t.keyCode&&!0!==G.innerLoading.value&&!1===p.value)return(0,g.NS)(t),void ct();if(8===t.keyCode&&!0!==e.hideSelected&&0===b.value.length)return void(!0===e.multiple&&!0===Array.isArray(e.modelValue)?_e(e.modelValue.length-1):!0!==e.multiple&&null!==e.modelValue&&n("update:modelValue",null));35!==t.keyCode&&36!==t.keyCode||"string"===typeof b.value&&0!==b.value.length||((0,g.NS)(t),y.value=-1,Te(36===t.keyCode?1:-1,e.multiple)),33!==t.keyCode&&34!==t.keyCode||void 0===H.value||((0,g.NS)(t),y.value=Math.max(-1,Math.min(B.value,y.value+(33===t.keyCode?-1:1)*H.value.view)),Te(33===t.keyCode?1:-1,e.multiple)),38!==t.keyCode&&40!==t.keyCode||((0,g.NS)(t),Te(38===t.keyCode?-1:1,e.multiple));const o=B.value;if((void 0===E||P<Date.now())&&(E=""),o>0&&!0!==e.useInput&&void 0!==t.key&&1===t.key.length&&t.altKey===t.ctrlKey&&(32!==t.keyCode||E.length>0)){!0!==p.value&&ct(t);const n=t.key.toLocaleLowerCase(),r=1===E.length&&E[0]===n;P=Date.now()+1500,!1===r&&((0,g.NS)(t),E+=n);const s=new RegExp("^"+E.split("").map((e=>qe.indexOf(e)>-1?"\\"+e:e)).join(".*"),"i");let a=y.value;if(!0===r||a<0||!0!==s.test(me.value(e.options[a])))do{a=(0,ze.Uz)(a+1,-1,o-1)}while(a!==y.value&&(!0===ve.value(e.options[a])||!0!==s.test(me.value(e.options[a]))));y.value!==a&&(0,i.Y3)((()=>{Ae(a),X(a),a>=0&&!0===e.useInput&&!0===e.fillInput&&Ke(me.value(e.options[a]))}))}else if(13===t.keyCode||32===t.keyCode&&!0!==e.useInput&&""===E||9===t.keyCode&&!1!==s)if(9!==t.keyCode&&(0,g.NS)(t),y.value>-1&&y.value<o)Ce(e.options[y.value]);else{if(!0===r){const t=(t,n)=>{if(n){if(!0!==Be(n))return}else n=e.newValueMode;if(void 0===t||null===t)return;Ze("",!0!==e.multiple,!0);const i="toggle"===n?Ce:ke;i(t,"add-unique"===n),!0!==e.multiple&&(null!==L.value&&L.value.focus(),ut())};if(void 0!==e.onNewValue?n("new-value",b.value,t):t(b.value),!0!==e.multiple)return}!0===p.value?lt():!0!==G.innerLoading.value&&ct()}}function je(){return!0===k?M.value:null!==N.value&&null!==N.value.__qPortalInnerRef.value?N.value.__qPortalInnerRef.value:void 0}function Ye(){return je()}function We(){return!0===e.hideSelected?[]:void 0!==t["selected-item"]?ce.value.map((e=>t["selected-item"](e))).slice():void 0!==t.selected?[].concat(t.selected()):!0===e.useChips?ce.value.map(((t,n)=>(0,i.h)(c.Z,{key:"option-"+n,removable:!0===G.editable.value&&!0!==ve.value(t.opt),dense:!0,textColor:e.color,tabindex:oe.value,onRemove(){t.removeAtIndex(n)}},(()=>(0,i.h)("span",{class:"ellipsis",[!0===t.html?"innerHTML":"textContent"]:me.value(t.opt)}))))):[(0,i.h)("span",{[!0===se.value?"innerHTML":"textContent"]:void 0!==e.displayValue?e.displayValue:ie.value})]}function Xe(){if(!0===ne.value)return void 0!==t["no-option"]?t["no-option"]({inputValue:b.value}):void 0;const e=void 0!==t.option?t.option:e=>(0,i.h)(u.Z,{key:e.index,...e.itemProps},(()=>(0,i.h)(h.Z,(()=>(0,i.h)(d.Z,(()=>(0,i.h)("span",{[!0===e.html?"innerHTML":"textContent"]:e.label})))))));let n=j("div",ue.value.map(e));return void 0!==t["before-options"]&&(n=t["before-options"]().concat(n)),(0,z.vs)(t["after-options"],n)}function $e(t,n){const r=!0===n?{...ae.value,...G.splitAttrs.attributes.value}:void 0,s={ref:!0===n?L:void 0,key:"i_t",class:ee.value,style:e.inputStyle,value:void 0!==b.value?b.value:"",type:"search",...r,id:!0===n?G.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":!0!==t&&!0===e.autofocus||void 0,disabled:!0===e.disable,readonly:!0===e.readonly,...be.value};return!0!==t&&!0===k&&(!0===Array.isArray(s.class)?s.class=[...s.class,"no-pointer-events"]:s.class+=" no-pointer-events"),(0,i.h)("input",s)}function Ge(t){clearTimeout(_),t&&t.target&&!0===t.target.qComposing||(Ke(t.target.value||""),C=!0,T=b.value,!0===G.focused.value||!0===k&&!0!==x.value||G.focus(),void 0!==e.onFilter&&(_=setTimeout((()=>{Qe(b.value)}),e.inputDebounce)))}function Ke(e){b.value!==e&&(b.value=e,n("input-value",e))}function Ze(t,n,i){C=!0!==i,!0===e.useInput&&(Ke(t),!0!==n&&!0===i||(T=t),!0!==n&&Qe(t))}function Qe(t,r,s){if(void 0===e.onFilter||!0!==r&&!0!==G.focused.value)return;!0===G.innerLoading.value?n("filter-abort"):(G.innerLoading.value=!0,w.value=!0),""!==t&&!0!==e.multiple&&K.value.length>0&&!0!==C&&t===me.value(K.value[0])&&(t="");const a=setTimeout((()=>{!0===p.value&&(p.value=!1)}),10);clearTimeout(A),A=a,n("filter",t,((e,t)=>{!0!==r&&!0!==G.focused.value||A!==a||(clearTimeout(A),"function"===typeof e&&e(),w.value=!1,(0,i.Y3)((()=>{G.innerLoading.value=!1,!0===G.editable.value&&(!0===r?!0===p.value&&ut():!0===p.value?dt(!0):p.value=!0),"function"===typeof t&&(0,i.Y3)((()=>{t(o)})),"function"===typeof s&&(0,i.Y3)((()=>{s(o)}))})))}),(()=>{!0===G.focused.value&&A===a&&(clearTimeout(A),G.innerLoading.value=!1,w.value=!1),!0===p.value&&(p.value=!1)}))}function Je(){return(0,i.h)(ge,{ref:N,class:te.value,style:e.popupContentStyle,modelValue:p.value,fit:!0!==e.menuShrink,cover:!0===e.optionsCover&&!0!==ne.value&&!0!==e.useInput,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:Q.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:de.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...le.value,onScrollPassive:Y,onBeforeShow:gt,onBeforeHide:et,onShow:tt},Xe)}function et(e){mt(e),lt()}function tt(){$()}function nt(e){(0,g.sT)(e),null!==L.value&&L.value.focus(),x.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function it(e){(0,g.sT)(e),(0,i.Y3)((()=>{x.value=!1}))}function rt(){const n=[(0,i.h)(a,{class:`col-auto ${G.fieldClass.value}`,...Z.value,for:G.targetUid.value,dark:Q.value,square:!0,loading:w.value,itemAligned:!1,filled:!0,stackLabel:b.value.length>0,...G.splitAttrs.listeners.value,onFocus:nt,onBlur:it},{...t,rawControl:()=>G.getControl(!0),before:void 0,after:void 0})];return!0===p.value&&n.push((0,i.h)("div",{ref:M,class:te.value+" scroll",style:e.popupContentStyle,...le.value,onClick:g.X$,onScrollPassive:Y},Xe())),(0,i.h)(we,{ref:O,modelValue:v.value,position:!0===e.useInput?"top":void 0,transitionShow:I,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:gt,onBeforeHide:st,onHide:ot,onShow:at},(()=>(0,i.h)("div",{class:"q-select__dialog"+(!0===Q.value?" q-select__dialog--dark q-dark":"")+(!0===x.value?" q-select__dialog--focused":"")},n)))}function st(e){mt(e),null!==O.value&&O.value.__updateRefocusTarget(G.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),G.focused.value=!1}function ot(e){ut(),!1===G.focused.value&&n("blur",e),ht()}function at(){const e=document.activeElement;null!==e&&e.id===G.targetUid.value||null===L.value||L.value===e||L.value.focus(),$()}function lt(){!0!==v.value&&(y.value=-1,!0===p.value&&(p.value=!1),!1===G.focused.value&&(clearTimeout(A),A=void 0,!0===G.innerLoading.value&&(n("filter-abort"),G.innerLoading.value=!1,w.value=!1)))}function ct(n){!0===G.editable.value&&(!0===k?(G.onControlFocusin(n),v.value=!0,(0,i.Y3)((()=>{G.focus()}))):G.focus(),void 0!==e.onFilter?Qe(b.value):!0===ne.value&&void 0===t["no-option"]||(p.value=!0))}function ut(){v.value=!1,lt()}function ht(){!0===e.useInput&&Ze(!0!==e.multiple&&!0===e.fillInput&&K.value.length>0&&me.value(K.value[0])||"",!0,!0)}function dt(t){let n=-1;if(!0===t){if(K.value.length>0){const t=pe.value(K.value[0]);n=e.options.findIndex((e=>(0,Fe.xb)(pe.value(e),t)))}U(n)}Ae(n)}function ft(){!0===p.value&&!1===G.innerLoading.value&&(W(),(0,i.Y3)((()=>{!0===p.value&&!1===G.innerLoading.value&&dt(!0)})))}function pt(){!1===v.value&&null!==N.value&&N.value.updatePosition()}function gt(e){void 0!==e&&(0,g.sT)(e),n("popup-show",e),G.hasPopupOpen=!0,G.onControlFocusin(e)}function mt(e){void 0!==e&&(0,g.sT)(e),n("popup-hide",e),G.hasPopupOpen=!1,G.onControlFocusout(e)}function vt(){k=(!0===f.platform.is.mobile||"dialog"===e.behavior)&&("menu"!==e.behavior&&(!0!==e.useInput||(void 0!==t["no-option"]||void 0!==e.onFilter||!1===ne.value))),I=!0===f.platform.is.ios&&!0===k&&!0===e.useInput?"fade":e.transitionShow}return(0,i.YP)(K,(t=>{S=t,!0===e.useInput&&!0===e.fillInput&&!0!==e.multiple&&!0!==G.innerLoading.value&&(!0!==v.value&&!0!==p.value||!0!==J.value)&&(!0!==C&&ht(),!0!==v.value&&!0!==p.value||Qe(""))}),{immediate:!0}),(0,i.YP)((()=>e.fillInput),ht),(0,i.YP)(p,dt),(0,i.YP)(B,ft),(0,i.Xn)(vt),(0,i.ic)(pt),vt(),(0,i.Jd)((()=>{clearTimeout(_)})),Object.assign(o,{showPopup:ct,hidePopup:ut,removeAtIndex:_e,add:ke,toggleOption:Ce,getOptionIndex:()=>y.value,setOptionIndex:Ae,moveOptionSelection:Te,filter:Qe,updateMenuPosition:pt,updateInputValue:Ze,isOptionSelected:Pe,getEmittingOptionValue:xe,isOptionDisabled:(...e)=>!0===ve.value.apply(null,e),getOptionValue:(...e)=>pe.value.apply(null,e),getOptionLabel:(...e)=>me.value.apply(null,e)}),Object.assign(G,{innerValue:K,fieldClass:(0,i.Fl)((()=>`q-select q-field--auto-height q-select--with${!0!==e.useInput?"out":""}-input q-select--with${!0!==e.useChips?"out":""}-chips q-select--`+(!0===e.multiple?"multiple":"single"))),inputRef:R,targetRef:L,hasValue:J,showPopup:ct,floatingLabel:(0,i.Fl)((()=>(!0===e.hideSelected?b.value.length>0:!0===J.value)||(0,s.yV)(e.displayValue))),getControlChild:()=>{if(!1!==G.editable.value&&(!0===v.value||!0!==ne.value||void 0!==t["no-option"]))return!0===k?rt():Je();!0===G.hasPopupOpen&&(G.hasPopupOpen=!1)},controlEvents:{onFocusin(e){G.onControlFocusin(e)},onFocusout(e){G.onControlFocusout(e,(()=>{ht(),lt()}))},onClick(e){if((0,g.X$)(e),!0!==k&&!0===p.value)return lt(),void(null!==L.value&&L.value.focus());ct(e)}},getControl:t=>{const n=We(),r=!0===t||!0!==v.value||!0!==k;if(!0===e.useInput)n.push($e(t,r));else if(!0===G.editable.value){const t=!0===r?ae.value:void 0;n.push((0,i.h)("input",{ref:!0===r?L:void 0,key:"d_t",class:"q-select__focus-target",id:!0===r?G.targetUid.value:void 0,readonly:!0,...t,onKeydown:Ue,onKeyup:Le,onKeypress:He})),!0===r&&"string"===typeof e.autocomplete&&e.autocomplete.length>0&&n.push((0,i.h)("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:Ne}))}if(void 0!==D.value&&!0!==e.disable&&ye.value.length>0){const t=ye.value.map((e=>(0,i.h)("option",{value:e,selected:!0})));n.push((0,i.h)("select",{class:"hidden",name:D.value,multiple:e.multiple},t))}const s=!0===e.useInput||!0!==r?void 0:G.splitAttrs.attributes.value;return(0,i.h)("div",{class:"q-field__native row items-center",...s},n)},getInnerAppend:()=>!0!==e.loading&&!0!==w.value&&!0!==e.hideDropdownIcon?[(0,i.h)(l.Z,{class:"q-select__dropdown-icon"+(!0===p.value?" rotate-180":""),name:he.value})]:null}),(0,s.ZP)(G)}})},926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(9835),r=n(8234),s=n(5987);const o={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},a={xs:2,sm:4,md:8,lg:16,xl:24},l=(0,s.L)({name:"QSeparator",props:{...r.S,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=(0,i.FN)(),n=(0,r.Z)(e,t.proxy.$q),s=(0,i.Fl)((()=>!0===e.vertical?"vertical":"horizontal")),l=(0,i.Fl)((()=>` q-separator--${s.value}`)),c=(0,i.Fl)((()=>!1!==e.inset?`${l.value}-${o[e.inset]}`:"")),u=(0,i.Fl)((()=>`q-separator${l.value}${c.value}`+(void 0!==e.color?` bg-${e.color}`:"")+(!0===n.value?" q-separator--dark":""))),h=(0,i.Fl)((()=>{const t={};if(void 0!==e.size&&(t[!0===e.vertical?"width":"height"]=e.size),!1!==e.spaced){const n=!0===e.spaced?`${a.md}px`:e.spaced in a?`${a[e.spaced]}px`:e.spaced,i=!0===e.vertical?["Left","Right"]:["Top","Bottom"];t[`margin${i[0]}`]=t[`margin${i[1]}`]=n}return t}));return()=>(0,i.h)("hr",{class:u.value,style:h.value,"aria-orientation":s.value})}})},7133:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>c});n(6727);var i=n(9835),r=n(8234),s=n(5987),o=n(2026);const a=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],l=["wave","pulse","pulse-x","pulse-y","fade","blink","none"],c=(0,s.L)({name:"QSkeleton",props:{...r.S,tag:{type:String,default:"div"},type:{type:String,validator:e=>a.includes(e),default:"rect"},animation:{type:String,validator:e=>l.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:t}){const n=(0,i.FN)(),s=(0,r.Z)(e,n.proxy.$q),a=(0,i.Fl)((()=>{const t=void 0!==e.size?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:t[0],height:t[1]}})),l=(0,i.Fl)((()=>`q-skeleton q-skeleton--${!0===s.value?"dark":"light"} q-skeleton--type-${e.type}`+("none"!==e.animation?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(!0===e.square?" q-skeleton--square":"")+(!0===e.bordered?" q-skeleton--bordered":"")));return()=>(0,i.h)(e.tag,{class:l.value,style:a.value},(0,o.KR)(t.default))}})},8423:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});n(6727);var i=n(9835),r=n(499),s=n(9256),o=n(2873),a=n(8234),l=n(321),c=n(1384),u=n(6254),h=n(2026);const d="q-slider__marker-labels",f=e=>({value:e}),p=({marker:e})=>(0,i.h)("div",{key:e.value,style:e.style,class:e.classes},e.label),g=[34,37,40,33,39,38],m={...a.S,...s.Fz,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},v=["pan","update:modelValue","change"];function y({updateValue:e,updatePosition:t,getDragging:n,formAttrs:m}){const{props:v,emit:y,slots:b,proxy:{$q:x}}=(0,i.FN)(),w=(0,a.Z)(v,x),_=(0,s.eX)(m),S=(0,r.iH)(!1),k=(0,r.iH)(!1),C=(0,r.iH)(!1),A=(0,r.iH)(!1),T=(0,i.Fl)((()=>!0===v.vertical?"--v":"--h")),I=(0,i.Fl)((()=>"-"+(!0===v.switchLabelSide?"switched":"standard"))),E=(0,i.Fl)((()=>!0===v.vertical?!0===v.reverse:v.reverse!==(!0===x.lang.rtl))),P=(0,i.Fl)((()=>!0===isNaN(v.innerMin)||v.innerMin<v.min?v.min:v.innerMin)),R=(0,i.Fl)((()=>!0===isNaN(v.innerMax)||v.innerMax>v.max?v.max:v.innerMax)),L=(0,i.Fl)((()=>!0!==v.disable&&!0!==v.readonly&&P.value<R.value)),N=(0,i.Fl)((()=>(String(v.step).trim().split(".")[1]||"").length)),O=(0,i.Fl)((()=>0===v.step?1:v.step)),M=(0,i.Fl)((()=>!0===L.value?v.tabindex||0:-1)),D=(0,i.Fl)((()=>v.max-v.min)),F=(0,i.Fl)((()=>R.value-P.value)),z=(0,i.Fl)((()=>oe(P.value))),B=(0,i.Fl)((()=>oe(R.value))),q=(0,i.Fl)((()=>!0===v.vertical?!0===E.value?"bottom":"top":!0===E.value?"right":"left")),V=(0,i.Fl)((()=>!0===v.vertical?"height":"width")),H=(0,i.Fl)((()=>!0===v.vertical?"width":"height")),U=(0,i.Fl)((()=>!0===v.vertical?"vertical":"horizontal")),j=(0,i.Fl)((()=>{const e={role:"slider","aria-valuemin":P.value,"aria-valuemax":R.value,"aria-orientation":U.value,"data-step":v.step};return!0===v.disable?e["aria-disabled"]="true":!0===v.readonly&&(e["aria-readonly"]="true"),e})),Y=(0,i.Fl)((()=>`q-slider q-slider${T.value} q-slider--${!0===S.value?"":"in"}active inline no-wrap `+(!0===v.vertical?"row":"column")+(!0===v.disable?" disabled":" q-slider--enabled"+(!0===L.value?" q-slider--editable":""))+("both"===C.value?" q-slider--focus":"")+(v.label||!0===v.labelAlways?" q-slider--label":"")+(!0===v.labelAlways?" q-slider--label-always":"")+(!0===w.value?" q-slider--dark":"")+(!0===v.dense?" q-slider--dense q-slider--dense"+T.value:"")));function W(e){const t="q-slider__"+e;return`${t} ${t}${T.value} ${t}${T.value}${I.value}`}function X(e){const t="q-slider__"+e;return`${t} ${t}${T.value}`}const $=(0,i.Fl)((()=>{const e=v.selectionColor||v.color;return"q-slider__selection absolute"+(void 0!==e?` text-${e}`:"")})),G=(0,i.Fl)((()=>X("markers")+" absolute overflow-hidden")),K=(0,i.Fl)((()=>X("track-container"))),Z=(0,i.Fl)((()=>W("pin"))),Q=(0,i.Fl)((()=>W("label"))),J=(0,i.Fl)((()=>W("text-container"))),ee=(0,i.Fl)((()=>W("marker-labels-container")+(void 0!==v.markerLabelsClass?` ${v.markerLabelsClass}`:""))),te=(0,i.Fl)((()=>"q-slider__track relative-position no-outline"+(void 0!==v.trackColor?` bg-${v.trackColor}`:""))),ne=(0,i.Fl)((()=>{const e={[H.value]:v.trackSize};return void 0!==v.trackImg&&(e.backgroundImage=`url(${v.trackImg}) !important`),e})),ie=(0,i.Fl)((()=>"q-slider__inner absolute"+(void 0!==v.innerTrackColor?` bg-${v.innerTrackColor}`:""))),re=(0,i.Fl)((()=>{const e={[q.value]:100*z.value+"%",[V.value]:100*(B.value-z.value)+"%"};return void 0!==v.innerTrackImg&&(e.backgroundImage=`url(${v.innerTrackImg}) !important`),e}));function se(e){const{min:t,max:n,step:i}=v;let r=t+e*(n-t);if(i>0){const e=(r-t)%i;r+=(Math.abs(e)>=i/2?(e<0?-1:1)*i:0)-e}return N.value>0&&(r=parseFloat(r.toFixed(N.value))),(0,l.vX)(r,P.value,R.value)}function oe(e){return 0===D.value?0:(e-v.min)/D.value}function ae(e,t){const n=(0,c.FK)(e),i=!0===v.vertical?(0,l.vX)((n.top-t.top)/t.height,0,1):(0,l.vX)((n.left-t.left)/t.width,0,1);return(0,l.vX)(!0===E.value?1-i:i,z.value,B.value)}const le=(0,i.Fl)((()=>!0===(0,u.hj)(v.markers)?v.markers:O.value)),ce=(0,i.Fl)((()=>{const e=[],t=le.value,n=v.max;let i=v.min;do{e.push(i),i+=t}while(i<n);return e.push(n),e})),ue=(0,i.Fl)((()=>{const e=` ${d}${T.value}-`;return d+`${e}${!0===v.switchMarkerLabelsSide?"switched":"standard"}`+`${e}${!0===E.value?"rtl":"ltr"}`})),he=(0,i.Fl)((()=>!1===v.markerLabels?null:pe(v.markerLabels).map(((e,t)=>({index:t,value:e.value,label:e.label||e.value,classes:ue.value+(void 0!==e.classes?" "+e.classes:""),style:{...ge(e.value),...e.style||{}}}))))),de=(0,i.Fl)((()=>({markerList:he.value,markerMap:me.value,classes:ue.value,getStyle:ge}))),fe=(0,i.Fl)((()=>{if(0!==F.value){const e=100*le.value/F.value;return{...re.value,backgroundSize:!0===v.vertical?`2px ${e}%`:`${e}% 2px`}}return null}));function pe(e){if(!1===e)return null;if(!0===e)return ce.value.map(f);if("function"===typeof e)return ce.value.map((t=>{const n=e(t);return!0===(0,u.Kn)(n)?{...n,value:t}:{value:t,label:n}}));const t=({value:e})=>e>=v.min&&e<=v.max;return!0===Array.isArray(e)?e.map((e=>!0===(0,u.Kn)(e)?e:{value:e})).filter(t):Object.keys(e).map((t=>{const n=e[t],i=Number(t);return!0===(0,u.Kn)(n)?{...n,value:i}:{value:i,label:n}})).filter(t)}function ge(e){return{[q.value]:100*(e-v.min)/D.value+"%"}}const me=(0,i.Fl)((()=>{if(!1===v.markerLabels)return null;const e={};return he.value.forEach((t=>{e[t.value]=t})),e}));function ve(){if(void 0!==b["marker-label-group"])return b["marker-label-group"](de.value);const e=b["marker-label"]||p;return he.value.map((t=>e({marker:t,...de.value})))}const ye=(0,i.Fl)((()=>[[o.Z,be,void 0,{[U.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]));function be(i){!0===i.isFinal?(void 0!==A.value&&(t(i.evt),!0===i.touch&&e(!0),A.value=void 0,y("pan","end")),S.value=!1,C.value=!1):!0===i.isFirst?(A.value=n(i.evt),t(i.evt),e(),S.value=!0,y("pan","start")):(t(i.evt),e())}function xe(){C.value=!1}function we(i){t(i,n(i)),e(),k.value=!0,S.value=!0,document.addEventListener("mouseup",_e,!0)}function _e(){k.value=!1,S.value=!1,e(!0),xe(),document.removeEventListener("mouseup",_e,!0)}function Se(i){t(i,n(i)),e(!0)}function ke(t){g.includes(t.keyCode)&&e(!0)}function Ce(e){if(!0===v.vertical)return null;const t=x.lang.rtl!==v.reverse?1-e:e;return{transform:`translateX(calc(${2*t-1} * ${v.thumbSize} / 2 + ${50-100*t}%))`}}function Ae(e){const t=(0,i.Fl)((()=>!1!==k.value||C.value!==e.focusValue&&"both"!==C.value?"":" q-slider--focus")),n=(0,i.Fl)((()=>`q-slider__thumb q-slider__thumb${T.value} q-slider__thumb${T.value}-${!0===E.value?"rtl":"ltr"} absolute non-selectable`+t.value+(void 0!==e.thumbColor.value?` text-${e.thumbColor.value}`:""))),r=(0,i.Fl)((()=>({width:v.thumbSize,height:v.thumbSize,[q.value]:100*e.ratio.value+"%",zIndex:C.value===e.focusValue?2:void 0}))),s=(0,i.Fl)((()=>void 0!==e.labelColor.value?` text-${e.labelColor.value}`:"")),o=(0,i.Fl)((()=>Ce(e.ratio.value))),a=(0,i.Fl)((()=>"q-slider__text"+(void 0!==e.labelTextColor.value?` text-${e.labelTextColor.value}`:"")));return()=>{const t=[(0,i.h)("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[(0,i.h)("path",{d:v.thumbPath})]),(0,i.h)("div",{class:"q-slider__focus-ring fit"})];return!0!==v.label&&!0!==v.labelAlways||(t.push((0,i.h)("div",{class:Z.value+" absolute fit no-pointer-events"+s.value},[(0,i.h)("div",{class:Q.value,style:{minWidth:v.thumbSize}},[(0,i.h)("div",{class:J.value,style:o.value},[(0,i.h)("span",{class:a.value},e.label.value)])])])),void 0!==v.name&&!0!==v.disable&&_(t,"push")),(0,i.h)("div",{class:n.value,style:r.value,...e.getNodeData()},t)}}function Te(e,t,n,r){const s=[];"transparent"!==v.innerTrackColor&&s.push((0,i.h)("div",{key:"inner",class:ie.value,style:re.value})),"transparent"!==v.selectionColor&&s.push((0,i.h)("div",{key:"selection",class:$.value,style:e.value})),!1!==v.markers&&s.push((0,i.h)("div",{key:"marker",class:G.value,style:fe.value})),r(s);const o=[(0,h.Jl)("div",{key:"trackC",class:K.value,tabindex:t.value,...n.value},[(0,i.h)("div",{class:te.value,style:ne.value},s)],"slide",L.value,(()=>ye.value))];if(!1!==v.markerLabels){const e=!0===v.switchMarkerLabelsSide?"unshift":"push";o[e]((0,i.h)("div",{key:"markerL",class:ee.value},ve()))}return o}return(0,i.Jd)((()=>{document.removeEventListener("mouseup",_e,!0)})),{state:{active:S,focus:C,preventFocus:k,dragging:A,editable:L,classes:Y,tabindex:M,attributes:j,step:O,decimals:N,trackLen:D,innerMin:P,innerMinRatio:z,innerMax:R,innerMaxRatio:B,positionProp:q,sizeProp:V,isReversed:E},methods:{onActivate:we,onMobileClick:Se,onBlur:xe,onKeyup:ke,getContent:Te,getThumbRenderFn:Ae,convertRatioToModel:se,convertModelToRatio:oe,getDraggingRatio:ae}}}var b=n(5987);const x=()=>({}),w=(0,b.L)({name:"QSlider",props:{...m,modelValue:{required:!0,default:null,validator:e=>"number"===typeof e||null===e},labelValue:[String,Number]},emits:v,setup(e,{emit:t}){const{proxy:{$q:n}}=(0,i.FN)(),{state:o,methods:a}=y({updateValue:_,updatePosition:k,getDragging:S,formAttrs:(0,s.Vt)(e)}),u=(0,r.iH)(null),h=(0,r.iH)(0),d=(0,r.iH)(0);function f(){d.value=null===e.modelValue?o.innerMin.value:(0,l.vX)(e.modelValue,o.innerMin.value,o.innerMax.value)}(0,i.YP)((()=>`${e.modelValue}|${o.innerMin.value}|${o.innerMax.value}`),f),f();const p=(0,i.Fl)((()=>a.convertModelToRatio(d.value))),m=(0,i.Fl)((()=>!0===o.active.value?h.value:p.value)),v=(0,i.Fl)((()=>{const t={[o.positionProp.value]:100*o.innerMinRatio.value+"%",[o.sizeProp.value]:100*(m.value-o.innerMinRatio.value)+"%"};return void 0!==e.selectionImg&&(t.backgroundImage=`url(${e.selectionImg}) !important`),t})),b=a.getThumbRenderFn({focusValue:!0,getNodeData:x,ratio:m,label:(0,i.Fl)((()=>void 0!==e.labelValue?e.labelValue:d.value)),thumbColor:(0,i.Fl)((()=>e.thumbColor||e.color)),labelColor:(0,i.Fl)((()=>e.labelColor)),labelTextColor:(0,i.Fl)((()=>e.labelTextColor))}),w=(0,i.Fl)((()=>!0!==o.editable.value?{}:!0===n.platform.is.mobile?{onClick:a.onMobileClick}:{onMousedown:a.onActivate,onFocus:C,onBlur:a.onBlur,onKeydown:A,onKeyup:a.onKeyup}));function _(n){d.value!==e.modelValue&&t("update:modelValue",d.value),!0===n&&t("change",d.value)}function S(){return u.value.getBoundingClientRect()}function k(t,n=o.dragging.value){const i=a.getDraggingRatio(t,n);d.value=a.convertRatioToModel(i),h.value=!0!==e.snap||0===e.step?i:a.convertModelToRatio(d.value)}function C(){o.focus.value=!0}function A(e){if(!g.includes(e.keyCode))return;(0,c.NS)(e);const t=([34,33].includes(e.keyCode)?10:1)*o.step.value,n=([34,37,40].includes(e.keyCode)?-1:1)*(!0===o.isReversed.value?-1:1)*t;d.value=(0,l.vX)(parseFloat((d.value+n).toFixed(o.decimals.value)),o.innerMin.value,o.innerMax.value),_()}return()=>{const t=a.getContent(v,o.tabindex,w,(e=>{e.push(b())}));return(0,i.h)("div",{ref:u,class:o.classes.value+(null===e.modelValue?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":e.modelValue},t)}}})},136:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(9835),r=n(5987);const s=(0,i.h)("div",{class:"q-space"}),o=(0,r.L)({name:"QSpace",setup(){return()=>s}})},3902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(9835),r=n(8313),s=n(5987);const o=(0,s.L)({name:"QSpinner",props:{...r.G,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:n}=(0,r.Z)(e);return()=>(0,i.h)("svg",{class:n.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[(0,i.h)("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}})},3358:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(9835),r=n(8313),s=n(5987);const o=[(0,i.h)("g",[(0,i.h)("path",{fill:"none",stroke:"currentColor","stroke-width":"5","stroke-miterlimit":"10",d:"M58.4,51.7c-0.9-0.9-1.4-2-1.4-2.3s0.5-0.4,1.4-1.4 C70.8,43.8,79.8,30.5,80,15.5H70H30H20c0.2,15,9.2,28.1,21.6,32.3c0.9,0.9,1.4,1.2,1.4,1.5s-0.5,1.6-1.4,2.5 C29.2,56.1,20.2,69.5,20,85.5h10h40h10C79.8,69.5,70.8,55.9,58.4,51.7z"}),(0,i.h)("clipPath",{id:"uil-hourglass-clip1"},[(0,i.h)("rect",{x:"15",y:"20",width:" 70",height:"25"},[(0,i.h)("animate",{attributeName:"height",from:"25",to:"0",dur:"1s",repeatCount:"indefinite",values:"25;0;0",keyTimes:"0;0.5;1"}),(0,i.h)("animate",{attributeName:"y",from:"20",to:"45",dur:"1s",repeatCount:"indefinite",values:"20;45;45",keyTimes:"0;0.5;1"})])]),(0,i.h)("clipPath",{id:"uil-hourglass-clip2"},[(0,i.h)("rect",{x:"15",y:"55",width:" 70",height:"25"},[(0,i.h)("animate",{attributeName:"height",from:"0",to:"25",dur:"1s",repeatCount:"indefinite",values:"0;25;25",keyTimes:"0;0.5;1"}),(0,i.h)("animate",{attributeName:"y",from:"80",to:"55",dur:"1s",repeatCount:"indefinite",values:"80;55;55",keyTimes:"0;0.5;1"})])]),(0,i.h)("path",{d:"M29,23c3.1,11.4,11.3,19.5,21,19.5S67.9,34.4,71,23H29z","clip-path":"url(#uil-hourglass-clip1)",fill:"currentColor"}),(0,i.h)("path",{d:"M71.6,78c-3-11.6-11.5-20-21.5-20s-18.5,8.4-21.5,20H71.6z","clip-path":"url(#uil-hourglass-clip2)",fill:"currentColor"}),(0,i.h)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"180 50 50",repeatCount:"indefinite",dur:"1s",values:"0 50 50;0 50 50;180 50 50",keyTimes:"0;0.7;1"})])],a=(0,s.L)({name:"QSpinnerHourglass",props:r.G,setup(e){const{cSize:t,classes:n}=(0,r.Z)(e);return()=>(0,i.h)("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},o)}})},8313:(e,t,n)=>{"use strict";n.d(t,{G:()=>s,Z:()=>o});var i=n(9835),r=n(244);const s={size:{type:[Number,String],default:"1em"},color:String};function o(e){return{cSize:(0,i.Fl)((()=>e.size in r.Ok?`${r.Ok[e.size]}px`:e.size)),classes:(0,i.Fl)((()=>"q-spinner"+(e.color?` text-${e.color}`:"")))}}},4106:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(9835),r=n(6120),s=n(5987),o=n(2026);const a=(0,s.L)({name:"QTabPanel",props:r.vZ,setup(e,{slots:t}){return()=>(0,i.h)("div",{class:"q-tab-panel"},(0,o.KR)(t.default))}})},9800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(9835),r=n(8234),s=n(6120),o=n(5987),a=n(2026);const l=(0,o.L)({name:"QTabPanels",props:{...s.t6,...r.S},emits:s.K6,setup(e,{slots:t}){const n=(0,i.FN)(),o=(0,r.Z)(e,n.proxy.$q),{updatePanelsList:l,getPanelContent:c,panelDirectives:u}=(0,s.ZP)(),h=(0,i.Fl)((()=>"q-tab-panels q-panel-parent"+(!0===o.value?" q-tab-panels--dark q-dark":"")));return()=>(l(t),(0,a.Jl)("div",{class:h.value},c(),"pan",e.swipeable,(()=>u.value)))}})},900:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(9835),r=n(499),s=n(2857),o=n(1136),a=n(2026),l=n(1705),c=n(5439),u=n(1384);let h=0;const d=["click","keydown"],f={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>"t_"+h++},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function p(e,t,n,h){const d=(0,i.f3)(c.Nd,(()=>{console.error("QTab/QRouteTab component needs to be child of QTabs")})),{proxy:f}=(0,i.FN)(),p=(0,r.iH)(null),g=(0,r.iH)(null),m=(0,r.iH)(null),v=(0,i.Fl)((()=>!0!==e.disable&&!1!==e.ripple&&Object.assign({keyCodes:[13,32],early:!0},!0===e.ripple?{}:e.ripple))),y=(0,i.Fl)((()=>d.currentModel.value===e.name)),b=(0,i.Fl)((()=>"q-tab relative-position self-stretch flex flex-center text-center"+(!0===y.value?" q-tab--active"+(d.tabProps.value.activeClass?" "+d.tabProps.value.activeClass:"")+(d.tabProps.value.activeColor?` text-${d.tabProps.value.activeColor}`:"")+(d.tabProps.value.activeBgColor?` bg-${d.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&!1===d.tabProps.value.inlineLabel?" q-tab--full":"")+(!0===e.noCaps||!0===d.tabProps.value.noCaps?" q-tab--no-caps":"")+(!0===e.disable?" disabled":" q-focusable q-hoverable cursor-pointer")+(void 0!==h&&""!==h.linkClass.value?` ${h.linkClass.value}`:""))),x=(0,i.Fl)((()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(!0===d.tabProps.value.inlineLabel?"row no-wrap q-tab__content--inline":"column")+(void 0!==e.contentClass?` ${e.contentClass}`:""))),w=(0,i.Fl)((()=>!0===e.disable||!0===d.hasFocus.value?-1:e.tabindex||0));function _(t,i){if(!0!==i&&null!==p.value&&p.value.focus(),!0!==e.disable){let i;if(void 0!==h){if(!0!==h.hasRouterLink.value)return void n("click",t);i=()=>{t.__qNavigate=!0,d.avoidRouteWatcher=!0;const n=h.navigateToRouterLink(t);!1===n?d.avoidRouteWatcher=!1:n.then((t=>{d.avoidRouteWatcher=!1,void 0===t&&d.updateModel({name:e.name,fromRoute:!0})}))}}else i=()=>{d.updateModel({name:e.name,fromRoute:!1})};n("click",t,i),!0!==t.defaultPrevented&&i()}}function S(e){(0,l.So)(e,[13,32])?_(e,!0):!0!==(0,l.Wm)(e)&&e.keyCode>=35&&e.keyCode<=40&&!0===d.onKbdNavigate(e.keyCode,f.$el)&&(0,u.NS)(e),n("keydown",e)}function k(){const n=d.tabProps.value.narrowIndicator,r=[],o=(0,i.h)("div",{ref:m,class:["q-tab__indicator",d.tabProps.value.indicatorClass]});void 0!==e.icon&&r.push((0,i.h)(s.Z,{class:"q-tab__icon",name:e.icon})),void 0!==e.label&&r.push((0,i.h)("div",{class:"q-tab__label"},e.label)),!1!==e.alert&&r.push(void 0!==e.alertIcon?(0,i.h)(s.Z,{class:"q-tab__alert-icon",color:!0!==e.alert?e.alert:void 0,name:e.alertIcon}):(0,i.h)("div",{class:"q-tab__alert"+(!0!==e.alert?` text-${e.alert}`:"")})),!0===n&&r.push(o);const l=[(0,i.h)("div",{class:"q-focus-helper",tabindex:-1,ref:p}),(0,i.h)("div",{class:x.value},(0,a.vs)(t.default,r))];return!1===n&&l.push(o),l}const C={name:(0,i.Fl)((()=>e.name)),rootRef:g,tabIndicatorRef:m,routerProps:h};function A(t,n){const r={ref:g,class:b.value,tabindex:w.value,role:"tab","aria-selected":!0===y.value?"true":"false","aria-disabled":!0===e.disable?"true":void 0,onClick:_,onKeydown:S,...n};return(0,i.wy)((0,i.h)(t,r,k()),[[o.Z,v.value]])}return(0,i.Jd)((()=>{d.unregisterTab(C),d.recalculateScroll()})),(0,i.bv)((()=>{d.registerTab(C),d.recalculateScroll()})),{renderTab:A,$tabs:d}}var g=n(5987);const m=(0,g.L)({name:"QTab",props:f,emits:d,setup(e,{slots:t,emit:n}){const{renderTab:i}=p(e,t,n);return()=>i("div")}})},7817:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});n(6727),n(702);var i=n(9835),r=n(499),s=n(2857),o=n(883),a=n(6916),l=n(2695),c=n(5987),u=n(1384),h=n(2026),d=n(5439),f=n(8383);function p(e,t,n){const i=!0===n?["left","right"]:["top","bottom"];return`absolute-${!0===t?i[0]:i[1]}${e?` text-${e}`:""}`}const g=["left","center","right","justify"],m=()=>{},v=(0,c.L)({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>g.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:n}){const c=(0,i.FN)(),{proxy:{$q:g}}=c,{registerTick:v}=(0,a.Z)(),{registerTimeout:y,removeTimeout:b}=(0,l.Z)(),{registerTimeout:x}=(0,l.Z)(),w=(0,r.iH)(null),_=(0,r.iH)(null),S=(0,r.iH)(e.modelValue),k=(0,r.iH)(!1),C=(0,r.iH)(!0),A=(0,r.iH)(!1),T=(0,r.iH)(!1),I=(0,i.Fl)((()=>!0===g.platform.is.desktop||!0===e.mobileArrows)),E=[],P=(0,r.iH)(!1);let R,L,N,O=!1,M=!0===I.value?$:u.ZT;const D=(0,i.Fl)((()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:p(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps}))),F=(0,i.Fl)((()=>{const t=!0===k.value?"left":!0===T.value?"justify":e.align;return`q-tabs__content--align-${t}`})),z=(0,i.Fl)((()=>`q-tabs row no-wrap items-center q-tabs--${!0===k.value?"":"not-"}scrollable q-tabs--`+(!0===e.vertical?"vertical":"horizontal")+" q-tabs__arrows--"+(!0===I.value&&!0===e.outsideArrows?"outside":"inside")+(!0===e.dense?" q-tabs--dense":"")+(!0===e.shrink?" col-shrink":"")+(!0===e.stretch?" self-stretch":""))),B=(0,i.Fl)((()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+F.value+(void 0!==e.contentClass?` ${e.contentClass}`:"")+(!0===g.platform.is.mobile?" scroll":""))),q=(0,i.Fl)((()=>!0===e.vertical?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"})),V=(0,i.Fl)((()=>!0!==e.vertical&&!0===g.lang.rtl)),H=(0,i.Fl)((()=>!1===f.e&&!0===V.value));function U({name:t,setCurrent:i,skipEmit:r,fromRoute:s}){S.value!==t&&(!0!==r&&n("update:modelValue",t),!0!==i&&void 0!==e["onUpdate:modelValue"]||(W(S.value,t),S.value=t)),void 0!==s&&(O=s)}function j(){v((()=>{!0!==c.isDeactivated&&!0!==c.isUnmounted&&Y({width:w.value.offsetWidth,height:w.value.offsetHeight})}))}function Y(t){if(void 0===q.value||null===_.value)return;const n=t[q.value.container],r=Math.min(_.value[q.value.scroll],Array.prototype.reduce.call(_.value.children,((e,t)=>e+(t[q.value.content]||0)),0)),s=n>0&&r>n;k.value!==s&&(k.value=s),!0===s&&(0,i.Y3)(M);const o=n<parseInt(e.breakpoint,10);T.value!==o&&(T.value=o)}function W(t,n){const r=void 0!==t&&null!==t&&""!==t?E.find((e=>e.name.value===t)):null,s=void 0!==n&&null!==n&&""!==n?E.find((e=>e.name.value===n)):null;if(r&&s){const t=r.tabIndicatorRef.value,n=s.tabIndicatorRef.value;clearTimeout(R),t.style.transition="none",t.style.transform="none",n.style.transition="none",n.style.transform="none";const o=t.getBoundingClientRect(),a=n.getBoundingClientRect();n.style.transform=!0===e.vertical?`translate3d(0,${o.top-a.top}px,0) scale3d(1,${a.height?o.height/a.height:1},1)`:`translate3d(${o.left-a.left}px,0,0) scale3d(${a.width?o.width/a.width:1},1,1)`,(0,i.Y3)((()=>{R=setTimeout((()=>{n.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",n.style.transform="none"}),70)}))}s&&!0===k.value&&X(s.rootRef.value)}function X(t){const{left:n,width:i,top:r,height:s}=_.value.getBoundingClientRect(),o=t.getBoundingClientRect();let a=!0===e.vertical?o.top-r:o.left-n;if(a<0)return _.value[!0===e.vertical?"scrollTop":"scrollLeft"]+=Math.floor(a),void M();a+=!0===e.vertical?o.height-s:o.width-i,a>0&&(_.value[!0===e.vertical?"scrollTop":"scrollLeft"]+=Math.ceil(a),M())}function $(){const t=_.value;if(null!==t){const n=t.getBoundingClientRect(),i=!0===e.vertical?t.scrollTop:Math.abs(t.scrollLeft);!0===V.value?(C.value=Math.ceil(i+n.width)<t.scrollWidth-1,A.value=i>0):(C.value=i>0,A.value=!0===e.vertical?Math.ceil(i+n.height)<t.scrollHeight:Math.ceil(i+n.width)<t.scrollWidth)}}function G(e){Q(),te(e),L=setInterval((()=>{!0===te(e)&&Q()}),5)}function K(){G(!0===H.value?Number.MAX_SAFE_INTEGER:0)}function Z(){G(!0===H.value?0:Number.MAX_SAFE_INTEGER)}function Q(){clearInterval(L)}function J(t,n){const i=Array.prototype.filter.call(_.value.children,(e=>e===n||e.matches&&!0===e.matches(".q-tab.q-focusable"))),r=i.length;if(0===r)return;if(36===t)return X(i[0]),!0;if(35===t)return X(i[r-1]),!0;const s=t===(!0===e.vertical?38:37),o=t===(!0===e.vertical?40:39),a=!0===s?-1:!0===o?1:void 0;if(void 0!==a){const e=!0===V.value?-1:1,t=i.indexOf(n)+a*e;return t>=0&&t<r&&(X(i[t]),i[t].focus({preventScroll:!0})),!0}}(0,i.YP)(V,M),(0,i.YP)((()=>e.modelValue),(e=>{U({name:e,setCurrent:!0,skipEmit:!0})})),(0,i.YP)((()=>e.outsideArrows),(()=>{(0,i.Y3)(j())})),(0,i.YP)(I,(e=>{M=!0===e?$:u.ZT,(0,i.Y3)(j())}));const ee=(0,i.Fl)((()=>!0===H.value?{get:e=>Math.abs(e.scrollLeft),set:(e,t)=>{e.scrollLeft=-t}}:!0===e.vertical?{get:e=>e.scrollTop,set:(e,t)=>{e.scrollTop=t}}:{get:e=>e.scrollLeft,set:(e,t)=>{e.scrollLeft=t}}));function te(e){const t=_.value,{get:n,set:i}=ee.value;let r=!1,s=n(t);const o=e<s?-1:1;return s+=5*o,s<0?(r=!0,s=0):(-1===o&&s<=e||1===o&&s>=e)&&(r=!0,s=e),i(t,s),M(),r}function ne(){return E.filter((e=>void 0!==e.routerProps&&!0===e.routerProps.hasRouterLink.value))}function ie(){let e=null,t=O;const n={matchedLen:0,hrefLen:0,exact:!1,found:!1},{hash:i}=c.proxy.$route,r=S.value;let s=!0===t?m:e=>{r===e.name.value&&(t=!0,s=m)};const o=ne();for(const a of o){const t=!0===a.routerProps.exact.value;if(!0!==a.routerProps[!0===t?"linkIsExactActive":"linkIsActive"].value||!0===n.exact&&!0!==t){s(a);continue}const r=a.routerProps.linkRoute.value,o=r.hash;if(!0===t){if(i===o){e=a.name.value;break}if(""!==i&&""!==o){s(a);continue}}const l=r.matched.length,c=r.href.length-o.length;(l===n.matchedLen?c>n.hrefLen:l>n.matchedLen)?(e=a.name.value,Object.assign(n,{matchedLen:l,hrefLen:c,exact:t})):s(a)}!0!==t&&null===e||U({name:e,setCurrent:!0,fromRoute:!0})}function re(e){if(b(),!0!==P.value&&null!==w.value&&e.target&&"function"===typeof e.target.closest){const t=e.target.closest(".q-tab");t&&!0===w.value.contains(t)&&(P.value=!0)}}function se(){y((()=>{P.value=!1}),30)}function oe(){!0!==ce.avoidRouteWatcher&&x(ie)}function ae(e){E.push(e);const t=ne();t.length>0&&(void 0===N&&(N=(0,i.YP)((()=>c.proxy.$route),oe)),oe())}function le(e){if(E.splice(E.indexOf(e),1),void 0!==N){const e=ne();0===e.length&&(N(),N=void 0),oe()}}const ce={currentModel:S,tabProps:D,hasFocus:P,registerTab:ae,unregisterTab:le,verifyRouteModel:oe,updateModel:U,recalculateScroll:j,onKbdNavigate:J,avoidRouteWatcher:!1};(0,i.JJ)(d.Nd,ce),(0,i.Jd)((()=>{clearTimeout(R),void 0!==N&&N()}));let ue=!1;return(0,i.se)((()=>{ue=!0})),(0,i.dl)((()=>{!0===ue&&j()})),()=>{const n=[(0,i.h)(o.Z,{onResize:Y}),(0,i.h)("div",{ref:_,class:B.value,onScroll:M},(0,h.KR)(t.default))];return!0===I.value&&n.push((0,i.h)(s.Z,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(!0===C.value?"":" q-tabs__arrow--faded"),name:e.leftIcon||g.iconSet.tabs[!0===e.vertical?"up":"left"],onMousedown:K,onTouchstartPassive:K,onMouseup:Q,onMouseleave:Q,onTouchend:Q}),(0,i.h)(s.Z,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(!0===A.value?"":" q-tabs__arrow--faded"),name:e.rightIcon||g.iconSet.tabs[!0===e.vertical?"down":"right"],onMousedown:Z,onTouchstartPassive:Z,onMouseup:Q,onMouseleave:Q,onTouchend:Q})),(0,i.h)("div",{ref:w,class:z.value,role:"tablist",onFocusin:re,onFocusout:se},n)}}})},1663:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(9835),r=n(5987),s=n(2026);const o=(0,r.L)({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const n=(0,i.Fl)((()=>"q-toolbar row no-wrap items-center"+(!0===e.inset?" q-toolbar--inset":"")));return()=>(0,i.h)("div",{class:n.value},(0,s.KR)(t.default))}})},1973:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(9835),r=n(5987),s=n(2026);const o=(0,r.L)({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:t}){const n=(0,i.Fl)((()=>"q-toolbar__title ellipsis"+(!0===e.shrink?" col-shrink":"")));return()=>(0,i.h)("div",{class:n.value},(0,s.KR)(t.default))}})},8234:(e,t,n)=>{"use strict";n.d(t,{S:()=>r,Z:()=>s});var i=n(9835);const r={dark:{type:Boolean,default:null}};function s(e,t){return(0,i.Fl)((()=>null===e.dark?t.dark.isActive:e.dark))}},201:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>Q,yV:()=>$,HJ:()=>K,Cl:()=>G,tL:()=>Z});var i=n(9835),r=n(499),s=n(1957),o=n(7506),a=n(2857),l=n(3902),c=n(8234),u=(n(6727),n(702),n(5439));function h({validate:e,resetValidation:t,requiresQForm:n}){const r=(0,i.f3)(u.vh,!1);if(!1!==r){const{props:n,proxy:s}=(0,i.FN)();Object.assign(s,{validate:e,resetValidation:t}),(0,i.YP)((()=>n.disable),(e=>{!0===e?("function"===typeof t&&t(),r.unbindComponent(s)):r.bindComponent(s)})),!0!==n.disable&&r.bindComponent(s),(0,i.Jd)((()=>{!0!==n.disable&&r.unbindComponent(s)}))}else!0===n&&console.error("Parent QForm not found on useFormChild()!")}const d=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,f=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,p=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,g=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,m=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,v={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>d.test(e),hexaColor:e=>f.test(e),hexOrHexaColor:e=>p.test(e),rgbColor:e=>g.test(e),rgbaColor:e=>m.test(e),rgbOrRgbaColor:e=>g.test(e)||m.test(e),hexOrRgbColor:e=>d.test(e)||g.test(e),hexaOrRgbaColor:e=>f.test(e)||m.test(e),anyColor:e=>p.test(e)||g.test(e)||m.test(e)};n(6822),n(8964);Object.prototype.toString,Object.prototype.hasOwnProperty;const y={};"Boolean Number String Function Array Date RegExp Object".split(" ").forEach((e=>{y["[object "+e+"]"]=e.toLowerCase()}));n(5583),n(4641),n(3269),n(9379);var b=n(244);const x={...b.LU,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean};var w=n(5987),_=n(2026),S=n(321);const k=50,C=2*k,A=C*Math.PI,T=Math.round(1e3*A)/1e3;(0,w.L)({name:"QCircularProgress",props:{...x,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,i.FN)(),r=(0,b.ZP)(e),s=(0,i.Fl)((()=>{const t=(!0===n.lang.rtl?-1:1)*e.angle;return{transform:e.reverse!==(!0===n.lang.rtl)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-t}deg)`:`rotate3d(0, 0, 1, ${t-90}deg)`}})),o=(0,i.Fl)((()=>!0!==e.instantFeedback&&!0!==e.indeterminate?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:"")),a=(0,i.Fl)((()=>C/(1-e.thickness/2))),l=(0,i.Fl)((()=>`${a.value/2} ${a.value/2} ${a.value} ${a.value}`)),c=(0,i.Fl)((()=>(0,S.vX)(e.value,e.min,e.max))),u=(0,i.Fl)((()=>A*(1-(c.value-e.min)/(e.max-e.min)))),h=(0,i.Fl)((()=>e.thickness/2*a.value));function d({thickness:e,offset:t,color:n,cls:r}){return(0,i.h)("circle",{class:"q-circular-progress__"+r+(void 0!==n?` text-${n}`:""),style:o.value,fill:"transparent",stroke:"currentColor","stroke-width":e,"stroke-dasharray":T,"stroke-dashoffset":t,cx:a.value,cy:a.value,r:k})}return()=>{const n=[];void 0!==e.centerColor&&"transparent"!==e.centerColor&&n.push((0,i.h)("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:k-h.value/2,cx:a.value,cy:a.value})),void 0!==e.trackColor&&"transparent"!==e.trackColor&&n.push(d({cls:"track",thickness:h.value,offset:0,color:e.trackColor})),n.push(d({cls:"circle",thickness:h.value,offset:u.value,color:e.color}));const o=[(0,i.h)("svg",{class:"q-circular-progress__svg",style:s.value,viewBox:l.value,"aria-hidden":"true"},n)];return!0===e.showValue&&o.push((0,i.h)("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},void 0!==t.default?t.default():[(0,i.h)("div",c.value)])),(0,i.h)("div",{class:`q-circular-progress q-circular-progress--${!0===e.indeterminate?"in":""}determinate`,style:r.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":!0===e.indeterminate?void 0:c.value},(0,_.pf)(t.internal,o))}}});var I=n(1970),E=n(1384);c.S,I.TS,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean;const P=[...I.Pl,"start","finish","added","removed"];const R=()=>!0;function L(e){const t={};return e.forEach((e=>{t[e]=R})),t}n(6254);L(P);n(4376);var N=n(899);n(223);n(3701),n(7674),n(8170),n(5231),n(7725),n(9359),n(6408);let O,M=0;const D=new Array(256);for(let J=0;J<256;J++)D[J]=(J+256).toString(16).substring(1);const F=(()=>{const e="undefined"!==typeof crypto?crypto:"undefined"!==typeof window?window.crypto||window.msCrypto:void 0;if(void 0!==e){if(void 0!==e.randomBytes)return e.randomBytes;if(void 0!==e.getRandomValues)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return e=>{const t=[];for(let n=e;n>0;n--)t.push(Math.floor(256*Math.random()));return t}})(),z=4096;function B(){(void 0===O||M+16>z)&&(M=0,O=F(z));const e=Array.prototype.slice.call(O,M,M+=16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,D[e[0]]+D[e[1]]+D[e[2]]+D[e[3]]+"-"+D[e[4]]+D[e[5]]+"-"+D[e[6]]+D[e[7]]+"-"+D[e[8]]+D[e[9]]+"-"+D[e[10]]+D[e[11]]+D[e[12]]+D[e[13]]+D[e[14]]+D[e[15]]}var q=n(3251);const V=[!0,!1,"ondemand"],H={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>V.includes(e)}};function U(e,t){const{props:n,proxy:s}=(0,i.FN)(),o=(0,r.iH)(!1),a=(0,r.iH)(null),l=(0,r.iH)(null);h({validate:y,resetValidation:m});let c,u=0;const d=(0,i.Fl)((()=>void 0!==n.rules&&null!==n.rules&&n.rules.length>0)),f=(0,i.Fl)((()=>!0!==n.disable&&!0===d.value)),p=(0,i.Fl)((()=>!0===n.error||!0===o.value)),g=(0,i.Fl)((()=>"string"===typeof n.errorMessage&&n.errorMessage.length>0?n.errorMessage:a.value));function m(){u++,t.value=!1,l.value=null,o.value=!1,a.value=null,x.cancel()}function y(e=n.modelValue){if(!0!==f.value)return!0;const i=++u;!0!==t.value&&!0!==n.lazyRules&&(l.value=!0);const r=(e,n)=>{o.value!==e&&(o.value=e);const i=n||void 0;a.value!==i&&(a.value=i),t.value=!1},s=[];for(let t=0;t<n.rules.length;t++){const i=n.rules[t];let o;if("function"===typeof i?o=i(e):"string"===typeof i&&void 0!==v[i]&&(o=v[i](e)),!1===o||"string"===typeof o)return r(!0,o),!1;!0!==o&&void 0!==o&&s.push(o)}return 0===s.length?(r(!1),!0):(t.value=!0,Promise.all(s).then((e=>{if(void 0===e||!1===Array.isArray(e)||0===e.length)return i===u&&r(!1),!0;const t=e.find((e=>!1===e||"string"===typeof e));return i===u&&r(void 0!==t,t),void 0===t}),(e=>(i===u&&(console.error(e),r(!0)),!1))))}function b(e){!0===f.value&&"ondemand"!==n.lazyRules&&(!0===l.value||!0!==n.lazyRules&&!0!==e)&&x()}(0,i.YP)((()=>n.modelValue),(()=>{b()})),(0,i.YP)((()=>n.reactiveRules),(e=>{!0===e?void 0===c&&(c=(0,i.YP)((()=>n.rules),(()=>{b(!0)}))):void 0!==c&&(c(),c=void 0)}),{immediate:!0}),(0,i.YP)(e,(e=>{!0===e?null===l.value&&(l.value=!1):!1===l.value&&(l.value=!0,!0===f.value&&"ondemand"!==n.lazyRules&&!1===t.value&&x())}));const x=(0,N.Z)(y,0);return(0,i.Jd)((()=>{void 0!==c&&c(),x.cancel()})),Object.assign(s,{resetValidation:m,validate:y}),(0,q.g)(s,"hasError",(()=>p.value)),{isDirtyModel:l,hasRules:d,hasError:p,errorMessage:g,validate:y,resetValidation:m}}const j=/^on[A-Z]/;function Y(e,t){const n={listeners:(0,r.iH)({}),attributes:(0,r.iH)({})};function s(){const i={},r={};for(const t in e)"class"!==t&&"style"!==t&&!1===j.test(t)&&(i[t]=e[t]);for(const e in t.props)!0===j.test(e)&&(r[e]=t.props[e]);n.attributes.value=i,n.listeners.value=r}return(0,i.Xn)(s),s(),n}var W=n(7026);function X(e){return void 0===e?`f_${B()}`:e}function $(e){return void 0!==e&&null!==e&&(""+e).length>0}const G={...c.S,...H,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},K=["update:modelValue","clear","focus","blur","popup-show","popup-hide"];function Z(){const{props:e,attrs:t,proxy:n,vnode:s}=(0,i.FN)(),o=(0,c.Z)(e,n.$q);return{isDark:o,editable:(0,i.Fl)((()=>!0!==e.disable&&!0!==e.readonly)),innerLoading:(0,r.iH)(!1),focused:(0,r.iH)(!1),hasPopupOpen:!1,splitAttrs:Y(t,s),targetUid:(0,r.iH)(X(e.for)),rootRef:(0,r.iH)(null),targetRef:(0,r.iH)(null),controlRef:(0,r.iH)(null)}}function Q(e){const{props:t,emit:n,slots:r,attrs:c,proxy:u}=(0,i.FN)(),{$q:h}=u;let d;void 0===e.hasValue&&(e.hasValue=(0,i.Fl)((()=>$(t.modelValue)))),void 0===e.emitValue&&(e.emitValue=e=>{n("update:modelValue",e)}),void 0===e.controlEvents&&(e.controlEvents={onFocusin:L,onFocusout:N}),Object.assign(e,{clearValue:O,onControlFocusin:L,onControlFocusout:N,focus:P}),void 0===e.computedCounter&&(e.computedCounter=(0,i.Fl)((()=>{if(!1!==t.counter){const e="string"===typeof t.modelValue||"number"===typeof t.modelValue?(""+t.modelValue).length:!0===Array.isArray(t.modelValue)?t.modelValue.length:0,n=void 0!==t.maxlength?t.maxlength:t.maxValues;return e+(void 0!==n?" / "+n:"")}})));const{isDirtyModel:f,hasRules:p,hasError:g,errorMessage:m,resetValidation:v}=U(e.focused,e.innerLoading),y=void 0!==e.floatingLabel?(0,i.Fl)((()=>!0===t.stackLabel||!0===e.focused.value||!0===e.floatingLabel.value)):(0,i.Fl)((()=>!0===t.stackLabel||!0===e.focused.value||!0===e.hasValue.value)),b=(0,i.Fl)((()=>!0===t.bottomSlots||void 0!==t.hint||!0===p.value||!0===t.counter||null!==t.error)),x=(0,i.Fl)((()=>!0===t.filled?"filled":!0===t.outlined?"outlined":!0===t.borderless?"borderless":t.standout?"standout":"standard")),w=(0,i.Fl)((()=>`q-field row no-wrap items-start q-field--${x.value}`+(void 0!==e.fieldClass?` ${e.fieldClass.value}`:"")+(!0===t.rounded?" q-field--rounded":"")+(!0===t.square?" q-field--square":"")+(!0===y.value?" q-field--float":"")+(!0===k.value?" q-field--labeled":"")+(!0===t.dense?" q-field--dense":"")+(!0===t.itemAligned?" q-field--item-aligned q-item-type":"")+(!0===e.isDark.value?" q-field--dark":"")+(void 0===e.getControl?" q-field--auto-height":"")+(!0===e.focused.value?" q-field--focused":"")+(!0===g.value?" q-field--error":"")+(!0===g.value||!0===e.focused.value?" q-field--highlighted":"")+(!0!==t.hideBottomSpace&&!0===b.value?" q-field--with-bottom":"")+(!0===t.disable?" q-field--disabled":!0===t.readonly?" q-field--readonly":""))),S=(0,i.Fl)((()=>"q-field__control relative-position row no-wrap"+(void 0!==t.bgColor?` bg-${t.bgColor}`:"")+(!0===g.value?" text-negative":"string"===typeof t.standout&&t.standout.length>0&&!0===e.focused.value?` ${t.standout}`:void 0!==t.color?` text-${t.color}`:""))),k=(0,i.Fl)((()=>!0===t.labelSlot||void 0!==t.label)),C=(0,i.Fl)((()=>"q-field__label no-pointer-events absolute ellipsis"+(void 0!==t.labelColor&&!0!==g.value?` text-${t.labelColor}`:""))),A=(0,i.Fl)((()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:y.value,modelValue:t.modelValue,emitValue:e.emitValue}))),T=(0,i.Fl)((()=>{const n={for:e.targetUid.value};return!0===t.disable?n["aria-disabled"]="true":!0===t.readonly&&(n["aria-readonly"]="true"),n}));function I(){const t=document.activeElement;let n=void 0!==e.targetRef&&e.targetRef.value;!n||null!==t&&t.id===e.targetUid.value||(!0===n.hasAttribute("tabindex")||(n=n.querySelector("[tabindex]")),n&&n!==t&&n.focus({preventScroll:!0}))}function P(){(0,W.jd)(I)}function R(){(0,W.fP)(I);const t=document.activeElement;null!==t&&e.rootRef.value.contains(t)&&t.blur()}function L(t){clearTimeout(d),!0===e.editable.value&&!1===e.focused.value&&(e.focused.value=!0,n("focus",t))}function N(t,i){clearTimeout(d),d=setTimeout((()=>{(!0!==document.hasFocus()||!0!==e.hasPopupOpen&&void 0!==e.controlRef&&null!==e.controlRef.value&&!1===e.controlRef.value.contains(document.activeElement))&&(!0===e.focused.value&&(e.focused.value=!1,n("blur",t)),void 0!==i&&i())}))}function O(r){if((0,E.NS)(r),!0!==h.platform.is.mobile){const t=void 0!==e.targetRef&&e.targetRef.value||e.rootRef.value;t.focus()}else!0===e.rootRef.value.contains(document.activeElement)&&document.activeElement.blur();"file"===t.type&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),(0,i.Y3)((()=>{v(),!0!==h.platform.is.mobile&&(f.value=!1)}))}function M(){const n=[];return void 0!==r.prepend&&n.push((0,i.h)("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:E.X$},r.prepend())),n.push((0,i.h)("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},D())),!0===g.value&&!1===t.noErrorIcon&&n.push(z("error",[(0,i.h)(a.Z,{name:h.iconSet.field.error,color:"negative"})])),!0===t.loading||!0===e.innerLoading.value?n.push(z("inner-loading-append",void 0!==r.loading?r.loading():[(0,i.h)(l.Z,{color:t.color})])):!0===t.clearable&&!0===e.hasValue.value&&!0===e.editable.value&&n.push(z("inner-clearable-append",[(0,i.h)(a.Z,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||h.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:O})])),void 0!==r.append&&n.push((0,i.h)("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:E.X$},r.append())),void 0!==e.getInnerAppend&&n.push(z("inner-append",e.getInnerAppend())),void 0!==e.getControlChild&&n.push(e.getControlChild()),n}function D(){const n=[];return void 0!==t.prefix&&null!==t.prefix&&n.push((0,i.h)("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),void 0!==e.getShadowControl&&!0===e.hasShadow.value&&n.push(e.getShadowControl()),void 0!==e.getControl?n.push(e.getControl()):void 0!==r.rawControl?n.push(r.rawControl()):void 0!==r.control&&n.push((0,i.h)("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":!0===t.autofocus||void 0},r.control(A.value))),!0===k.value&&n.push((0,i.h)("div",{class:C.value},(0,_.KR)(r.label,t.label))),void 0!==t.suffix&&null!==t.suffix&&n.push((0,i.h)("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),n.concat((0,_.KR)(r.default))}function F(){let n,o;!0===g.value?null!==m.value?(n=[(0,i.h)("div",{role:"alert"},m.value)],o=`q--slot-error-${m.value}`):(n=(0,_.KR)(r.error),o="q--slot-error"):!0===t.hideHint&&!0!==e.focused.value||(void 0!==t.hint?(n=[(0,i.h)("div",t.hint)],o=`q--slot-hint-${t.hint}`):(n=(0,_.KR)(r.hint),o="q--slot-hint"));const a=!0===t.counter||void 0!==r.counter;if(!0===t.hideBottomSpace&&!1===a&&void 0===n)return;const l=(0,i.h)("div",{key:o,class:"q-field__messages col"},n);return(0,i.h)("div",{class:"q-field__bottom row items-start q-field__bottom--"+(!0!==t.hideBottomSpace?"animated":"stale")},[!0===t.hideBottomSpace?l:(0,i.h)(s.uT,{name:"q-transition--field-message"},(()=>l)),!0===a?(0,i.h)("div",{class:"q-field__counter"},void 0!==r.counter?r.counter():e.computedCounter.value):null])}function z(e,t){return null===t?null:(0,i.h)("div",{key:e,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},t)}(0,i.YP)((()=>t.for),(t=>{e.targetUid.value=X(t)})),Object.assign(u,{focus:P,blur:R});let B=!1;return(0,i.se)((()=>{B=!0})),(0,i.dl)((()=>{!0===B&&!0===t.autofocus&&u.focus()})),(0,i.bv)((()=>{!0===o.uX.value&&void 0===t.for&&(e.targetUid.value=X()),!0===t.autofocus&&u.focus()})),(0,i.Jd)((()=>{clearTimeout(d)})),function(){const n=void 0===e.getControl&&void 0===r.control?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus,...T.value}:T.value;return(0,i.h)("label",{ref:e.rootRef,class:[w.value,c.class],style:c.style,...n},[void 0!==r.before?(0,i.h)("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:E.X$},r.before()):null,(0,i.h)("div",{class:"q-field__inner relative-position col self-stretch"},[(0,i.h)("div",{ref:e.controlRef,class:S.value,tabindex:-1,...e.controlEvents},M()),!0===b.value?F():null]),void 0!==r.after?(0,i.h)("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:E.X$},r.after()):null])}}},7915:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(9835);function r(e,t){function n(){const t=e.modelValue;try{const e="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(t)===t&&("length"in t?Array.from(t):[t]).forEach((t=>{e.items.add(t)})),{files:e.files}}catch(n){return{files:void 0}}}return!0===t?(0,i.Fl)((()=>{if("file"===e.type)return n()})):(0,i.Fl)(n)}},1970:(e,t,n)=>{"use strict";n.d(t,{Pl:()=>c,TS:()=>l,ZP:()=>u});n(6727);var i=n(9835),r=n(499),s=n(1384);function o(e,t,n,i){const r=[];return e.forEach((e=>{!0===i(e)?r.push(e):t.push({failedPropValidation:n,file:e})})),r}function a(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),(0,s.NS)(e)}const l={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},c=["rejected"];function u({editable:e,dnd:t,getFileInput:n,addFilesToQueue:l}){const{props:c,emit:u,proxy:h}=(0,i.FN)(),d=(0,r.iH)(null),f=(0,i.Fl)((()=>void 0!==c.accept?c.accept.split(",").map((e=>(e=e.trim(),"*"===e?"*/":(e.endsWith("/*")&&(e=e.slice(0,e.length-1)),e.toUpperCase())))):null)),p=(0,i.Fl)((()=>parseInt(c.maxFiles,10))),g=(0,i.Fl)((()=>parseInt(c.maxTotalSize,10)));function m(t){if(e.value)if(t!==Object(t)&&(t={target:null}),null!==t.target&&!0===t.target.matches('input[type="file"]'))0===t.clientX&&0===t.clientY&&(0,s.sT)(t);else{const e=n();e&&e!==t.target&&e.click(t)}}function v(t){e.value&&t&&l(null,t)}function y(e,t,n,i){let r=Array.from(t||e.target.files);const s=[],a=()=>{s.length>0&&u("rejected",s)};if(void 0!==c.accept&&-1===f.value.indexOf("*/")&&(r=o(r,s,"accept",(e=>f.value.some((t=>e.type.toUpperCase().startsWith(t)||e.name.toUpperCase().endsWith(t))))),0===r.length))return a();if(void 0!==c.maxFileSize){const e=parseInt(c.maxFileSize,10);if(r=o(r,s,"max-file-size",(t=>t.size<=e)),0===r.length)return a()}!0!==c.multiple&&r.length>0&&(r=[r[0]]),r.forEach((e=>{e.__key=e.webkitRelativePath+e.lastModified+e.name+e.size}));const l=n.map((e=>e.__key));if(r=o(r,s,"duplicate",(e=>!1===l.includes(e.__key))),0===r.length)return a();if(void 0!==c.maxTotalSize){let e=!0===i?n.reduce(((e,t)=>e+t.size),0):0;if(r=o(r,s,"max-total-size",(t=>(e+=t.size,e<=g.value))),0===r.length)return a()}if("function"===typeof c.filter){const e=c.filter(r);r=o(r,s,"filter",(t=>e.includes(t)))}if(void 0!==c.maxFiles){let e=!0===i?n.length:0;if(r=o(r,s,"max-files",(()=>(e++,e<=p.value))),0===r.length)return a()}return a(),r.length>0?r:void 0}function b(e){a(e),!0!==t.value&&(t.value=!0)}function x(e){(0,s.NS)(e),e.relatedTarget!==d.value&&(t.value=!1)}function w(e){a(e);const n=e.dataTransfer.files;n.length>0&&l(null,n),t.value=!1}function _(e){if(!0===t.value)return(0,i.h)("div",{ref:d,class:`q-${e}__dnd absolute-full`,onDragenter:a,onDragover:a,onDragleave:x,onDrop:w})}return Object.assign(h,{pickFiles:m,addFiles:v}),{pickFiles:m,addFiles:v,onDragover:b,processFiles:y,getDndNode:_,maxFilesNumber:p,maxTotalSizeNumber:g}}},9256:(e,t,n)=>{"use strict";n.d(t,{Do:()=>a,Fz:()=>r,Vt:()=>s,eX:()=>o});var i=n(9835);const r={name:String};function s(e){return(0,i.Fl)((()=>({type:"hidden",name:e.name,value:e.modelValue})))}function o(e={}){return(t,n,r)=>{t[n]((0,i.h)("input",{class:"hidden"+(r||""),...e.value}))}}function a(e){return(0,i.Fl)((()=>e.name||e.for))}},4953:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(9835),r=n(5310);function s(e,t,n){let s;function o(){void 0!==s&&(r.Z.remove(s),s=void 0)}return(0,i.Jd)((()=>{!0===e.value&&o()})),{removeFromHistory:o,addToHistory(){s={condition:()=>!0===n.value,handler:t},r.Z.add(s)}}}},2802:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(7506);const r=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,s=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,o=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,a=/[a-z0-9_ -]$/i;function l(e){return function(t){if("compositionend"===t.type||"change"===t.type){if(!0!==t.target.qComposing)return;t.target.qComposing=!1,e(t)}else if("compositionupdate"===t.type){if(!0!==t.target.qComposing&&"string"===typeof t.data){const e=!0===i.Lp.is.firefox?!1===a.test(t.data):!0===r.test(t.data)&&!0===s.test(t.data)&&!0===o.test(t.data);!0===e&&(t.target.qComposing=!0)}}else t.target.qComposing=!0}}},3842:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>a,gH:()=>o,vr:()=>s});var i=n(9835),r=n(2046);const s={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},o=["before-show","show","before-hide","hide"];function a({showing:e,canShow:t,hideOnRouteChange:n,handleShow:s,handleHide:o,processOnMount:a}){const l=(0,i.FN)(),{props:c,emit:u,proxy:h}=l;let d;function f(t){!0===e.value?m(t):p(t)}function p(e){if(!0===c.disable||void 0!==e&&!0===e.qAnchorHandled||void 0!==t&&!0!==t(e))return;const n=void 0!==c["onUpdate:modelValue"];!0===n&&(u("update:modelValue",!0),d=e,(0,i.Y3)((()=>{d===e&&(d=void 0)}))),null!==c.modelValue&&!1!==n||g(e)}function g(t){!0!==e.value&&(e.value=!0,u("before-show",t),void 0!==s?s(t):u("show",t))}function m(e){if(!0===c.disable)return;const t=void 0!==c["onUpdate:modelValue"];!0===t&&(u("update:modelValue",!1),d=e,(0,i.Y3)((()=>{d===e&&(d=void 0)}))),null!==c.modelValue&&!1!==t||v(e)}function v(t){!1!==e.value&&(e.value=!1,u("before-hide",t),void 0!==o?o(t):u("hide",t))}function y(t){if(!0===c.disable&&!0===t)void 0!==c["onUpdate:modelValue"]&&u("update:modelValue",!1);else if(!0===t!==e.value){const e=!0===t?g:v;e(d)}}(0,i.YP)((()=>c.modelValue),y),void 0!==n&&!0===(0,r.Rb)(l)&&(0,i.YP)((()=>h.$route.fullPath),(()=>{!0===n.value&&!0===e.value&&m()})),!0===a&&(0,i.bv)((()=>{y(c.modelValue)}));const b={show:p,hide:m,toggle:f};return Object.assign(h,b),b}},6120:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>x,vZ:()=>m,K6:()=>b,t6:()=>y});var i=n(9835),r=n(499),s=n(1957),o=n(7506),a=n(5987),l=n(9367),c=n(1384),u=n(2589);function h(e){const t=[.06,6,50];return"string"===typeof e&&e.length&&e.split(":").forEach(((e,n)=>{const i=parseFloat(e);i&&(t[n]=i)})),t}const d=(0,a.f)({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:i}){if(!0!==i.mouse&&!0!==o.Lp.has.touch)return;const r=!0===i.mouseCapture?"Capture":"",s={handler:t,sensitivity:h(n),direction:(0,l.R)(i),noop:c.ZT,mouseStart(e){(0,l.n)(e,s)&&(0,c.du)(e)&&((0,c.M0)(s,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),s.start(e,!0))},touchStart(e){if((0,l.n)(e,s)){const t=e.target;(0,c.M0)(s,"temp",[[t,"touchmove","move","notPassiveCapture"],[t,"touchcancel","end","notPassiveCapture"],[t,"touchend","end","notPassiveCapture"]]),s.start(e)}},start(t,n){!0===o.Lp.is.firefox&&(0,c.Jf)(e,!0);const i=(0,c.FK)(t);s.event={x:i.left,y:i.top,time:Date.now(),mouse:!0===n,dir:!1}},move(e){if(void 0===s.event)return;if(!1!==s.event.dir)return void(0,c.NS)(e);const t=Date.now()-s.event.time;if(0===t)return;const n=(0,c.FK)(e),i=n.left-s.event.x,r=Math.abs(i),o=n.top-s.event.y,a=Math.abs(o);if(!0!==s.event.mouse){if(r<s.sensitivity[1]&&a<s.sensitivity[1])return void s.end(e)}else if(r<s.sensitivity[2]&&a<s.sensitivity[2])return;const l=r/t,h=a/t;!0===s.direction.vertical&&r<a&&r<100&&h>s.sensitivity[0]&&(s.event.dir=o<0?"up":"down"),!0===s.direction.horizontal&&r>a&&a<100&&l>s.sensitivity[0]&&(s.event.dir=i<0?"left":"right"),!0===s.direction.up&&r<a&&o<0&&r<100&&h>s.sensitivity[0]&&(s.event.dir="up"),!0===s.direction.down&&r<a&&o>0&&r<100&&h>s.sensitivity[0]&&(s.event.dir="down"),!0===s.direction.left&&r>a&&i<0&&a<100&&l>s.sensitivity[0]&&(s.event.dir="left"),!0===s.direction.right&&r>a&&i>0&&a<100&&l>s.sensitivity[0]&&(s.event.dir="right"),!1!==s.event.dir?((0,c.NS)(e),!0===s.event.mouse&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),(0,u.M)(),s.styleCleanup=e=>{s.styleCleanup=void 0,document.body.classList.remove("non-selectable");const t=()=>{document.body.classList.remove("no-pointer-events--children")};!0===e?setTimeout(t,50):t()}),s.handler({evt:e,touch:!0!==s.event.mouse,mouse:s.event.mouse,direction:s.event.dir,duration:t,distance:{x:r,y:a}})):s.end(e)},end(t){void 0!==s.event&&((0,c.ul)(s,"temp"),!0===o.Lp.is.firefox&&(0,c.Jf)(e,!1),void 0!==s.styleCleanup&&s.styleCleanup(!0),void 0!==t&&!1!==s.event.dir&&(0,c.NS)(t),s.event=void 0)}};e.__qtouchswipe=s,!0===i.mouse&&(0,c.M0)(s,"main",[[e,"mousedown","mouseStart",`passive${r}`]]),!0===o.Lp.has.touch&&(0,c.M0)(s,"main",[[e,"touchstart","touchStart","passive"+(!0===i.capture?"Capture":"")],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;void 0!==n&&(t.oldValue!==t.value&&("function"!==typeof t.value&&n.end(),n.handler=t.value),n.direction=(0,l.R)(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;void 0!==t&&((0,c.ul)(t,"main"),(0,c.ul)(t,"temp"),!0===o.Lp.is.firefox&&(0,c.Jf)(e,!1),void 0!==t.styleCleanup&&t.styleCleanup(),delete e.__qtouchswipe)}});n(702);function f(){const e=new Map;return{getCache:function(t,n){return void 0===e[t]?e[t]=n:e[t]},getCacheWithFn:function(t,n){return void 0===e[t]?e[t]=n():e[t]}}}var p=n(2026),g=n(2046);const m={name:{required:!0},disable:Boolean},v={setup(e,{slots:t}){return()=>(0,i.h)("div",{class:"q-panel scroll",role:"tabpanel"},(0,p.KR)(t.default))}},y={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},b=["update:modelValue","before-transition","transition"];function x(){const{props:e,emit:t,proxy:n}=(0,i.FN)(),{getCacheWithFn:o}=f();let a,l;const c=(0,r.iH)(null),u=(0,r.iH)(null);function h(t){const i=!0===e.vertical?"up":"left";R((!0===n.$q.lang.rtl?-1:1)*(t.direction===i?1:-1))}const m=(0,i.Fl)((()=>[[d,h,void 0,{horizontal:!0!==e.vertical,vertical:e.vertical,mouse:!0}]])),y=(0,i.Fl)((()=>e.transitionPrev||"slide-"+(!0===e.vertical?"down":"right"))),b=(0,i.Fl)((()=>e.transitionNext||"slide-"+(!0===e.vertical?"up":"left"))),x=(0,i.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`)),w=(0,i.Fl)((()=>"string"===typeof e.modelValue||"number"===typeof e.modelValue?e.modelValue:String(e.modelValue))),_=(0,i.Fl)((()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax}))),S=(0,i.Fl)((()=>void 0!==e.keepAliveInclude||void 0!==e.keepAliveExclude));function k(){R(1)}function C(){R(-1)}function A(e){t("update:modelValue",e)}function T(e){return void 0!==e&&null!==e&&""!==e}function I(e){return a.findIndex((t=>t.props.name===e&&""!==t.props.disable&&!0!==t.props.disable))}function E(){return a.filter((e=>""!==e.props.disable&&!0!==e.props.disable))}function P(t){const n=0!==t&&!0===e.animated&&-1!==c.value?"q-transition--"+(-1===t?y.value:b.value):null;u.value!==n&&(u.value=n)}function R(n,i=c.value){let r=i+n;while(r>-1&&r<a.length){const e=a[r];if(void 0!==e&&""!==e.props.disable&&!0!==e.props.disable)return P(n),l=!0,t("update:modelValue",e.props.name),void setTimeout((()=>{l=!1}));r+=n}!0===e.infinite&&a.length>0&&-1!==i&&i!==a.length&&R(n,-1===n?a.length:-1)}function L(){const t=I(e.modelValue);return c.value!==t&&(c.value=t),!0}function N(){const t=!0===T(e.modelValue)&&L()&&a[c.value];return!0===e.keepAlive?[(0,i.h)(i.Ob,_.value,[(0,i.h)(!0===S.value?o(w.value,(()=>({...v,name:w.value}))):v,{key:w.value,style:x.value},(()=>t))])]:[(0,i.h)("div",{class:"q-panel scroll",style:x.value,key:w.value,role:"tabpanel"},[t])]}function O(){if(0!==a.length)return!0===e.animated?[(0,i.h)(s.uT,{name:u.value},N)]:N()}function M(e){return a=(0,g.Pf)((0,p.KR)(e.default,[])).filter((e=>null!==e.props&&void 0===e.props.slot&&!0===T(e.props.name))),a.length}function D(){return a}return(0,i.YP)((()=>e.modelValue),((e,n)=>{const r=!0===T(e)?I(e):-1;!0!==l&&P(-1===r?0:r<I(n)?-1:1),c.value!==r&&(c.value=r,t("before-transition",e,n),(0,i.Y3)((()=>{t("transition",e,n)})))})),Object.assign(n,{next:k,previous:C,goTo:A}),{panelIndex:c,panelDirectives:m,updatePanelsList:M,updatePanelIndex:L,getPanelContent:O,getEnabledPanels:E,getPanels:D,isValidPanelName:T,keepAliveProps:_,needsUniqueKeepAliveWrapper:S,goToPanelByOffset:R,goToPanel:A,nextPanel:k,previousPanel:C}}},9754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var i=n(1384),r=n(3701),s=n(7506);let o,a,l,c,u,h,d=0,f=!1;function p(e){g(e)&&(0,i.NS)(e)}function g(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=(0,i.AZ)(e),n=e.shiftKey&&!e.deltaX,s=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),o=n||s?e.deltaY:e.deltaX;for(let i=0;i<t.length;i++){const e=t[i];if((0,r.QA)(e,s))return s?o<0&&0===e.scrollTop||o>0&&e.scrollTop+e.clientHeight===e.scrollHeight:o<0&&0===e.scrollLeft||o>0&&e.scrollLeft+e.clientWidth===e.scrollWidth}return!0}function m(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function v(e){!0!==f&&(f=!0,requestAnimationFrame((()=>{f=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:i}=document.scrollingElement;void 0!==l&&t===window.innerHeight||(l=n-t,document.scrollingElement.scrollTop=i),i>l&&(document.scrollingElement.scrollTop-=Math.ceil((i-l)/8))})))}function y(e){const t=document.body,n=void 0!==window.visualViewport;if("add"===e){const{overflowY:e,overflowX:l}=window.getComputedStyle(t);o=(0,r.OI)(window),a=(0,r.u3)(window),c=t.style.left,u=t.style.top,t.style.left=`-${o}px`,t.style.top=`-${a}px`,"hidden"!==l&&("scroll"===l||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),"hidden"!==e&&("scroll"===e||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,!0===s.Lp.is.ios&&(!0===n?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",v,i.rU.passiveCapture),window.visualViewport.addEventListener("scroll",v,i.rU.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",m,i.rU.passiveCapture))}!0===s.Lp.is.desktop&&!0===s.Lp.is.mac&&window[`${e}EventListener`]("wheel",p,i.rU.notPassive),"remove"===e&&(!0===s.Lp.is.ios&&(!0===n?(window.visualViewport.removeEventListener("resize",v,i.rU.passiveCapture),window.visualViewport.removeEventListener("scroll",v,i.rU.passiveCapture)):window.removeEventListener("scroll",m,i.rU.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=c,t.style.top=u,window.scrollTo(o,a),l=void 0)}function b(e){let t="add";if(!0===e){if(d++,void 0!==h)return clearTimeout(h),void(h=void 0);if(d>1)return}else{if(0===d)return;if(d--,d>0)return;if(t="remove",!0===s.Lp.is.ios&&!0===s.Lp.is.nativeMobile)return clearTimeout(h),void(h=setTimeout((()=>{y(t),h=void 0}),100))}y(t)}function x(){let e;return{preventBodyScroll(t){t===e||void 0===e&&!0!==t||(e=t,b(t))}}}},945:(e,t,n)=>{"use strict";n.d(t,{$:()=>d,Z:()=>f});n(8964);var i=n(9835),r=n(1384),s=n(2046);function o(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function a(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function l(e,t){for(const n in t){const i=t[n],r=e[n];if("string"===typeof i){if(i!==r)return!1}else if(!1===Array.isArray(r)||r.length!==i.length||i.some(((e,t)=>e!==r[t])))return!1}return!0}function c(e,t){return!0===Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function u(e,t){return!0===Array.isArray(e)?c(e,t):!0===Array.isArray(t)?c(t,e):e===t}function h(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!1===u(e[n],t[n]))return!1;return!0}const d={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function f(e){const t=(0,i.FN)(),{props:n,proxy:c}=t,u=(0,s.Rb)(t),d=(0,i.Fl)((()=>!0!==n.disable&&void 0!==n.href)),f=(0,i.Fl)((()=>!0===u&&!0!==n.disable&&!0!==d.value&&void 0!==n.to&&null!==n.to&&""!==n.to)),p=(0,i.Fl)((()=>{if(!0===f.value)try{return c.$router.resolve(n.to)}catch(e){}return null})),g=(0,i.Fl)((()=>null!==p.value)),m=(0,i.Fl)((()=>!0===d.value||!0===g.value)),v=(0,i.Fl)((()=>"a"===n.type||!0===m.value?"a":n.tag||e||"div")),y=(0,i.Fl)((()=>!0===d.value?{href:n.href,target:n.target}:!0===g.value?{href:p.value.href,target:n.target}:{})),b=(0,i.Fl)((()=>{if(!1===g.value)return null;const{matched:e}=p.value,{length:t}=e,n=e[t-1];if(void 0===n)return-1;const i=c.$route.matched;if(0===i.length)return-1;const r=i.findIndex(a.bind(null,n));if(r>-1)return r;const s=o(e[t-2]);return t>1&&o(n)===s&&i[i.length-1].path!==s?i.findIndex(a.bind(null,e[t-2])):r})),x=(0,i.Fl)((()=>!0===g.value&&b.value>-1&&l(c.$route.params,p.value.params))),w=(0,i.Fl)((()=>!0===x.value&&b.value===c.$route.matched.length-1&&h(c.$route.params,p.value.params))),_=(0,i.Fl)((()=>!0===g.value?!0===w.value?` ${n.exactActiveClass} ${n.activeClass}`:!0===n.exact?"":!0===x.value?` ${n.activeClass}`:"":""));function S(e){return!(!0===n.disable||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||!0!==e.__qNavigate&&!0===e.defaultPrevented||void 0!==e.button&&0!==e.button||"_blank"===n.target)&&((0,r.X$)(e),c.$router[!0===n.replace?"replace":"push"](n.to).catch((e=>e)))}return{hasRouterLink:g,hasHrefLink:d,hasLink:m,linkTag:v,linkRoute:p,linkIsActive:x,linkIsExactActive:w,linkClass:_,linkProps:y,navigateToRouterLink:S}}},244:(e,t,n)=>{"use strict";n.d(t,{LU:()=>s,Ok:()=>r,ZP:()=>o});var i=n(9835);const r={xs:18,sm:24,md:32,lg:38,xl:46},s={size:String};function o(e,t=r){return(0,i.Fl)((()=>void 0!==e.size?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null))}},6916:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(9835);function r(){let e;return(0,i.Jd)((()=>{e=void 0})),{registerTick(t){e=t,(0,i.Y3)((()=>{e===t&&(e(),e=void 0)}))},removeTick(){e=void 0}}}},2695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(9835);function r(){let e;return(0,i.Jd)((()=>{clearTimeout(e)})),{registerTimeout(t,n){clearTimeout(e),e=setTimeout(t,n)},removeTimeout(){clearTimeout(e)}}}},1136:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(6727);var i=n(5987),r=n(223),s=n(1384),o=n(1705);function a(e,t=250){let n,i=!1;return function(){return!1===i&&(i=!0,setTimeout((()=>{i=!1}),t),n=e.apply(this,arguments)),n}}function l(e,t,n,i){!0===n.modifiers.stop&&(0,s.sT)(e);const o=n.modifiers.color;let a=n.modifiers.center;a=!0===a||!0===i;const l=document.createElement("span"),c=document.createElement("span"),u=(0,s.FK)(e),{left:h,top:d,width:f,height:p}=t.getBoundingClientRect(),g=Math.sqrt(f*f+p*p),m=g/2,v=(f-g)/2+"px",y=a?v:u.left-h-m+"px",b=(p-g)/2+"px",x=a?b:u.top-d-m+"px";c.className="q-ripple__inner",(0,r.iv)(c,{height:`${g}px`,width:`${g}px`,transform:`translate3d(${y},${x},0) scale3d(.2,.2,1)`,opacity:0}),l.className="q-ripple"+(o?" text-"+o:""),l.setAttribute("dir","ltr"),l.appendChild(c),t.appendChild(l);const w=()=>{l.remove(),clearTimeout(_)};n.abort.push(w);let _=setTimeout((()=>{c.classList.add("q-ripple__inner--enter"),c.style.transform=`translate3d(${v},${b},0) scale3d(1,1,1)`,c.style.opacity=.2,_=setTimeout((()=>{c.classList.remove("q-ripple__inner--enter"),c.classList.add("q-ripple__inner--leave"),c.style.opacity=0,_=setTimeout((()=>{l.remove(),n.abort.splice(n.abort.indexOf(w),1)}),275)}),250)}),50)}function c(e,{modifiers:t,value:n,arg:i,instance:r}){const s=Object.assign({},r.$q.config.ripple,t,n);e.modifiers={early:!0===s.early,stop:!0===s.stop,center:!0===s.center,color:s.color||i,keyCodes:[].concat(s.keyCodes||13)}}const u=(0,i.f)({name:"ripple",beforeMount(e,t){const n={enabled:!1!==t.value,modifiers:{},abort:[],start(t){!0===n.enabled&&!0!==t.qSkipRipple&&(!0===n.modifiers.early?!0===["mousedown","touchstart"].includes(t.type):"click"===t.type)&&l(t,e,n,!0===t.qKeyEvent)},keystart:a((t=>{!0===n.enabled&&!0!==t.qSkipRipple&&!0===(0,o.So)(t,n.modifiers.keyCodes)&&t.type==="key"+(!0===n.modifiers.early?"down":"up")&&l(t,e,n,!0)}),300)};c(n,t),e.__qripple=n,(0,s.M0)(n,"main",[[e,"mousedown","start","passive"],[e,"touchstart","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const n=e.__qripple;n.enabled=!1!==t.value,!0===n.enabled&&Object(t.value)===t.value&&c(n,t)}},beforeUnmount(e){const t=e.__qripple;t.abort.forEach((e=>{e()})),(0,s.ul)(t,"main"),delete e._qripple}})},2873:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(7506),r=n(5987),s=n(9367),o=n(1384),a=n(2589);function l(e,t,n){const i=(0,o.FK)(e);let r,s=i.left-t.event.x,a=i.top-t.event.y,l=Math.abs(s),c=Math.abs(a);const u=t.direction;!0===u.horizontal&&!0!==u.vertical?r=s<0?"left":"right":!0!==u.horizontal&&!0===u.vertical?r=a<0?"up":"down":!0===u.up&&a<0?(r="up",l>c&&(!0===u.left&&s<0?r="left":!0===u.right&&s>0&&(r="right"))):!0===u.down&&a>0?(r="down",l>c&&(!0===u.left&&s<0?r="left":!0===u.right&&s>0&&(r="right"))):!0===u.left&&s<0?(r="left",l<c&&(!0===u.up&&a<0?r="up":!0===u.down&&a>0&&(r="down"))):!0===u.right&&s>0&&(r="right",l<c&&(!0===u.up&&a<0?r="up":!0===u.down&&a>0&&(r="down")));let h=!1;if(void 0===r&&!1===n){if(!0===t.event.isFirst||void 0===t.event.lastDir)return{};r=t.event.lastDir,h=!0,"left"===r||"right"===r?(i.left-=s,l=0,s=0):(i.top-=a,c=0,a=0)}return{synthetic:h,payload:{evt:e,touch:!0!==t.event.mouse,mouse:!0===t.event.mouse,position:i,direction:r,isFirst:t.event.isFirst,isFinal:!0===n,duration:Date.now()-t.event.time,distance:{x:l,y:c},offset:{x:s,y:a},delta:{x:i.left-t.event.lastX,y:i.top-t.event.lastY}}}}let c=0;const u=(0,r.f)({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(!0!==n.mouse&&!0!==i.Lp.has.touch)return;function r(e,t){!0===n.mouse&&!0===t?(0,o.NS)(e):(!0===n.stop&&(0,o.sT)(e),!0===n.prevent&&(0,o.X$)(e))}const u={uid:"qvtp_"+c++,handler:t,modifiers:n,direction:(0,s.R)(n),noop:o.ZT,mouseStart(e){(0,s.n)(e,u)&&(0,o.du)(e)&&((0,o.M0)(u,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),u.start(e,!0))},touchStart(e){if((0,s.n)(e,u)){const t=e.target;(0,o.M0)(u,"temp",[[t,"touchmove","move","notPassiveCapture"],[t,"touchcancel","end","passiveCapture"],[t,"touchend","end","passiveCapture"]]),u.start(e)}},start(t,r){if(!0===i.Lp.is.firefox&&(0,o.Jf)(e,!0),u.lastEvt=t,!0===r||!0===n.stop){if(!0!==u.direction.all&&(!0!==r||!0!==u.modifiers.mouseAllDir)){const e=t.type.indexOf("mouse")>-1?new MouseEvent(t.type,t):new TouchEvent(t.type,t);!0===t.defaultPrevented&&(0,o.X$)(e),!0===t.cancelBubble&&(0,o.sT)(e),Object.assign(e,{qKeyEvent:t.qKeyEvent,qClickOutside:t.qClickOutside,qAnchorHandled:t.qAnchorHandled,qClonedBy:void 0===t.qClonedBy?[u.uid]:t.qClonedBy.concat(u.uid)}),u.initialEvent={target:t.target,event:e}}(0,o.sT)(t)}const{left:s,top:a}=(0,o.FK)(t);u.event={x:s,y:a,time:Date.now(),mouse:!0===r,detected:!1,isFirst:!0,isFinal:!1,lastX:s,lastY:a}},move(e){if(void 0===u.event)return;const t=(0,o.FK)(e),i=t.left-u.event.x,s=t.top-u.event.y;if(0===i&&0===s)return;u.lastEvt=e;const c=!0===u.event.mouse,h=()=>{r(e,c),!0!==n.preserveCursor&&(document.documentElement.style.cursor="grabbing"),!0===c&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),(0,a.M)(),u.styleCleanup=e=>{if(u.styleCleanup=void 0,!0!==n.preserveCursor&&(document.documentElement.style.cursor=""),document.body.classList.remove("non-selectable"),!0===c){const t=()=>{document.body.classList.remove("no-pointer-events--children")};void 0!==e?setTimeout((()=>{t(),e()}),50):t()}else void 0!==e&&e()}};if(!0===u.event.detected){!0!==u.event.isFirst&&r(e,u.event.mouse);const{payload:t,synthetic:n}=l(e,u,!1);return void(void 0!==t&&(!1===u.handler(t)?u.end(e):(void 0===u.styleCleanup&&!0===u.event.isFirst&&h(),u.event.lastX=t.position.left,u.event.lastY=t.position.top,u.event.lastDir=!0===n?void 0:t.direction,u.event.isFirst=!1)))}if(!0===u.direction.all||!0===c&&!0===u.modifiers.mouseAllDir)return h(),u.event.detected=!0,void u.move(e);const d=Math.abs(i),f=Math.abs(s);d!==f&&(!0===u.direction.horizontal&&d>f||!0===u.direction.vertical&&d<f||!0===u.direction.up&&d<f&&s<0||!0===u.direction.down&&d<f&&s>0||!0===u.direction.left&&d>f&&i<0||!0===u.direction.right&&d>f&&i>0?(u.event.detected=!0,u.move(e)):u.end(e,!0))},end(t,n){if(void 0!==u.event){if((0,o.ul)(u,"temp"),!0===i.Lp.is.firefox&&(0,o.Jf)(e,!1),!0===n)void 0!==u.styleCleanup&&u.styleCleanup(),!0!==u.event.detected&&void 0!==u.initialEvent&&u.initialEvent.target.dispatchEvent(u.initialEvent.event);else if(!0===u.event.detected){!0===u.event.isFirst&&u.handler(l(void 0===t?u.lastEvt:t,u).payload);const{payload:e}=l(void 0===t?u.lastEvt:t,u,!0),n=()=>{u.handler(e)};void 0!==u.styleCleanup?u.styleCleanup(n):n()}u.event=void 0,u.initialEvent=void 0,u.lastEvt=void 0}}};e.__qtouchpan=u,!0===n.mouse&&(0,o.M0)(u,"main",[[e,"mousedown","mouseStart","passive"+(!0===n.mouseCapture?"Capture":"")]]),!0===i.Lp.has.touch&&(0,o.M0)(u,"main",[[e,"touchstart","touchStart","passive"+(!0===n.capture?"Capture":"")],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;void 0!==n&&(t.oldValue!==t.value&&("function"!==typeof value&&n.end(),n.handler=t.value),n.direction=(0,s.R)(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;void 0!==t&&(void 0!==t.event&&t.end(),(0,o.ul)(t,"main"),(0,o.ul)(t,"temp"),!0===i.Lp.is.firefox&&(0,o.Jf)(e,!1),void 0!==t.styleCleanup&&t.styleCleanup(),delete e.__qtouchpan)}})},5310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});n(702),n(6727);var i=n(7506),r=n(1384);const s=()=>!0;function o(e){return"string"===typeof e&&""!==e&&"/"!==e&&"#/"!==e}function a(e){return!0===e.startsWith("#")&&(e=e.substring(1)),!1===e.startsWith("/")&&(e="/"+e),!0===e.endsWith("/")&&(e=e.substring(0,e.length-1)),"#"+e}function l(e){if(!1===e.backButtonExit)return()=>!1;if("*"===e.backButtonExit)return s;const t=["#/"];return!0===Array.isArray(e.backButtonExit)&&t.push(...e.backButtonExit.filter(o).map(a)),()=>t.includes(window.location.hash)}const c={__history:[],add:r.ZT,remove:r.ZT,install({$q:e}){if(!0===this.__installed)return;const{cordova:t,capacitor:n}=i.Lp.is;if(!0!==t&&!0!==n)return;const r=e.config[!0===t?"cordova":"capacitor"];if(void 0!==r&&!1===r.backButton)return;if(!0===n&&(void 0===window.Capacitor||void 0===window.Capacitor.Plugins.App))return;this.add=e=>{void 0===e.condition&&(e.condition=s),this.__history.push(e)},this.remove=e=>{const t=this.__history.indexOf(e);t>=0&&this.__history.splice(t,1)};const o=l(Object.assign({backButtonExit:!0},r)),a=()=>{if(this.__history.length){const e=this.__history[this.__history.length-1];!0===e.condition()&&(this.__history.pop(),e.handler())}else!0===o()?navigator.app.exitApp():window.history.back()};!0===t?document.addEventListener("deviceready",(()=>{document.addEventListener("backbutton",a,!1)})):window.Capacitor.Plugins.App.addListener("backButton",a)}}},3558:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,F:()=>r});n(8964);var i=n(4124);const r={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>1===e?"1 record selected.":(0===e?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,n)=>e+"-"+t+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function s(){const e=!0===Array.isArray(navigator.languages)&&navigator.languages.length>0?navigator.languages[0]:navigator.language;if("string"===typeof e)return e.split(/[-_]/).map(((e,t)=>0===t?e.toLowerCase():t>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase())).join("-")}const o=(0,i.Z)({__langPack:{}},{getLocale:s,set(e=r,t){const n={...e,rtl:!0===e.rtl,getLocale:s};{const e=document.documentElement;e.setAttribute("dir",!0===n.rtl?"rtl":"ltr"),e.setAttribute("lang",n.isoName),n.set=o.set,Object.assign(o.__langPack,n),o.props=n,o.isoName=n.isoName,o.nativeName=n.nativeName}},install({$q:e,lang:t,ssrContext:n}){e.lang=o.__langPack,!0===this.__installed?void 0!==t&&this.set(t):this.set(t||r)}}),a=o},7506:(e,t,n)=>{"use strict";n.d(t,{Lp:()=>g,ZP:()=>v,aG:()=>o,uX:()=>s});var i=n(499),r=n(3251);const s=(0,i.iH)(!1);let o,a=!1;function l(e,t){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[2]||n[4]||"0",versionNumber:n[4]||n[2]||"0",platform:t[0]||""}}function c(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const u="ontouchstart"in window||window.navigator.maxTouchPoints>0;function h(e){o={is:{...e}},delete e.mac,delete e.desktop;const t=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(e,{mobile:!0,ios:!0,platform:t,[t]:!0})}function d(e){const t=e.toLowerCase(),n=c(t),i=l(t,n),r={};i.browser&&(r[i.browser]=!0,r.version=i.version,r.versionNumber=parseInt(i.versionNumber,10)),i.platform&&(r[i.platform]=!0);const s=r.android||r.ios||r.bb||r.blackberry||r.ipad||r.iphone||r.ipod||r.kindle||r.playbook||r.silk||r["windows phone"];return!0===s||t.indexOf("mobile")>-1?(r.mobile=!0,r.edga||r.edgios?(r.edge=!0,i.browser="edge"):r.crios?(r.chrome=!0,i.browser="chrome"):r.fxios&&(r.firefox=!0,i.browser="firefox")):r.desktop=!0,(r.ipod||r.ipad||r.iphone)&&(r.ios=!0),r["windows phone"]&&(r.winphone=!0,delete r["windows phone"]),(r.chrome||r.opr||r.safari||r.vivaldi||!0===r.mobile&&!0!==r.ios&&!0!==s)&&(r.webkit=!0),r.edg&&(i.browser="edgechromium",r.edgeChromium=!0),(r.safari&&r.blackberry||r.bb)&&(i.browser="blackberry",r.blackberry=!0),r.safari&&r.playbook&&(i.browser="playbook",r.playbook=!0),r.opr&&(i.browser="opera",r.opera=!0),r.safari&&r.android&&(i.browser="android",r.android=!0),r.safari&&r.kindle&&(i.browser="kindle",r.kindle=!0),r.safari&&r.silk&&(i.browser="silk",r.silk=!0),r.vivaldi&&(i.browser="vivaldi",r.vivaldi=!0),r.name=i.browser,r.platform=i.platform,t.indexOf("electron")>-1?r.electron=!0:document.location.href.indexOf("-extension://")>-1?r.bex=!0:(void 0!==window.Capacitor?(r.capacitor=!0,r.nativeMobile=!0,r.nativeMobileWrapper="capacitor"):void 0===window._cordovaNative&&void 0===window.cordova||(r.cordova=!0,r.nativeMobile=!0,r.nativeMobileWrapper="cordova"),!0===u&&!0===r.mac&&(!0===r.desktop&&!0===r.safari||!0===r.nativeMobile&&!0!==r.android&&!0!==r.ios&&!0!==r.ipad)&&h(r)),r}const f=navigator.userAgent||navigator.vendor||window.opera,p={has:{touch:!1,webStorage:!1},within:{iframe:!1}},g={userAgent:f,is:d(f),has:{touch:u},within:{iframe:window.self!==window.top}},m={install(e){const{$q:t}=e;!0===s.value?(e.onSSRHydrated.push((()=>{s.value=!1,Object.assign(t.platform,g),o=void 0})),t.platform=(0,i.qj)(this)):t.platform=this}};{let e;(0,r.g)(g.has,"webStorage",(()=>{if(void 0!==e)return e;try{if(window.localStorage)return e=!0,!0}catch(t){}return e=!1,!1})),a=!0===g.is.ios&&-1===window.navigator.vendor.toLowerCase().indexOf("apple"),!0===s.value?Object.assign(m,g,o,p):Object.assign(m,g)}const v=m},4376:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>J});n(8964),n(6822);var i=n(6254),r=n(321);const s=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function o(e){return 0===l(e)}function a(e,t){return t<=6?31:t<=11||o(e)?30:29}function l(e){const t=s.length;let n,i,r,o,a,l=s[0];if(e<l||e>=s[t-1])throw new Error("Invalid Jalaali year "+e);for(a=1;a<t;a+=1){if(n=s[a],i=n-l,e<n)break;l=n}return o=e-l,i-o<6&&(o=o-i+33*c(i+4,33)),r=u(u(o+1,33)-1,4),-1===r&&(r=4),r}function c(e,t){return~~(e/t)}function u(e,t){return e-~~(e/t)*t}var h=n(3558);const d=864e5,f=36e5,p=6e4,g="YYYY-MM-DDTHH:mm:ss.SSSZ",m=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,v=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,y={};function b(e,t){const n="("+t.days.join("|")+")",i=e+n;if(void 0!==y[i])return y[i];const r="("+t.daysShort.join("|")+")",s="("+t.months.join("|")+")",o="("+t.monthsShort.join("|")+")",a={};let l=0;const c=e.replace(v,(e=>{switch(l++,e){case"YY":return a.YY=l,"(-?\\d{1,2})";case"YYYY":return a.YYYY=l,"(-?\\d{1,4})";case"M":return a.M=l,"(\\d{1,2})";case"MM":return a.M=l,"(\\d{2})";case"MMM":return a.MMM=l,o;case"MMMM":return a.MMMM=l,s;case"D":return a.D=l,"(\\d{1,2})";case"Do":return a.D=l++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return a.D=l,"(\\d{2})";case"H":return a.H=l,"(\\d{1,2})";case"HH":return a.H=l,"(\\d{2})";case"h":return a.h=l,"(\\d{1,2})";case"hh":return a.h=l,"(\\d{2})";case"m":return a.m=l,"(\\d{1,2})";case"mm":return a.m=l,"(\\d{2})";case"s":return a.s=l,"(\\d{1,2})";case"ss":return a.s=l,"(\\d{2})";case"S":return a.S=l,"(\\d{1})";case"SS":return a.S=l,"(\\d{2})";case"SSS":return a.S=l,"(\\d{3})";case"A":return a.A=l,"(AM|PM)";case"a":return a.a=l,"(am|pm)";case"aa":return a.aa=l,"(a\\.m\\.|p\\.m\\.)";case"ddd":return r;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return a.Z=l,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return a.ZZ=l,"(Z|[+-]\\d{2}\\d{2})";case"X":return a.X=l,"(-?\\d+)";case"x":return a.x=l,"(-?\\d{4,})";default:return l--,"["===e[0]&&(e=e.substring(1,e.length-1)),e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}})),u={map:a,regex:new RegExp("^"+c)};return y[i]=u,u}function x(e,t){return void 0!==e?e:void 0!==t?t.date:h.F.date}function w(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Math.floor(i/60),o=i%60;return n+(0,r.vk)(s)+t+(0,r.vk)(o)}function _(e,t,n){let i=e.getFullYear(),r=e.getMonth();const s=e.getDate();return void 0!==t.year&&(i+=n*t.year,delete t.year),void 0!==t.month&&(r+=n*t.month,delete t.month),e.setDate(1),e.setMonth(2),e.setFullYear(i),e.setMonth(r),e.setDate(Math.min(s,$(e))),void 0!==t.date&&(e.setDate(e.getDate()+n*t.date),delete t.date),e}function S(e,t,n){const i=void 0!==t.year?t.year:e[`get${n}FullYear`](),r=void 0!==t.month?t.month-1:e[`get${n}Month`](),s=new Date(i,r+1,0).getDate(),o=Math.min(s,void 0!==t.date?t.date:e[`get${n}Date`]());return e[`set${n}Date`](1),e[`set${n}Month`](2),e[`set${n}FullYear`](i),e[`set${n}Month`](r),e[`set${n}Date`](o),delete t.year,delete t.month,delete t.date,e}function k(e,t,n){const i=C(t),s=new Date(e),o=void 0!==i.year||void 0!==i.month||void 0!==i.date?_(s,i,n):s;for(const a in i){const e=(0,r.kC)(a);o[`set${e}`](o[`get${e}`]()+n*i[a])}return o}function C(e){const t={...e};return void 0!==e.years&&(t.year=e.years,delete t.years),void 0!==e.months&&(t.month=e.months,delete t.months),void 0!==e.days&&(t.date=e.days,delete t.days),void 0!==e.day&&(t.date=e.day,delete t.day),void 0!==e.hour&&(t.hours=e.hour,delete t.hour),void 0!==e.minute&&(t.minutes=e.minute,delete t.minute),void 0!==e.second&&(t.seconds=e.second,delete t.second),void 0!==e.millisecond&&(t.milliseconds=e.millisecond,delete t.millisecond),t}function A(e,t,n){const i=C(t),r=!0===n?"UTC":"",s=new Date(e),o=void 0!==i.year||void 0!==i.month||void 0!==i.date?S(s,i,r):s;for(const a in i){const e=a.charAt(0).toUpperCase()+a.slice(1);o[`set${r}${e}`](i[a])}return o}function T(e,t,n){const i=I(e,t,n),r=new Date(i.year,null===i.month?null:i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond),s=r.getTimezoneOffset();return null===i.timezoneOffset||i.timezoneOffset===s?r:k(r,{minutes:i.timezoneOffset-s},1)}function I(e,t,n,i,s){const o={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(void 0!==s&&Object.assign(o,s),void 0===e||null===e||""===e||"string"!==typeof e)return o;void 0===t&&(t=g);const l=x(n,h.Z.props),c=l.months,u=l.monthsShort,{regex:d,map:f}=b(t,l),p=e.match(d);if(null===p)return o;let m="";if(void 0!==f.X||void 0!==f.x){const e=parseInt(p[void 0!==f.X?f.X:f.x],10);if(!0===isNaN(e)||e<0)return o;const t=new Date(e*(void 0!==f.X?1e3:1));o.year=t.getFullYear(),o.month=t.getMonth()+1,o.day=t.getDate(),o.hour=t.getHours(),o.minute=t.getMinutes(),o.second=t.getSeconds(),o.millisecond=t.getMilliseconds()}else{if(void 0!==f.YYYY)o.year=parseInt(p[f.YYYY],10);else if(void 0!==f.YY){const e=parseInt(p[f.YY],10);o.year=e<0?e:2e3+e}if(void 0!==f.M){if(o.month=parseInt(p[f.M],10),o.month<1||o.month>12)return o}else void 0!==f.MMM?o.month=u.indexOf(p[f.MMM])+1:void 0!==f.MMMM&&(o.month=c.indexOf(p[f.MMMM])+1);if(void 0!==f.D){if(o.day=parseInt(p[f.D],10),null===o.year||null===o.month||o.day<1)return o;const e="persian"!==i?new Date(o.year,o.month,0).getDate():a(o.year,o.month);if(o.day>e)return o}void 0!==f.H?o.hour=parseInt(p[f.H],10)%24:void 0!==f.h&&(o.hour=parseInt(p[f.h],10)%12,(f.A&&"PM"===p[f.A]||f.a&&"pm"===p[f.a]||f.aa&&"p.m."===p[f.aa])&&(o.hour+=12),o.hour=o.hour%24),void 0!==f.m&&(o.minute=parseInt(p[f.m],10)%60),void 0!==f.s&&(o.second=parseInt(p[f.s],10)%60),void 0!==f.S&&(o.millisecond=parseInt(p[f.S],10)*10**(3-p[f.S].length)),void 0===f.Z&&void 0===f.ZZ||(m=void 0!==f.Z?p[f.Z].replace(":",""):p[f.ZZ],o.timezoneOffset=("+"===m[0]?-1:1)*(60*m.slice(1,3)+1*m.slice(3,5)))}return o.dateHash=(0,r.vk)(o.year,6)+"/"+(0,r.vk)(o.month)+"/"+(0,r.vk)(o.day),o.timeHash=(0,r.vk)(o.hour)+":"+(0,r.vk)(o.minute)+":"+(0,r.vk)(o.second)+m,o}function E(e){return"number"===typeof e||!1===isNaN(Date.parse(e))}function P(e,t){return A(new Date,e,t)}function R(e){const t=new Date(e).getDay();return 0===t?7:t}function L(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const i=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-i);const r=(t-n)/(7*d);return 1+Math.floor(r)}function N(e){return 1e4*e.getFullYear()+100*e.getMonth()+e.getDate()}function O(e,t){const n=new Date(e);return!0===t?N(n):n.getTime()}function M(e,t,n,i={}){const r=O(t,i.onlyDate),s=O(n,i.onlyDate),o=O(e,i.onlyDate);return(o>r||!0===i.inclusiveFrom&&o===r)&&(o<s||!0===i.inclusiveTo&&o===s)}function D(e,t){return k(e,t,1)}function F(e,t){return k(e,t,-1)}function z(e,t,n){const i=new Date(e),r="set"+(!0===n?"UTC":"");switch(t){case"year":case"years":i[`${r}Month`](0);case"month":case"months":i[`${r}Date`](1);case"day":case"days":case"date":i[`${r}Hours`](0);case"hour":case"hours":i[`${r}Minutes`](0);case"minute":case"minutes":i[`${r}Seconds`](0);case"second":case"seconds":i[`${r}Milliseconds`](0)}return i}function B(e,t,n){const i=new Date(e),r="set"+(!0===n?"UTC":"");switch(t){case"year":case"years":i[`${r}Month`](11);case"month":case"months":i[`${r}Date`]($(i));case"day":case"days":case"date":i[`${r}Hours`](23);case"hour":case"hours":i[`${r}Minutes`](59);case"minute":case"minutes":i[`${r}Seconds`](59);case"second":case"seconds":i[`${r}Milliseconds`](999)}return i}function q(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach((e=>{t=Math.max(t,new Date(e))})),t}function V(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach((e=>{t=Math.min(t,new Date(e))})),t}function H(e,t,n){return(e.getTime()-e.getTimezoneOffset()*p-(t.getTime()-t.getTimezoneOffset()*p))/n}function U(e,t,n="days"){const i=new Date(e),r=new Date(t);switch(n){case"years":case"year":return i.getFullYear()-r.getFullYear();case"months":case"month":return 12*(i.getFullYear()-r.getFullYear())+i.getMonth()-r.getMonth();case"days":case"day":case"date":return H(z(i,"day"),z(r,"day"),d);case"hours":case"hour":return H(z(i,"hour"),z(r,"hour"),f);case"minutes":case"minute":return H(z(i,"minute"),z(r,"minute"),p);case"seconds":case"second":return H(z(i,"second"),z(r,"second"),1e3)}}function j(e){return U(e,z(e,"year"),"days")+1}function Y(e){return!0===(0,i.J_)(e)?"date":"number"===typeof e?"number":"string"}function W(e,t,n){const i=new Date(e);if(t){const e=new Date(t);if(i<e)return e}if(n){const e=new Date(n);if(i>e)return e}return i}function X(e,t,n){const i=new Date(e),r=new Date(t);if(void 0===n)return i.getTime()===r.getTime();switch(n){case"second":case"seconds":if(i.getSeconds()!==r.getSeconds())return!1;case"minute":case"minutes":if(i.getMinutes()!==r.getMinutes())return!1;case"hour":case"hours":if(i.getHours()!==r.getHours())return!1;case"day":case"days":case"date":if(i.getDate()!==r.getDate())return!1;case"month":case"months":if(i.getMonth()!==r.getMonth())return!1;case"year":case"years":if(i.getFullYear()!==r.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${n}`)}return!0}function $(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function G(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const K={YY(e,t,n){const i=this.YYYY(e,t,n)%100;return i>0?(0,r.vk)(i):"-"+(0,r.vk)(Math.abs(i))},YYYY(e,t,n){return void 0!==n&&null!==n?n:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return(0,r.vk)(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return G(this.Q(e))},D(e){return e.getDate()},Do(e){return G(e.getDate())},DD(e){return(0,r.vk)(e.getDate())},DDD(e){return j(e)},DDDD(e){return(0,r.vk)(j(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return L(e)},ww(e){return(0,r.vk)(L(e))},H(e){return e.getHours()},HH(e){return(0,r.vk)(e.getHours())},h(e){const t=e.getHours();return 0===t?12:t>12?t%12:t},hh(e){return(0,r.vk)(this.h(e))},m(e){return e.getMinutes()},mm(e){return(0,r.vk)(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return(0,r.vk)(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return(0,r.vk)(Math.floor(e.getMilliseconds()/10))},SSS(e){return(0,r.vk)(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,n,i){const r=void 0===i||null===i?e.getTimezoneOffset():i;return w(r,":")},ZZ(e,t,n,i){const r=void 0===i||null===i?e.getTimezoneOffset():i;return w(r)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Z(e,t,n,i,r){if(0!==e&&!e||e===1/0||e===-1/0)return;const s=new Date(e);if(isNaN(s))return;void 0===t&&(t=g);const o=x(n,h.Z.props);return t.replace(m,((e,t)=>e in K?K[e](s,o,i,r):void 0===t?e:t.split("\\]").join("]")))}function Q(e){return!0===(0,i.J_)(e)?new Date(e.getTime()):e}const J={isValid:E,extractDate:T,buildDate:P,getDayOfWeek:R,getWeekOfYear:L,isBetweenDates:M,addToDate:D,subtractFromDate:F,adjustDate:A,startOfDate:z,endOfDate:B,getMaxDate:q,getMinDate:V,getDateDiff:U,getDayOfYear:j,inferDateFormat:Y,getDateBetween:W,isSameDate:X,daysInMonth:$,formatDate:Z,clone:Q}},899:(e,t,n)=>{"use strict";function i(e,t=250,n){let i;function r(){const r=arguments,s=()=>{i=void 0,!0!==n&&e.apply(this,r)};clearTimeout(i),!0===n&&void 0===i&&e.apply(this,r),i=setTimeout(s,t)}return r.cancel=()=>{clearTimeout(i)},r}n.d(t,{Z:()=>i})},223:(e,t,n)=>{"use strict";n.d(t,{iv:()=>r,mY:()=>o,sb:()=>s});var i=n(499);function r(e,t){const n=e.style;for(const i in t)n[i]=t[i]}function s(e){if(void 0===e||null===e)return;if("string"===typeof e)try{return document.querySelector(e)||void 0}catch(n){return}const t=!0===(0,i.dq)(e)?e.value:e;return t?t.$el||t:void 0}function o(e,t){if(void 0===e||null===e||!0===e.contains(t))return!0;for(let n=e.nextElementSibling;null!==n;n=n.nextElementSibling)if(n.contains(t))return!0;return!1}},1384:(e,t,n)=>{"use strict";n.d(t,{AZ:()=>a,FK:()=>o,Jf:()=>h,M0:()=>d,NS:()=>u,X$:()=>c,ZT:()=>r,du:()=>s,rU:()=>i,sT:()=>l,ul:()=>f});n(702);const i={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(i,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch(p){}function r(){}function s(e){return 0===e.button}function o(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function a(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let n=e.target;while(n){if(t.push(n),"HTML"===n.tagName)return t.push(document),t.push(window),t;n=n.parentElement}}function l(e){e.stopPropagation()}function c(e){!1!==e.cancelable&&e.preventDefault()}function u(e){!1!==e.cancelable&&e.preventDefault(),e.stopPropagation()}function h(e,t){if(void 0===e||!0===t&&!0===e.__dragPrevented)return;const n=!0===t?e=>{e.__dragPrevented=!0,e.addEventListener("dragstart",c,i.notPassiveCapture)}:e=>{delete e.__dragPrevented,e.removeEventListener("dragstart",c,i.notPassiveCapture)};e.querySelectorAll("a, img").forEach(n)}function d(e,t,n){const r=`__q_${t}_evt`;e[r]=void 0!==e[r]?e[r].concat(n):n,n.forEach((t=>{t[0].addEventListener(t[1],e[t[2]],i[t[3]])}))}function f(e,t){const n=`__q_${t}_evt`;void 0!==e[n]&&(e[n].forEach((t=>{t[0].removeEventListener(t[1],e[t[2]],i[t[3]])})),e[n]=void 0)}},321:(e,t,n)=>{"use strict";n.d(t,{Uz:()=>a,kC:()=>s,rB:()=>r,vX:()=>o,vk:()=>l});const i=["B","KB","MB","GB","TB","PB"];function r(e){let t=0;while(parseInt(e,10)>=1024&&t<i.length-1)e/=1024,++t;return`${e.toFixed(1)}${i[t]}`}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function a(e,t,n){if(n<=t)return t;const i=n-t+1;let r=t+(e-t)%i;return r<t&&(r=i+r),0===r?0:r}function l(e,t=2,n="0"){if(void 0===e||null===e)return e;const i=""+e;return i.length>=t?i:new Array(t-i.length+1).join(n)+i}},5987:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,f:()=>o});var i=n(499),r=n(9835);const s=e=>(0,i.Xl)((0,r.aZ)(e)),o=e=>(0,i.Xl)(e)},4124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(499),r=n(3251);const s=(e,t)=>{const n=(0,i.qj)(e);for(const i in e)(0,r.g)(t,i,(()=>n[i]),(e=>{n[i]=e}));return t}},7026:(e,t,n)=>{"use strict";n.d(t,{YX:()=>o,fP:()=>c,jd:()=>l,xF:()=>a});let i=[],r=[];function s(e){r=r.filter((t=>t!==e))}function o(e){s(e),r.push(e)}function a(e){s(e),0===r.length&&i.length>0&&(i[i.length-1](),i=[])}function l(e){0===r.length?e():i.push(e)}function c(e){i=i.filter((t=>t!==e))}},7495:(e,t,n)=>{"use strict";n.d(t,{Uf:()=>r,tP:()=>s,w6:()=>i});const i={};let r=!1;function s(){r=!0}},3251:(e,t,n)=>{"use strict";function i(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0})}n.d(t,{g:()=>i})},6254:(e,t,n)=>{"use strict";n.d(t,{J_:()=>l,Kn:()=>a,hj:()=>c,xb:()=>o});n(702);const i="function"===typeof Map,r="function"===typeof Set,s="function"===typeof ArrayBuffer;function o(e,t){if(e===t)return!0;if(null!==e&&null!==t&&"object"===typeof e&&"object"===typeof t){if(e.constructor!==t.constructor)return!1;let n,a;if(e.constructor===Array){if(n=e.length,n!==t.length)return!1;for(a=n;0!==a--;)if(!0!==o(e[a],t[a]))return!1;return!0}if(!0===i&&e.constructor===Map){if(e.size!==t.size)return!1;a=e.entries().next();while(!0!==a.done){if(!0!==t.has(a.value[0]))return!1;a=a.next()}a=e.entries().next();while(!0!==a.done){if(!0!==o(a.value[1],t.get(a.value[0])))return!1;a=a.next()}return!0}if(!0===r&&e.constructor===Set){if(e.size!==t.size)return!1;a=e.entries().next();while(!0!==a.done){if(!0!==t.has(a.value[0]))return!1;a=a.next()}return!0}if(!0===s&&null!=e.buffer&&e.buffer.constructor===ArrayBuffer){if(n=e.length,n!==t.length)return!1;for(a=n;0!==a--;)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const l=Object.keys(e).filter((t=>void 0!==e[t]));if(n=l.length,n!==Object.keys(t).filter((e=>void 0!==t[e])).length)return!1;for(a=n;0!==a--;){const n=l[a];if(!0!==o(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function a(e){return null!==e&&"object"===typeof e&&!0!==Array.isArray(e)}function l(e){return"[object Date]"===Object.prototype.toString.call(e)}function c(e){return"number"===typeof e&&isFinite(e)}},1705:(e,t,n)=>{"use strict";n.d(t,{So:()=>o,Wm:()=>s,ZK:()=>r});n(6727);let i=!1;function r(e){i=!0===e.isComposing}function s(e){return!0===i||e!==Object(e)||!0===e.isComposing||!0===e.qKeyEvent}function o(e,t){return!0!==s(e)&&[].concat(t).includes(e.keyCode)}},2026:(e,t,n)=>{"use strict";n.d(t,{Bl:()=>s,Jl:()=>l,KR:()=>r,pf:()=>a,vs:()=>o});var i=n(9835);function r(e,t){return void 0!==e&&e()||t}function s(e,t){if(void 0!==e){const t=e();if(void 0!==t&&null!==t)return t.slice()}return t}function o(e,t){return void 0!==e?t.concat(e()):t}function a(e,t){return void 0===e?t:void 0!==t?t.concat(e()):e()}function l(e,t,n,r,s,o){t.key=r+s;const a=(0,i.h)(e,t,n);return!0===s?(0,i.wy)(a,o()):a}},8383:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});let i=!1;{const e=document.createElement("div"),t=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",t.style.width="1000px",t.style.height="1px",document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,i=e.scrollLeft>=0,e.remove()}},2589:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var i=n(7506);function r(){if(void 0!==window.getSelection){const e=window.getSelection();void 0!==e.empty?e.empty():void 0!==e.removeAllRanges&&(e.removeAllRanges(),!0!==i.ZP.is.mobile&&e.addRange(document.createRange()))}else void 0!==document.selection&&document.selection.empty()}},5439:(e,t,n)=>{"use strict";n.d(t,{Mw:()=>s,Nd:()=>a,Ng:()=>i,YE:()=>r,vh:()=>o});const i="_q_",r="_q_l_",s="_q_pc_",o="_q_fo_",a="_q_tabs_"},9367:(e,t,n)=>{"use strict";n.d(t,{R:()=>s,n:()=>o});n(702);const i={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},r=Object.keys(i);function s(e){const t={};for(const n of r)!0===e[n]&&(t[n]=!0);return 0===Object.keys(t).length?i:(!0===t.horizontal?t.left=t.right=!0:!0===t.left&&!0===t.right&&(t.horizontal=!0),!0===t.vertical?t.up=t.down=!0:!0===t.up&&!0===t.down&&(t.vertical=!0),!0===t.horizontal&&!0===t.vertical&&(t.all=!0),t)}function o(e,t){return void 0===t.event&&void 0!==e.target&&!0!==e.target.draggable&&"function"===typeof t.handler&&"INPUT"!==e.target.nodeName.toUpperCase()&&(void 0===e.qClonedBy||-1===e.qClonedBy.indexOf(t.uid))}i.all=!0},2046:(e,t,n)=>{"use strict";n.d(t,{Kq:()=>i,Pf:()=>s,Rb:()=>o});n(702);function i(e){if(Object(e.$parent)===e.$parent)return e.$parent;e=e.$.parent;while(Object(e)===e){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function r(e,t){"symbol"===typeof t.type?!0===Array.isArray(t.children)&&t.children.forEach((t=>{r(e,t)})):e.add(t)}function s(e){const t=new Set;return e.forEach((e=>{r(t,e)})),Array.from(t)}function o(e){return void 0!==e.appContext.config.globalProperties.$router}},3701:(e,t,n)=>{"use strict";n.d(t,{OI:()=>a,QA:()=>m,b0:()=>s,f3:()=>d,ik:()=>f,np:()=>g,u3:()=>o});n(6727);var i=n(223);const r=[null,document,document.body,document.scrollingElement,document.documentElement];function s(e,t){let n=(0,i.sb)(t);if(void 0===n){if(void 0===e||null===e)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return r.includes(n)?window:n}function o(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function a(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function l(e,t,n=0){const i=void 0===arguments[3]?performance.now():arguments[3],r=o(e);n<=0?r!==t&&u(e,t):requestAnimationFrame((s=>{const o=s-i,a=r+(t-r)/Math.max(o,n)*o;u(e,a),a!==t&&l(e,t,n-o,s)}))}function c(e,t,n=0){const i=void 0===arguments[3]?performance.now():arguments[3],r=a(e);n<=0?r!==t&&h(e,t):requestAnimationFrame((s=>{const o=s-i,a=r+(t-r)/Math.max(o,n)*o;h(e,a),a!==t&&c(e,t,n-o,s)}))}function u(e,t){e!==window?e.scrollTop=t:window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t)}function h(e,t){e!==window?e.scrollLeft=t:window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)}function d(e,t,n){n?l(e,t,n):u(e,t)}function f(e,t,n){n?c(e,t,n):h(e,t)}let p;function g(){if(void 0!==p)return p;const e=document.createElement("p"),t=document.createElement("div");(0,i.iv)(e,{width:"100%",height:"200px"}),(0,i.iv)(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),t.remove(),p=n-r,p}function m(e,t=!0){return!(!e||e.nodeType!==Node.ELEMENT_NODE)&&(t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"])))}},7674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(6822);function i(e,t,n=document.body){if("string"!==typeof e)throw new TypeError("Expected a string as propName");if("string"!==typeof t)throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${e}`,t)}},8266:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});n(6727);var i=n(7506),r=(n(702),n(4124)),s=n(1384),o=n(899);const a=["sm","md","lg","xl"],{passive:l}=s.rU,c=(0,r.Z)({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:s.ZT,setDebounce:s.ZT,install({$q:e,onSSRHydrated:t}){if(e.screen=this,!0===this.__installed)return void(void 0!==e.config.screen&&(!1===e.config.screen.bodyClasses?document.body.classList.remove(`screen--${this.name}`):this.__update(!0)));const{visualViewport:n}=window,r=n||window,s=document.scrollingElement||document.documentElement,c=void 0===n||!0===i.Lp.is.mobile?()=>[Math.max(window.innerWidth,s.clientWidth),Math.max(window.innerHeight,s.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-s.clientWidth,n.height*n.scale+window.innerHeight-s.clientHeight],u=void 0!==e.config.screen&&!0===e.config.screen.bodyClasses;this.__update=e=>{const[t,n]=c();if(n!==this.height&&(this.height=n),t!==this.width)this.width=t;else if(!0!==e)return;let i=this.sizes;this.gt.xs=t>=i.sm,this.gt.sm=t>=i.md,this.gt.md=t>=i.lg,this.gt.lg=t>=i.xl,this.lt.sm=t<i.sm,this.lt.md=t<i.md,this.lt.lg=t<i.lg,this.lt.xl=t<i.xl,this.xs=this.lt.sm,this.sm=!0===this.gt.xs&&!0===this.lt.md,this.md=!0===this.gt.sm&&!0===this.lt.lg,this.lg=!0===this.gt.md&&!0===this.lt.xl,this.xl=this.gt.lg,i=(!0===this.xs?"xs":!0===this.sm&&"sm")||!0===this.md&&"md"||!0===this.lg&&"lg"||"xl",i!==this.name&&(!0===u&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${i}`)),this.name=i)};let h,d={},f=16;this.setSizes=e=>{a.forEach((t=>{void 0!==e[t]&&(d[t]=e[t])}))},this.setDebounce=e=>{f=e};const p=()=>{const e=getComputedStyle(document.body);e.getPropertyValue("--q-size-sm")&&a.forEach((t=>{this.sizes[t]=parseInt(e.getPropertyValue(`--q-size-${t}`),10)})),this.setSizes=e=>{a.forEach((t=>{e[t]&&(this.sizes[t]=e[t])})),this.__update(!0)},this.setDebounce=e=>{void 0!==h&&r.removeEventListener("resize",h,l),h=e>0?(0,o.Z)(this.__update,e):this.__update,r.addEventListener("resize",h,l)},this.setDebounce(f),Object.keys(d).length>0?(this.setSizes(d),d=void 0):this.__update(),!0===u&&"xs"===this.name&&document.body.classList.add("screen--xs")};!0===i.uX.value?t.push(p):p()}});n(8964);const u=(0,r.Z)({isActive:!1,mode:!1},{__media:void 0,set(e){u.mode=e,"auto"===e?(void 0===u.__media&&(u.__media=window.matchMedia("(prefers-color-scheme: dark)"),u.__updateMedia=()=>{u.set("auto")},u.__media.addListener(u.__updateMedia)),e=u.__media.matches):void 0!==u.__media&&(u.__media.removeListener(u.__updateMedia),u.__media=void 0),u.isActive=!0===e,document.body.classList.remove("body--"+(!0===e?"light":"dark")),document.body.classList.add("body--"+(!0===e?"dark":"light"))},toggle(){u.set(!1===u.isActive)},install({$q:e,onSSRHydrated:t,ssrContext:n}){const{dark:r}=e.config;if(e.dark=this,!0===this.__installed&&void 0===r)return;this.isActive=!0===r;const s=void 0!==r&&r;if(!0===i.uX.value){const e=e=>{this.__fromSSR=e},n=this.set;this.set=e,e(s),t.push((()=>{this.set=n,this.set(this.__fromSSR)}))}else this.set(s)}}),h=u;var d=n(5310),f=n(3558),p=n(7674),g=n(1705);function m(e){return!0===e.ios?"ios":!0===e.android?"android":void 0}function v({is:e,has:t,within:n},i){const r=[!0===e.desktop?"desktop":"mobile",(!1===t.touch?"no-":"")+"touch"];if(!0===e.mobile){const t=m(e);void 0!==t&&r.push("platform-"+t)}if(!0===e.nativeMobile){const t=e.nativeMobileWrapper;r.push(t),r.push("native-mobile"),!0!==e.ios||void 0!==i[t]&&!1===i[t].iosStatusBarPadding||r.push("q-ios-padding")}else!0===e.electron?r.push("electron"):!0===e.bex&&r.push("bex");return!0===n.iframe&&r.push("within-iframe"),r}function y(){const e=document.body.className;let t=e;void 0!==i.aG&&(t=t.replace("desktop","platform-ios mobile")),!0===i.Lp.has.touch&&(t=t.replace("no-touch","touch")),!0===i.Lp.within.iframe&&(t+=" within-iframe"),e!==t&&(document.body.className=t)}function b(e){for(const t in e)(0,p.Z)(t,e[t])}const x={install(e){if(!0!==this.__installed){if(!0===i.uX.value)y();else{const{$q:t}=e;void 0!==t.config.brand&&b(t.config.brand);const n=v(i.Lp,t.config);document.body.classList.add.apply(document.body.classList,n)}!0===i.Lp.is.ios&&document.body.addEventListener("touchstart",s.ZT),window.addEventListener("keydown",g.ZK,!0)}}};var w=n(3251);const _={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}},S=(0,r.Z)({iconMapFn:null,__icons:{}},{set(e,t){const n={...e,rtl:!0===e.rtl};n.set=S.set,Object.assign(S.__icons,n)},install({$q:e,iconSet:t,ssrContext:n}){void 0!==e.config.iconMapFn&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__icons,(0,w.g)(e,"iconMapFn",(()=>this.iconMapFn),(e=>{this.iconMapFn=e})),!0===this.__installed?void 0!==t&&this.set(t):this.set(t||_)}}),k=S;var C=n(5439),A=n(7495),T=n(6254);const I=[i.ZP,x,h,c,d.Z,f.Z,k];function E(e,t){t.forEach((t=>{t.install(e),t.__installed=!0}))}function P(e,t,n){e.config.globalProperties.$q=n.$q,e.provide(C.Ng,n.$q),E(n,I),void 0!==t.components&&Object.values(t.components).forEach((t=>{!0===(0,T.Kn)(t)&&void 0!==t.name&&e.component(t.name,t)})),void 0!==t.directives&&Object.values(t.directives).forEach((t=>{!0===(0,T.Kn)(t)&&void 0!==t.name&&e.directive(t.name,t)})),void 0!==t.plugins&&E(n,Object.values(t.plugins).filter((e=>"function"===typeof e.install&&!1===I.includes(e)))),!0===i.uX.value&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach((e=>{e()})),n.$q.onSSRHydrated=()=>{}})}const R=function(e,t={}){const n={version:"2.7.1"};!1===A.Uf?(void 0!==t.config&&Object.assign(A.w6,t.config),n.config={...A.w6},(0,A.tP)()):n.config=t.config||{},P(e,t,{parentApp:e,$q:n,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})},L={version:"2.7.1",install:R,lang:f.Z,iconSet:k}},8762:(e,t,n)=>{var i=n(6107),r=n(7545),s=TypeError;e.exports=function(e){if(i(e))return e;throw s(r(e)+" is not a function")}},9667:(e,t,n)=>{var i=n(9627),r=n(7545),s=TypeError;e.exports=function(e){if(i(e))return e;throw s(r(e)+" is not a constructor")}},9220:(e,t,n)=>{var i=n(6107),r=String,s=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw s("Can't set "+r(e)+" as a prototype")}},5323:(e,t,n)=>{var i=n(4103),r=n(5267),s=n(1012).f,o=i("unscopables"),a=Array.prototype;void 0==a[o]&&s(a,o,{configurable:!0,value:r(null)}),e.exports=function(e){a[o][e]=!0}},3366:(e,t,n)=>{"use strict";var i=n(6823).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},8406:(e,t,n)=>{var i=n(6123),r=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw r("Incorrect invocation")}},616:(e,t,n)=>{var i=n(1419),r=String,s=TypeError;e.exports=function(e){if(i(e))return e;throw s(r(e)+" is not an object")}},2884:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},8086:(e,t,n)=>{"use strict";var i,r,s,o=n(2884),a=n(4133),l=n(3834),c=n(6107),u=n(1419),h=n(2924),d=n(4239),f=n(7545),p=n(4722),g=n(4076),m=n(1012).f,v=n(6123),y=n(7886),b=n(6534),x=n(4103),w=n(3965),_=l.Int8Array,S=_&&_.prototype,k=l.Uint8ClampedArray,C=k&&k.prototype,A=_&&y(_),T=S&&y(S),I=Object.prototype,E=l.TypeError,P=x("toStringTag"),R=w("TYPED_ARRAY_TAG"),L=w("TYPED_ARRAY_CONSTRUCTOR"),N=o&&!!b&&"Opera"!==d(l.opera),O=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D={BigInt64Array:8,BigUint64Array:8},F=function(e){if(!u(e))return!1;var t=d(e);return"DataView"===t||h(M,t)||h(D,t)},z=function(e){if(!u(e))return!1;var t=d(e);return h(M,t)||h(D,t)},B=function(e){if(z(e))return e;throw E("Target is not a typed array")},q=function(e){if(c(e)&&(!b||v(A,e)))return e;throw E(f(e)+" is not a typed array constructor")},V=function(e,t,n,i){if(a){if(n)for(var r in M){var s=l[r];if(s&&h(s.prototype,e))try{delete s.prototype[e]}catch(o){try{s.prototype[e]=t}catch(c){}}}T[e]&&!n||g(T,e,n?t:N&&S[e]||t,i)}},H=function(e,t,n){var i,r;if(a){if(b){if(n)for(i in M)if(r=l[i],r&&h(r,e))try{delete r[e]}catch(s){}if(A[e]&&!n)return;try{return g(A,e,n?t:N&&A[e]||t)}catch(s){}}for(i in M)r=l[i],!r||r[e]&&!n||g(r,e,t)}};for(i in M)r=l[i],s=r&&r.prototype,s?p(s,L,r):N=!1;for(i in D)r=l[i],s=r&&r.prototype,s&&p(s,L,r);if((!N||!c(A)||A===Function.prototype)&&(A=function(){throw E("Incorrect invocation")},N))for(i in M)l[i]&&b(l[i],A);if((!N||!T||T===I)&&(T=A.prototype,N))for(i in M)l[i]&&b(l[i].prototype,T);if(N&&y(C)!==T&&b(C,T),a&&!h(T,P))for(i in O=!0,m(T,P,{get:function(){return u(this)?this[R]:void 0}}),M)l[i]&&p(l[i],R,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_CONSTRUCTOR:L,TYPED_ARRAY_TAG:O&&R,aTypedArray:B,aTypedArrayConstructor:q,exportTypedArrayMethod:V,exportTypedArrayStaticMethod:H,isView:F,isTypedArray:z,TypedArray:A,TypedArrayPrototype:T}},2248:(e,t,n)=>{"use strict";var i=n(3834),r=n(1636),s=n(4133),o=n(2884),a=n(9104),l=n(4722),c=n(2714),u=n(8814),h=n(8406),d=n(6675),f=n(7302),p=n(4686),g=n(9798),m=n(7886),v=n(6534),y=n(3450).f,b=n(1012).f,x=n(5408),w=n(6378),_=n(2365),S=n(780),k=a.PROPER,C=a.CONFIGURABLE,A=S.get,T=S.set,I="ArrayBuffer",E="DataView",P="prototype",R="Wrong length",L="Wrong index",N=i[I],O=N,M=O&&O[P],D=i[E],F=D&&D[P],z=Object.prototype,B=i.Array,q=i.RangeError,V=r(x),H=r([].reverse),U=g.pack,j=g.unpack,Y=function(e){return[255&e]},W=function(e){return[255&e,e>>8&255]},X=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},$=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},G=function(e){return U(e,23,4)},K=function(e){return U(e,52,8)},Z=function(e,t){b(e[P],t,{get:function(){return A(this)[t]}})},Q=function(e,t,n,i){var r=p(n),s=A(e);if(r+t>s.byteLength)throw q(L);var o=A(s.buffer).bytes,a=r+s.byteOffset,l=w(o,a,a+t);return i?l:H(l)},J=function(e,t,n,i,r,s){var o=p(n),a=A(e);if(o+t>a.byteLength)throw q(L);for(var l=A(a.buffer).bytes,c=o+a.byteOffset,u=i(+r),h=0;h<t;h++)l[c+h]=u[s?h:t-h-1]};if(o){var ee=k&&N.name!==I;if(u((function(){N(1)}))&&u((function(){new N(-1)}))&&!u((function(){return new N,new N(1.5),new N(NaN),ee&&!C})))ee&&C&&l(N,"name",I);else{O=function(e){return h(this,M),new N(p(e))},O[P]=M;for(var te,ne=y(N),ie=0;ne.length>ie;)(te=ne[ie++])in O||l(O,te,N[te]);M.constructor=O}v&&m(F)!==z&&v(F,z);var re=new D(new O(2)),se=r(F.setInt8);re.setInt8(0,2147483648),re.setInt8(1,2147483649),!re.getInt8(0)&&re.getInt8(1)||c(F,{setInt8:function(e,t){se(this,e,t<<24>>24)},setUint8:function(e,t){se(this,e,t<<24>>24)}},{unsafe:!0})}else O=function(e){h(this,M);var t=p(e);T(this,{bytes:V(B(t),0),byteLength:t}),s||(this.byteLength=t)},M=O[P],D=function(e,t,n){h(this,F),h(e,M);var i=A(e).byteLength,r=d(t);if(r<0||r>i)throw q("Wrong offset");if(n=void 0===n?i-r:f(n),r+n>i)throw q(R);T(this,{buffer:e,byteLength:n,byteOffset:r}),s||(this.buffer=e,this.byteLength=n,this.byteOffset=r)},F=D[P],s&&(Z(O,"byteLength"),Z(D,"buffer"),Z(D,"byteLength"),Z(D,"byteOffset")),c(F,{getInt8:function(e){return Q(this,1,e)[0]<<24>>24},getUint8:function(e){return Q(this,1,e)[0]},getInt16:function(e){var t=Q(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Q(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return $(Q(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return $(Q(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return j(Q(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return j(Q(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){J(this,1,e,Y,t)},setUint8:function(e,t){J(this,1,e,Y,t)},setInt16:function(e,t){J(this,2,e,W,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){J(this,2,e,W,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){J(this,4,e,X,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){J(this,4,e,X,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){J(this,4,e,G,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){J(this,8,e,K,t,arguments.length>2?arguments[2]:void 0)}});_(O,I),_(D,E),e.exports={ArrayBuffer:O,DataView:D}},5408:(e,t,n)=>{"use strict";var i=n(8332),r=n(2661),s=n(8600);e.exports=function(e){var t=i(this),n=s(t),o=arguments.length,a=r(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);while(c>a)t[a++]=e;return t}},7508:(e,t,n)=>{"use strict";var i=n(6158),r=n(6654),s=n(8332),o=n(1108),a=n(5712),l=n(9627),c=n(8600),u=n(5976),h=n(4021),d=n(3395),f=Array;e.exports=function(e){var t=s(e),n=l(this),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g;m&&(g=i(g,p>2?arguments[2]:void 0));var v,y,b,x,w,_,S=d(t),k=0;if(!S||this===f&&a(S))for(v=c(t),y=n?new this(v):f(v);v>k;k++)_=m?g(t[k],k):t[k],u(y,k,_);else for(x=h(t,S),w=x.next,y=n?new this:[];!(b=r(w,x)).done;k++)_=m?o(x,g,[b.value,k],!0):b.value,u(y,k,_);return y.length=k,y}},7714:(e,t,n)=>{var i=n(7447),r=n(2661),s=n(8600),o=function(e){return function(t,n,o){var a,l=i(t),c=s(l),u=r(o,c);if(e&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},9226:(e,t,n)=>{var i=n(6158),r=n(1636),s=n(3972),o=n(8332),a=n(8600),l=n(4837),c=r([].push),u=function(e){var t=1==e,n=2==e,r=3==e,u=4==e,h=6==e,d=7==e,f=5==e||h;return function(p,g,m,v){for(var y,b,x=o(p),w=s(x),_=i(g,m),S=a(w),k=0,C=v||l,A=t?C(p,S):n||d?C(p,0):void 0;S>k;k++)if((f||k in w)&&(y=w[k],b=_(y,k,x),e))if(t)A[k]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return k;case 2:c(A,y)}else switch(e){case 4:return!1;case 7:c(A,y)}return h?-1:r||u?u:A}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},6378:(e,t,n)=>{var i=n(2661),r=n(8600),s=n(5976),o=Array,a=Math.max;e.exports=function(e,t,n){for(var l=r(e),c=i(t,l),u=i(void 0===n?l:n,l),h=o(a(u-c,0)),d=0;c<u;c++,d++)s(h,d,e[c]);return h.length=d,h}},7085:(e,t,n)=>{var i=n(6378),r=Math.floor,s=function(e,t){var n=e.length,l=r(n/2);return n<8?o(e,t):a(e,s(i(e,0,l),t),s(i(e,l),t),t)},o=function(e,t){var n,i,r=e.length,s=1;while(s<r){i=s,n=e[s];while(i&&t(e[i-1],n)>0)e[i]=e[--i];i!==s++&&(e[i]=n)}return e},a=function(e,t,n,i){var r=t.length,s=n.length,o=0,a=0;while(o<r||a<s)e[o+a]=o<r&&a<s?i(t[o],n[a])<=0?t[o++]:n[a++]:o<r?t[o++]:n[a++];return e};e.exports=s},4622:(e,t,n)=>{var i=n(6555),r=n(9627),s=n(1419),o=n(4103),a=o("species"),l=Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,r(t)&&(t===l||i(t.prototype))?t=void 0:s(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?l:t}},4837:(e,t,n)=>{var i=n(4622);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},1108:(e,t,n)=>{var i=n(616),r=n(4829);e.exports=function(e,t,n,s){try{return s?t(i(n)[0],n[1]):t(n)}catch(o){r(e,"throw",o)}}},8272:(e,t,n)=>{var i=n(4103),r=i("iterator"),s=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){s=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!s)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(l){}return n}},6749:(e,t,n)=>{var i=n(1636),r=i({}.toString),s=i("".slice);e.exports=function(e){return s(r(e),8,-1)}},4239:(e,t,n)=>{var i=n(4130),r=n(6107),s=n(6749),o=n(4103),a=o("toStringTag"),l=Object,c="Arguments"==s(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=i?s:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=l(e),a))?n:c?s(t):"Object"==(i=s(t))&&r(t.callee)?"Arguments":i}},1328:(e,t,n)=>{var i=n(1636),r=Error,s=i("".replace),o=function(e){return String(r(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!r.prepareStackTrace)while(t--)e=s(e,a,"");return e}},7366:(e,t,n)=>{var i=n(2924),r=n(1240),s=n(863),o=n(1012);e.exports=function(e,t,n){for(var a=r(t),l=o.f,c=s.f,u=0;u<a.length;u++){var h=a[u];i(e,h)||n&&i(n,h)||l(e,h,c(t,h))}}},911:(e,t,n)=>{var i=n(8814);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1551:(e,t,n)=>{"use strict";var i=n(619).IteratorPrototype,r=n(5267),s=n(3386),o=n(2365),a=n(1366),l=function(){return this};e.exports=function(e,t,n,c){var u=t+" Iterator";return e.prototype=r(i,{next:s(+!c,n)}),o(e,u,!1,!0),a[u]=l,e}},4722:(e,t,n)=>{var i=n(4133),r=n(1012),s=n(3386);e.exports=i?function(e,t,n){return r.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},3386:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5976:(e,t,n)=>{"use strict";var i=n(1017),r=n(1012),s=n(3386);e.exports=function(e,t,n){var o=i(t);o in e?r.f(e,o,s(0,n)):e[o]=n}},9570:(e,t,n)=>{var i=n(2358),r=n(1012);e.exports=function(e,t,n){return n.get&&i(n.get,t,{getter:!0}),n.set&&i(n.set,t,{setter:!0}),r.f(e,t,n)}},4076:(e,t,n)=>{var i=n(6107),r=n(4722),s=n(2358),o=n(5437);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;return i(n)&&s(n,c,a),a.global?l?e[t]=n:o(t,n):(a.unsafe?e[t]&&(l=!0):delete e[t],l?e[t]=n:r(e,t,n)),e}},2714:(e,t,n)=>{var i=n(4076);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},5437:(e,t,n)=>{var i=n(3834),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},3532:(e,t,n)=>{"use strict";var i=n(6943),r=n(6654),s=n(200),o=n(9104),a=n(6107),l=n(1551),c=n(7886),u=n(6534),h=n(2365),d=n(4722),f=n(4076),p=n(4103),g=n(1366),m=n(619),v=o.PROPER,y=o.CONFIGURABLE,b=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),_="keys",S="values",k="entries",C=function(){return this};e.exports=function(e,t,n,o,p,m,A){l(n,t,o);var T,I,E,P=function(e){if(e===p&&M)return M;if(!x&&e in N)return N[e];switch(e){case _:return function(){return new n(this,e)};case S:return function(){return new n(this,e)};case k:return function(){return new n(this,e)}}return function(){return new n(this)}},R=t+" Iterator",L=!1,N=e.prototype,O=N[w]||N["@@iterator"]||p&&N[p],M=!x&&O||P(p),D="Array"==t&&N.entries||O;if(D&&(T=c(D.call(new e)),T!==Object.prototype&&T.next&&(s||c(T)===b||(u?u(T,b):a(T[w])||f(T,w,C)),h(T,R,!0,!0),s&&(g[R]=C))),v&&p==S&&O&&O.name!==S&&(!s&&y?d(N,"name",S):(L=!0,M=function(){return r(O,this)})),p)if(I={values:P(S),keys:m?M:P(_),entries:P(k)},A)for(E in I)(x||L||!(E in N))&&f(N,E,I[E]);else i({target:t,proto:!0,forced:x||L},I);return s&&!A||N[w]===M||f(N,w,M,{name:p}),g[t]=M,I}},4133:(e,t,n)=>{var i=n(8814);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1657:(e,t,n)=>{var i=n(3834),r=n(1419),s=i.document,o=r(s)&&r(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},5243:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},210:(e,t,n)=>{var i=n(1657),r=i("span").classList,s=r&&r.constructor&&r.constructor.prototype;e.exports=s===Object.prototype?void 0:s},259:(e,t,n)=>{var i=n(322),r=i.match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},1280:(e,t,n)=>{var i=n(322);e.exports=/MSIE|Trident/.test(i)},322:(e,t,n)=>{var i=n(7859);e.exports=i("navigator","userAgent")||""},1418:(e,t,n)=>{var i,r,s=n(3834),o=n(322),a=s.process,l=s.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(i=u.split("."),r=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&o&&(i=o.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/),i&&(r=+i[1]))),e.exports=r},7433:(e,t,n)=>{var i=n(322),r=i.match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},203:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9277:(e,t,n)=>{var i=n(8814),r=n(3386);e.exports=!i((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},6943:(e,t,n)=>{var i=n(3834),r=n(863).f,s=n(4722),o=n(4076),a=n(5437),l=n(7366),c=n(2764);e.exports=function(e,t){var n,u,h,d,f,p,g=e.target,m=e.global,v=e.stat;if(u=m?i:v?i[g]||a(g,{}):(i[g]||{}).prototype,u)for(h in t){if(f=t[h],e.dontCallGetSet?(p=r(u,h),d=p&&p.value):d=u[h],n=c(m?h:g+(v?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&s(f,"sham",!0),o(u,h,f,e)}}},8814:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},3218:(e,t,n)=>{"use strict";n(1476);var i=n(1636),r=n(4076),s=n(738),o=n(8814),a=n(4103),l=n(4722),c=a("species"),u=RegExp.prototype;e.exports=function(e,t,n,h){var d=a(e),f=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=f&&!o((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!p||n){var g=i(/./[d]),m=t(d,""[e],(function(e,t,n,r,o){var a=i(e),l=t.exec;return l===s||l===u.exec?f&&!o?{done:!0,value:g(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}}));r(String.prototype,e,m[0]),r(u,d,m[1])}h&&l(u[d],"sham",!0)}},6112:(e,t,n)=>{var i=n(9793),r=Function.prototype,s=r.apply,o=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(s):function(){return o.apply(s,arguments)})},6158:(e,t,n)=>{var i=n(1636),r=n(8762),s=n(9793),o=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:s?o(e,t):function(){return e.apply(t,arguments)}}},9793:(e,t,n)=>{var i=n(8814);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6654:(e,t,n)=>{var i=n(9793),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},9104:(e,t,n)=>{var i=n(4133),r=n(2924),s=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=r(s,"name"),l=a&&"something"===function(){}.name,c=a&&(!i||i&&o(s,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},1636:(e,t,n)=>{var i=n(9793),r=Function.prototype,s=r.bind,o=r.call,a=i&&s.bind(o,o);e.exports=i?function(e){return e&&a(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},7859:(e,t,n)=>{var i=n(3834),r=n(6107),s=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(i[e]):i[e]&&i[e][t]}},3395:(e,t,n)=>{var i=n(4239),r=n(7689),s=n(1366),o=n(4103),a=o("iterator");e.exports=function(e){if(void 0!=e)return r(e,a)||r(e,"@@iterator")||s[i(e)]}},4021:(e,t,n)=>{var i=n(6654),r=n(8762),s=n(616),o=n(7545),a=n(3395),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(r(n))return s(i(n,e));throw l(o(e)+" is not iterable")}},7689:(e,t,n)=>{var i=n(8762);e.exports=function(e,t){var n=e[t];return null==n?void 0:i(n)}},3075:(e,t,n)=>{var i=n(1636),r=n(8332),s=Math.floor,o=i("".charAt),a=i("".replace),l=i("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,i,h,d){var f=n+e.length,p=i.length,g=u;return void 0!==h&&(h=r(h),g=c),a(d,g,(function(r,a){var c;switch(o(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,f);case"<":c=h[l(a,1,-1)];break;default:var u=+a;if(0===u)return r;if(u>p){var d=s(u/10);return 0===d?r:d<=p?void 0===i[d-1]?o(a,1):i[d-1]+o(a,1):r}c=i[u-1]}return void 0===c?"":c}))}},3834:(e,t,n)=>{var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2924:(e,t,n)=>{var i=n(1636),r=n(8332),s=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(r(e),t)}},1999:e=>{e.exports={}},6052:(e,t,n)=>{var i=n(7859);e.exports=i("document","documentElement")},6335:(e,t,n)=>{var i=n(4133),r=n(8814),s=n(1657);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},9798:e=>{var t=Array,n=Math.abs,i=Math.pow,r=Math.floor,s=Math.log,o=Math.LN2,a=function(e,a,l){var c,u,h,d=t(l),f=8*l-a-1,p=(1<<f)-1,g=p>>1,m=23===a?i(2,-24)-i(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;e=n(e),e!=e||e===1/0?(u=e!=e?1:0,c=p):(c=r(s(e)/o),h=i(2,-c),e*h<1&&(c--,h*=2),e+=c+g>=1?m/h:m*i(2,1-g),e*h>=2&&(c++,h/=2),c+g>=p?(u=0,c=p):c+g>=1?(u=(e*h-1)*i(2,a),c+=g):(u=e*i(2,g-1)*i(2,a),c=0));while(a>=8)d[y++]=255&u,u/=256,a-=8;c=c<<a|u,f+=a;while(f>0)d[y++]=255&c,c/=256,f-=8;return d[--y]|=128*v,d},l=function(e,t){var n,r=e.length,s=8*r-t-1,o=(1<<s)-1,a=o>>1,l=s-7,c=r-1,u=e[c--],h=127&u;u>>=7;while(l>0)h=256*h+e[c--],l-=8;n=h&(1<<-l)-1,h>>=-l,l+=t;while(l>0)n=256*n+e[c--],l-=8;if(0===h)h=1-a;else{if(h===o)return n?NaN:u?-1/0:1/0;n+=i(2,t),h-=a}return(u?-1:1)*n*i(2,h-t)};e.exports={pack:a,unpack:l}},3972:(e,t,n)=>{var i=n(1636),r=n(8814),s=n(6749),o=Object,a=i("".split);e.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?a(e,""):o(e)}:o},2511:(e,t,n)=>{var i=n(6107),r=n(1419),s=n(6534);e.exports=function(e,t,n){var o,a;return s&&i(o=t.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&s(e,a),e}},6461:(e,t,n)=>{var i=n(1636),r=n(6107),s=n(6081),o=i(Function.toString);r(s.inspectSource)||(s.inspectSource=function(e){return o(e)}),e.exports=s.inspectSource},6270:(e,t,n)=>{var i=n(1419),r=n(4722);e.exports=function(e,t){i(t)&&"cause"in t&&r(e,"cause",t.cause)}},780:(e,t,n)=>{var i,r,s,o=n(4825),a=n(3834),l=n(1636),c=n(1419),u=n(4722),h=n(2924),d=n(6081),f=n(5315),p=n(1999),g="Object already initialized",m=a.TypeError,v=a.WeakMap,y=function(e){return s(e)?r(e):i(e,{})},b=function(e){return function(t){var n;if(!c(t)||(n=r(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}};if(o||d.state){var x=d.state||(d.state=new v),w=l(x.get),_=l(x.has),S=l(x.set);i=function(e,t){if(_(x,e))throw new m(g);return t.facade=e,S(x,e,t),t},r=function(e){return w(x,e)||{}},s=function(e){return _(x,e)}}else{var k=f("state");p[k]=!0,i=function(e,t){if(h(e,k))throw new m(g);return t.facade=e,u(e,k,t),t},r=function(e){return h(e,k)?e[k]:{}},s=function(e){return h(e,k)}}e.exports={set:i,get:r,has:s,enforce:y,getterFor:b}},5712:(e,t,n)=>{var i=n(4103),r=n(1366),s=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[s]===e)}},6555:(e,t,n)=>{var i=n(6749);e.exports=Array.isArray||function(e){return"Array"==i(e)}},6107:e=>{e.exports=function(e){return"function"==typeof e}},9627:(e,t,n)=>{var i=n(1636),r=n(8814),s=n(6107),o=n(4239),a=n(7859),l=n(6461),c=function(){},u=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=i(d.exec),p=!d.exec(c),g=function(e){if(!s(e))return!1;try{return h(c,u,e),!0}catch(t){return!1}},m=function(e){if(!s(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,l(e))}catch(t){return!0}};m.sham=!0,e.exports=!h||r((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},2764:(e,t,n)=>{var i=n(8814),r=n(6107),s=/#|\.prototype\./,o=function(e,t){var n=l[a(e)];return n==u||n!=c&&(r(t)?i(t):!!t)},a=o.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},3903:(e,t,n)=>{var i=n(1419),r=Math.floor;e.exports=Number.isInteger||function(e){return!i(e)&&isFinite(e)&&r(e)===e}},1419:(e,t,n)=>{var i=n(6107);e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},200:e=>{e.exports=!1},1637:(e,t,n)=>{var i=n(7859),r=n(6107),s=n(6123),o=n(49),a=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&s(t.prototype,a(e))}},4829:(e,t,n)=>{var i=n(6654),r=n(616),s=n(7689);e.exports=function(e,t,n){var o,a;r(e);try{if(o=s(e,"return"),!o){if("throw"===t)throw n;return n}o=i(o,e)}catch(l){a=!0,o=l}if("throw"===t)throw n;if(a)throw o;return r(o),n}},619:(e,t,n)=>{"use strict";var i,r,s,o=n(8814),a=n(6107),l=n(5267),c=n(7886),u=n(4076),h=n(4103),d=n(200),f=h("iterator"),p=!1;[].keys&&(s=[].keys(),"next"in s?(r=c(c(s)),r!==Object.prototype&&(i=r)):p=!0);var g=void 0==i||o((function(){var e={};return i[f].call(e)!==e}));g?i={}:d&&(i=l(i)),a(i[f])||u(i,f,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},1366:e=>{e.exports={}},8600:(e,t,n)=>{var i=n(7302);e.exports=function(e){return i(e.length)}},2358:(e,t,n)=>{var i=n(8814),r=n(6107),s=n(2924),o=n(4133),a=n(9104).CONFIGURABLE,l=n(6461),c=n(780),u=c.enforce,h=c.get,d=Object.defineProperty,f=o&&!i((function(){return 8!==d((function(){}),"length",{value:8}).length})),p=String(String).split("String"),g=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||a&&e.name!==t)&&d(e,"name",{value:t,configurable:!0}),f&&n&&s(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?o&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(r){}var i=u(e);return s(i,"source")||(i.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return r(this)&&h(this).source||l(this)}),"toString")},7233:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},1368:(e,t,n)=>{var i=n(1418),r=n(8814);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},211:(e,t,n)=>{var i=n(8814),r=n(4103),s=n(200),o=r("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,i){t["delete"]("b"),n+=i+e})),s&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},4825:(e,t,n)=>{var i=n(3834),r=n(6107),s=n(6461),o=i.WeakMap;e.exports=r(o)&&/native code/.test(s(o))},1356:(e,t,n)=>{var i=n(6975);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},9804:(e,t,n)=>{"use strict";var i=n(4133),r=n(1636),s=n(6654),o=n(8814),a=n(4315),l=n(1996),c=n(8068),u=n(8332),h=n(3972),d=Object.assign,f=Object.defineProperty,p=r([].concat);e.exports=!d||o((function(){if(i&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||a(d({},t)).join("")!=r}))?function(e,t){var n=u(e),r=arguments.length,o=1,d=l.f,f=c.f;while(r>o){var g,m=h(arguments[o++]),v=d?p(a(m),d(m)):a(m),y=v.length,b=0;while(y>b)g=v[b++],i&&!s(f,m,g)||(n[g]=m[g])}return n}:d},5267:(e,t,n)=>{var i,r=n(616),s=n(6029),o=n(203),a=n(1999),l=n(6052),c=n(1657),u=n(5315),h=">",d="<",f="prototype",p="script",g=u("IE_PROTO"),m=function(){},v=function(e){return d+p+h+e+d+"/"+p+h},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=c("iframe"),n="java"+p+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},x=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}x="undefined"!=typeof document?document.domain&&i?y(i):b():y(i);var e=o.length;while(e--)delete x[f][o[e]];return x()};a[g]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[f]=r(e),n=new m,m[f]=null,n[g]=e):n=x(),void 0===t?n:s.f(n,t)}},6029:(e,t,n)=>{var i=n(4133),r=n(64),s=n(1012),o=n(616),a=n(7447),l=n(4315);t.f=i&&!r?Object.defineProperties:function(e,t){o(e);var n,i=a(t),r=l(t),c=r.length,u=0;while(c>u)s.f(e,n=r[u++],i[n]);return e}},1012:(e,t,n)=>{var i=n(4133),r=n(6335),s=n(64),o=n(616),a=n(1017),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";t.f=i?s?function(e,t,n){if(o(e),t=a(t),o(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var i=u(e,t);i&&i[f]&&(e[t]=n.value,n={configurable:d in n?n[d]:i[d],enumerable:h in n?n[h]:i[h],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=a(t),o(n),r)try{return c(e,t,n)}catch(i){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},863:(e,t,n)=>{var i=n(4133),r=n(6654),s=n(8068),o=n(3386),a=n(7447),l=n(1017),c=n(2924),u=n(6335),h=Object.getOwnPropertyDescriptor;t.f=i?h:function(e,t){if(e=a(e),t=l(t),u)try{return h(e,t)}catch(n){}if(c(e,t))return o(!r(s.f,e,t),e[t])}},3450:(e,t,n)=>{var i=n(6682),r=n(203),s=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,s)}},1996:(e,t)=>{t.f=Object.getOwnPropertySymbols},7886:(e,t,n)=>{var i=n(2924),r=n(6107),s=n(8332),o=n(5315),a=n(911),l=o("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=s(e);if(i(t,l))return t[l];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},6123:(e,t,n)=>{var i=n(1636);e.exports=i({}.isPrototypeOf)},6682:(e,t,n)=>{var i=n(1636),r=n(2924),s=n(7447),o=n(7714).indexOf,a=n(1999),l=i([].push);e.exports=function(e,t){var n,i=s(e),c=0,u=[];for(n in i)!r(a,n)&&r(i,n)&&l(u,n);while(t.length>c)r(i,n=t[c++])&&(~o(u,n)||l(u,n));return u}},4315:(e,t,n)=>{var i=n(6682),r=n(203);e.exports=Object.keys||function(e){return i(e,r)}},8068:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},6534:(e,t,n)=>{var i=n(1636),r=n(616),s=n(9220);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(o){}return function(n,i){return r(n),s(i),t?e(n,i):n.__proto__=i,n}}():void 0)},9370:(e,t,n)=>{var i=n(6654),r=n(6107),s=n(1419),o=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&r(n=e.toString)&&!s(a=i(n,e)))return a;if(r(n=e.valueOf)&&!s(a=i(n,e)))return a;if("string"!==t&&r(n=e.toString)&&!s(a=i(n,e)))return a;throw o("Can't convert object to primitive value")}},1240:(e,t,n)=>{var i=n(7859),r=n(1636),s=n(3450),o=n(1996),a=n(616),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=s.f(a(e)),n=o.f;return n?l(t,n(e)):t}},4569:(e,t,n)=>{var i=n(1012).f;e.exports=function(e,t,n){n in e||i(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},3808:(e,t,n)=>{var i=n(6654),r=n(616),s=n(6107),o=n(6749),a=n(738),l=TypeError;e.exports=function(e,t){var n=e.exec;if(s(n)){var c=i(n,e,t);return null!==c&&r(c),c}if("RegExp"===o(e))return i(a,e,t);throw l("RegExp#exec called on incompatible receiver")}},738:(e,t,n)=>{"use strict";var i=n(6654),r=n(1636),s=n(6975),o=n(9592),a=n(9165),l=n(8850),c=n(5267),u=n(780).get,h=n(3425),d=n(10),f=l("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,g=p,m=r("".charAt),v=r("".indexOf),y=r("".replace),b=r("".slice),x=function(){var e=/a/,t=/b*/g;return i(p,e,"a"),i(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),w=a.BROKEN_CARET,_=void 0!==/()??/.exec("")[1],S=x||_||w||h||d;S&&(g=function(e){var t,n,r,a,l,h,d,S=this,k=u(S),C=s(e),A=k.raw;if(A)return A.lastIndex=S.lastIndex,t=i(g,A,C),S.lastIndex=A.lastIndex,t;var T=k.groups,I=w&&S.sticky,E=i(o,S),P=S.source,R=0,L=C;if(I&&(E=y(E,"y",""),-1===v(E,"g")&&(E+="g"),L=b(C,S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&"\n"!==m(C,S.lastIndex-1))&&(P="(?: "+P+")",L=" "+L,R++),n=new RegExp("^(?:"+P+")",E)),_&&(n=new RegExp("^"+P+"$(?!\\s)",E)),x&&(r=S.lastIndex),a=i(p,I?n:S,L),I?a?(a.input=b(a.input,R),a[0]=b(a[0],R),a.index=S.lastIndex,S.lastIndex+=a[0].length):S.lastIndex=0:x&&a&&(S.lastIndex=S.global?a.index+a[0].length:r),_&&a&&a.length>1&&i(f,a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a&&T)for(a.groups=h=c(null),l=0;l<T.length;l++)d=T[l],h[d[0]]=a[d[1]];return a}),e.exports=g},9592:(e,t,n)=>{"use strict";var i=n(616);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},9165:(e,t,n)=>{var i=n(8814),r=n(3834),s=r.RegExp,o=i((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=o||i((function(){return!s("a","y").sticky})),l=o||i((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:l,MISSED_STICKY:a,UNSUPPORTED_Y:o}},3425:(e,t,n)=>{var i=n(8814),r=n(3834),s=r.RegExp;e.exports=i((function(){var e=s(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},10:(e,t,n)=>{var i=n(8814),r=n(3834),s=r.RegExp;e.exports=i((function(){var e=s("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},5177:e=>{var t=TypeError;e.exports=function(e){if(void 0==e)throw t("Can't call method on "+e);return e}},7104:(e,t,n)=>{"use strict";var i=n(7859),r=n(1012),s=n(4103),o=n(4133),a=s("species");e.exports=function(e){var t=i(e),n=r.f;o&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},2365:(e,t,n)=>{var i=n(1012).f,r=n(2924),s=n(4103),o=s("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,o)&&i(e,o,{configurable:!0,value:t})}},5315:(e,t,n)=>{var i=n(8850),r=n(3965),s=i("keys");e.exports=function(e){return s[e]||(s[e]=r(e))}},6081:(e,t,n)=>{var i=n(3834),r=n(5437),s="__core-js_shared__",o=i[s]||r(s,{});e.exports=o},8850:(e,t,n)=>{var i=n(200),r=n(6081);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.8",mode:i?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.8/LICENSE",source:"https://github.com/zloirock/core-js"})},6823:(e,t,n)=>{var i=n(1636),r=n(6675),s=n(6975),o=n(5177),a=i("".charAt),l=i("".charCodeAt),c=i("".slice),u=function(e){return function(t,n){var i,u,h=s(o(t)),d=r(n),f=h.length;return d<0||d>=f?e?"":void 0:(i=l(h,d),i<55296||i>56319||d+1===f||(u=l(h,d+1))<56320||u>57343?e?a(h,d):i:e?c(h,d,d+2):u-56320+(i-55296<<10)+65536)}};e.exports={codeAt:u(!1),charAt:u(!0)}},2552:(e,t,n)=>{"use strict";var i=n(1636),r=2147483647,s=36,o=1,a=26,l=38,c=700,u=72,h=128,d="-",f=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",m=s-o,v=RangeError,y=i(p.exec),b=Math.floor,x=String.fromCharCode,w=i("".charCodeAt),_=i([].join),S=i([].push),k=i("".replace),C=i("".split),A=i("".toLowerCase),T=function(e){var t=[],n=0,i=e.length;while(n<i){var r=w(e,n++);if(r>=55296&&r<=56319&&n<i){var s=w(e,n++);56320==(64512&s)?S(t,((1023&r)<<10)+(1023&s)+65536):(S(t,r),n--)}else S(t,r)}return t},I=function(e){return e+22+75*(e<26)},E=function(e,t,n){var i=0;e=n?b(e/c):e>>1,e+=b(e/t);while(e>m*a>>1)e=b(e/m),i+=s;return b(i+(m+1)*e/(e+l))},P=function(e){var t=[];e=T(e);var n,i,l=e.length,c=h,f=0,p=u;for(n=0;n<e.length;n++)i=e[n],i<128&&S(t,x(i));var m=t.length,y=m;m&&S(t,d);while(y<l){var w=r;for(n=0;n<e.length;n++)i=e[n],i>=c&&i<w&&(w=i);var k=y+1;if(w-c>b((r-f)/k))throw v(g);for(f+=(w-c)*k,c=w,n=0;n<e.length;n++){if(i=e[n],i<c&&++f>r)throw v(g);if(i==c){var C=f,A=s;while(1){var P=A<=p?o:A>=p+a?a:A-p;if(C<P)break;var R=C-P,L=s-P;S(t,x(I(P+R%L))),C=b(R/L),A+=s}S(t,x(I(C))),p=E(f,k,y==m),f=0,y++}}f++,c++}return _(t,"")};e.exports=function(e){var t,n,i=[],r=C(k(A(e),p,"."),".");for(t=0;t<r.length;t++)n=r[t],S(i,y(f,n)?"xn--"+P(n):n);return _(i,".")}},2661:(e,t,n)=>{var i=n(6675),r=Math.max,s=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):s(n,t)}},7385:(e,t,n)=>{var i=n(4384),r=TypeError;e.exports=function(e){var t=i(e,"number");if("number"==typeof t)throw r("Can't convert number to bigint");return BigInt(t)}},4686:(e,t,n)=>{var i=n(6675),r=n(7302),s=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw s("Wrong length or index");return n}},7447:(e,t,n)=>{var i=n(3972),r=n(5177);e.exports=function(e){return i(r(e))}},6675:(e,t,n)=>{var i=n(7233);e.exports=function(e){var t=+e;return t!==t||0===t?0:i(t)}},7302:(e,t,n)=>{var i=n(6675),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},8332:(e,t,n)=>{var i=n(5177),r=Object;e.exports=function(e){return r(i(e))}},4084:(e,t,n)=>{var i=n(859),r=RangeError;e.exports=function(e,t){var n=i(e);if(n%t)throw r("Wrong offset");return n}},859:(e,t,n)=>{var i=n(6675),r=RangeError;e.exports=function(e){var t=i(e);if(t<0)throw r("The argument can't be less than 0");return t}},4384:(e,t,n)=>{var i=n(6654),r=n(1419),s=n(1637),o=n(7689),a=n(9370),l=n(4103),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!r(e)||s(e))return e;var n,l=o(e,u);if(l){if(void 0===t&&(t="default"),n=i(l,e,t),!r(n)||s(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},1017:(e,t,n)=>{var i=n(4384),r=n(1637);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},4130:(e,t,n)=>{var i=n(4103),r=i("toStringTag"),s={};s[r]="z",e.exports="[object z]"===String(s)},6975:(e,t,n)=>{var i=n(4239),r=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},7545:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},8532:(e,t,n)=>{"use strict";var i=n(6943),r=n(3834),s=n(6654),o=n(4133),a=n(5136),l=n(8086),c=n(2248),u=n(8406),h=n(3386),d=n(4722),f=n(3903),p=n(7302),g=n(4686),m=n(4084),v=n(1017),y=n(2924),b=n(4239),x=n(1419),w=n(1637),_=n(5267),S=n(6123),k=n(6534),C=n(3450).f,A=n(1157),T=n(9226).forEach,I=n(7104),E=n(1012),P=n(863),R=n(780),L=n(2511),N=R.get,O=R.set,M=E.f,D=P.f,F=Math.round,z=r.RangeError,B=c.ArrayBuffer,q=B.prototype,V=c.DataView,H=l.NATIVE_ARRAY_BUFFER_VIEWS,U=l.TYPED_ARRAY_CONSTRUCTOR,j=l.TYPED_ARRAY_TAG,Y=l.TypedArray,W=l.TypedArrayPrototype,X=l.aTypedArrayConstructor,$=l.isTypedArray,G="BYTES_PER_ELEMENT",K="Wrong length",Z=function(e,t){X(e);var n=0,i=t.length,r=new e(i);while(i>n)r[n]=t[n++];return r},Q=function(e,t){M(e,t,{get:function(){return N(this)[t]}})},J=function(e){var t;return S(q,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},ee=function(e,t){return $(e)&&!w(t)&&t in e&&f(+t)&&t>=0},te=function(e,t){return t=v(t),ee(e,t)?h(2,e[t]):D(e,t)},ne=function(e,t,n){return t=v(t),!(ee(e,t)&&x(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?M(e,t,n):(e[t]=n.value,e)};o?(H||(P.f=te,E.f=ne,Q(W,"buffer"),Q(W,"byteOffset"),Q(W,"byteLength"),Q(W,"length")),i({target:"Object",stat:!0,forced:!H},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,l=e+(n?"Clamped":"")+"Array",c="get"+e,h="set"+e,f=r[l],v=f,y=v&&v.prototype,b={},w=function(e,t){var n=N(e);return n.view[c](t*o+n.byteOffset,!0)},S=function(e,t,i){var r=N(e);n&&(i=(i=F(i))<0?0:i>255?255:255&i),r.view[h](t*o+r.byteOffset,i,!0)},E=function(e,t){M(e,t,{get:function(){return w(this,t)},set:function(e){return S(this,t,e)},enumerable:!0})};H?a&&(v=t((function(e,t,n,i){return u(e,y),L(function(){return x(t)?J(t)?void 0!==i?new f(t,m(n,o),i):void 0!==n?new f(t,m(n,o)):new f(t):$(t)?Z(v,t):s(A,v,t):new f(g(t))}(),e,v)})),k&&k(v,Y),T(C(f),(function(e){e in v||d(v,e,f[e])})),v.prototype=y):(v=t((function(e,t,n,i){u(e,y);var r,a,l,c=0,h=0;if(x(t)){if(!J(t))return $(t)?Z(v,t):s(A,v,t);r=t,h=m(n,o);var d=t.byteLength;if(void 0===i){if(d%o)throw z(K);if(a=d-h,a<0)throw z(K)}else if(a=p(i)*o,a+h>d)throw z(K);l=a/o}else l=g(t),a=l*o,r=new B(a);O(e,{buffer:r,byteOffset:h,byteLength:a,length:l,view:new V(r)});while(c<l)E(e,c++)})),k&&k(v,Y),y=v.prototype=_(W)),y.constructor!==v&&d(y,"constructor",v),d(y,U,v),j&&d(y,j,l);var P=v!=f;b[l]=v,i({global:!0,constructor:!0,forced:P,sham:!H},b),G in v||d(v,G,o),G in y||d(y,G,o),I(l)}):e.exports=function(){}},5136:(e,t,n)=>{var i=n(3834),r=n(8814),s=n(8272),o=n(8086).NATIVE_ARRAY_BUFFER_VIEWS,a=i.ArrayBuffer,l=i.Int8Array;e.exports=!o||!r((function(){l(1)}))||!r((function(){new l(-1)}))||!s((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||r((function(){return 1!==new l(new a(2),1,void 0).length}))},1157:(e,t,n)=>{var i=n(6158),r=n(6654),s=n(9667),o=n(8332),a=n(8600),l=n(4021),c=n(3395),u=n(5712),h=n(8086).aTypedArrayConstructor;e.exports=function(e){var t,n,d,f,p,g,m=s(this),v=o(e),y=arguments.length,b=y>1?arguments[1]:void 0,x=void 0!==b,w=c(v);if(w&&!u(w)){p=l(v,w),g=p.next,v=[];while(!(f=r(g,p)).done)v.push(f.value)}for(x&&y>2&&(b=i(b,arguments[2])),n=a(v),d=new(h(m))(n),t=0;n>t;t++)d[t]=x?b(v[t],t):v[t];return d}},3965:(e,t,n)=>{var i=n(1636),r=0,s=Math.random(),o=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++r+s,36)}},49:(e,t,n)=>{var i=n(1368);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},64:(e,t,n)=>{var i=n(4133),r=n(8814);e.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5809:e=>{var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},4103:(e,t,n)=>{var i=n(3834),r=n(8850),s=n(2924),o=n(3965),a=n(1368),l=n(49),c=r("wks"),u=i.Symbol,h=u&&u["for"],d=l?u:u&&u.withoutSetter||o;e.exports=function(e){if(!s(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&s(u,e)?c[e]=u[e]:c[e]=l&&h?h(t):d(t)}return c[e]}},8376:(e,t,n)=>{"use strict";var i=n(7859),r=n(2924),s=n(4722),o=n(6123),a=n(6534),l=n(7366),c=n(4569),u=n(2511),h=n(1356),d=n(6270),f=n(1328),p=n(9277),g=n(4133),m=n(200);e.exports=function(e,t,n,v){var y="stackTraceLimit",b=v?2:1,x=e.split("."),w=x[x.length-1],_=i.apply(null,x);if(_){var S=_.prototype;if(!m&&r(S,"cause")&&delete S.cause,!n)return _;var k=i("Error"),C=t((function(e,t){var n=h(v?t:e,void 0),i=v?new _(e):new _;return void 0!==n&&s(i,"message",n),p&&s(i,"stack",f(i.stack,2)),this&&o(S,this)&&u(i,this,C),arguments.length>b&&d(i,arguments[b]),i}));if(C.prototype=S,"Error"!==w?a?a(C,k):l(C,k,{name:!0}):g&&y in _&&(c(C,_,y),c(C,_,"prepareStackTrace")),l(C,_),!m)try{S.name!==w&&s(S,"name",w),S.constructor=C}catch(A){}return C}}},6727:(e,t,n)=>{"use strict";var i=n(6943),r=n(7714).includes,s=n(8814),o=n(5323),a=s((function(){return!Array(1).includes()}));i({target:"Array",proto:!0,forced:a},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},8998:(e,t,n)=>{"use strict";var i=n(7447),r=n(5323),s=n(1366),o=n(780),a=n(1012).f,l=n(3532),c=n(200),u=n(4133),h="Array Iterator",d=o.set,f=o.getterFor(h);e.exports=l(Array,"Array",(function(e,t){d(this,{type:h,target:i(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values");var p=s.Arguments=s.Array;if(r("keys"),r("values"),r("entries"),!c&&u&&"values"!==p.name)try{a(p,"name",{value:"values"})}catch(g){}},5583:(e,t,n)=>{var i=n(5323);i("flat")},6822:(e,t,n)=>{var i=n(6943),r=n(3834),s=n(6112),o=n(8376),a="WebAssembly",l=r[a],c=7!==Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=o(e,t,c),i({global:!0,constructor:!0,arity:1,forced:c},n)},h=function(e,t){if(l&&l[e]){var n={};n[e]=o(a+"."+e,t,c),i({target:a,stat:!0,constructor:!0,arity:1,forced:c},n)}};u("Error",(function(e){return function(t){return s(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return s(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return s(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return s(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return s(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return s(e,this,arguments)}})),u("URIError",(function(e){return function(t){return s(e,this,arguments)}})),h("CompileError",(function(e){return function(t){return s(e,this,arguments)}})),h("LinkError",(function(e){return function(t){return s(e,this,arguments)}})),h("RuntimeError",(function(e){return function(t){return s(e,this,arguments)}}))},1476:(e,t,n)=>{"use strict";var i=n(6943),r=n(738);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},7280:(e,t,n)=>{"use strict";var i=n(6823).charAt,r=n(6975),s=n(780),o=n(3532),a="String Iterator",l=s.set,c=s.getterFor(a);o(String,"String",(function(e){l(this,{type:a,string:r(e),index:0})}),(function(){var e,t=c(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})}))},8964:(e,t,n)=>{"use strict";var i=n(6112),r=n(6654),s=n(1636),o=n(3218),a=n(8814),l=n(616),c=n(6107),u=n(6675),h=n(7302),d=n(6975),f=n(5177),p=n(3366),g=n(7689),m=n(3075),v=n(3808),y=n(4103),b=y("replace"),x=Math.max,w=Math.min,_=s([].concat),S=s([].push),k=s("".indexOf),C=s("".slice),A=function(e){return void 0===e?e:String(e)},T=function(){return"$0"==="a".replace(/./,"$0")}(),I=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),E=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,n){var s=I?"$":"$0";return[function(e,n){var i=f(this),s=void 0==e?void 0:g(e,b);return s?r(s,e,i,n):r(t,d(i),e,n)},function(e,r){var o=l(this),a=d(e);if("string"==typeof r&&-1===k(r,s)&&-1===k(r,"$<")){var f=n(t,o,a,r);if(f.done)return f.value}var g=c(r);g||(r=d(r));var y=o.global;if(y){var b=o.unicode;o.lastIndex=0}var T=[];while(1){var I=v(o,a);if(null===I)break;if(S(T,I),!y)break;var E=d(I[0]);""===E&&(o.lastIndex=p(a,h(o.lastIndex),b))}for(var P="",R=0,L=0;L<T.length;L++){I=T[L];for(var N=d(I[0]),O=x(w(u(I.index),a.length),0),M=[],D=1;D<I.length;D++)S(M,A(I[D]));var F=I.groups;if(g){var z=_([N],M,O,a);void 0!==F&&S(z,F);var B=d(i(r,void 0,z))}else B=m(N,a,O,M,F,r);O>=R&&(P+=C(a,R,O)+B,R=O+N.length)}return P+C(a,R)}]}),!E||!T||I)},5231:(e,t,n)=>{"use strict";var i=n(8086),r=n(8600),s=n(6675),o=i.aTypedArray,a=i.exportTypedArrayMethod;a("at",(function(e){var t=o(this),n=r(t),i=s(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:t[a]}))},7725:(e,t,n)=>{"use strict";var i=n(8086),r=n(5408),s=n(7385),o=n(4239),a=n(6654),l=n(1636),c=n(8814),u=i.aTypedArray,h=i.exportTypedArrayMethod,d=l("".slice),f=c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e}));h("fill",(function(e){var t=arguments.length;u(this);var n="Big"===d(o(this),0,3)?s(e):+e;return a(r,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),f)},9359:(e,t,n)=>{"use strict";var i=n(3834),r=n(6654),s=n(8086),o=n(8600),a=n(4084),l=n(8332),c=n(8814),u=i.RangeError,h=i.Int8Array,d=h&&h.prototype,f=d&&d.set,p=s.aTypedArray,g=s.exportTypedArrayMethod,m=!c((function(){var e=new Uint8ClampedArray(2);return r(f,e,{length:1,0:3},1),3!==e[1]})),v=m&&s.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){p(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=l(e);if(m)return r(f,this,n,t);var i=this.length,s=o(n),c=0;if(s+t>i)throw u("Wrong length");while(c<s)this[t+c]=n[c++]}),!m||v)},6408:(e,t,n)=>{"use strict";var i=n(3834),r=n(1636),s=n(8814),o=n(8762),a=n(7085),l=n(8086),c=n(259),u=n(1280),h=n(1418),d=n(7433),f=l.aTypedArray,p=l.exportTypedArrayMethod,g=i.Uint16Array,m=g&&r(g.prototype.sort),v=!!m&&!(s((function(){m(new g(2),null)}))&&s((function(){m(new g(2),{})}))),y=!!m&&!s((function(){if(h)return h<74;if(c)return c<67;if(u)return!0;if(d)return d<602;var e,t,n=new g(516),i=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,i[e]=e-2*t+3;for(m(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==i[e])return!0})),b=function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}};p("sort",(function(e){return void 0!==e&&o(e),y?m(this,e):a(f(this),b(e))}),!y||v)},8170:(e,t,n)=>{var i=n(8532);i("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},702:(e,t,n)=>{var i=n(3834),r=n(5243),s=n(210),o=n(8998),a=n(4722),l=n(4103),c=l("iterator"),u=l("toStringTag"),h=o.values,d=function(e,t){if(e){if(e[c]!==h)try{a(e,c,h)}catch(i){e[c]=h}if(e[u]||a(e,u,t),r[t])for(var n in o)if(e[n]!==o[n])try{a(e,n,o[n])}catch(i){e[n]=o[n]}}};for(var f in r)d(i[f]&&i[f].prototype,f);d(s,"DOMTokenList")},8623:(e,t,n)=>{"use strict";n(8998);var i=n(6943),r=n(3834),s=n(6654),o=n(1636),a=n(4133),l=n(211),c=n(4076),u=n(2714),h=n(2365),d=n(1551),f=n(780),p=n(8406),g=n(6107),m=n(2924),v=n(6158),y=n(4239),b=n(616),x=n(1419),w=n(6975),_=n(5267),S=n(3386),k=n(4021),C=n(3395),A=n(5809),T=n(4103),I=n(7085),E=T("iterator"),P="URLSearchParams",R=P+"Iterator",L=f.set,N=f.getterFor(P),O=f.getterFor(R),M=Object.getOwnPropertyDescriptor,D=function(e){if(!a)return r[e];var t=M(r,e);return t&&t.value},F=D("fetch"),z=D("Request"),B=D("Headers"),q=z&&z.prototype,V=B&&B.prototype,H=r.RegExp,U=r.TypeError,j=r.decodeURIComponent,Y=r.encodeURIComponent,W=o("".charAt),X=o([].join),$=o([].push),G=o("".replace),K=o([].shift),Z=o([].splice),Q=o("".split),J=o("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=H("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return j(e)}catch(t){return e}},re=function(e){var t=G(e,ee," "),n=4;try{return j(t)}catch(i){while(n)t=G(t,ne(n--),ie);return t}},se=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ae=function(e){return oe[e]},le=function(e){return G(Y(e),se,ae)},ce=d((function(e,t){L(this,{type:R,iterator:k(N(e).entries),kind:t})}),"Iterator",(function(){var e=O(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n}),!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(x(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===W(e,0)?J(e,1):e:w(e)))};ue.prototype={type:P,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,i,r,o,a,l,c=C(e);if(c){t=k(e,c),n=t.next;while(!(i=s(n,t)).done){if(r=k(b(i.value)),o=r.next,(a=s(o,r)).done||(l=s(o,r)).done||!s(o,r).done)throw U("Expected sequence with length 2");$(this.entries,{key:w(a.value),value:w(l.value)})}}else for(var u in e)m(e,u)&&$(this.entries,{key:u,value:w(e[u])})},parseQuery:function(e){if(e){var t,n,i=Q(e,"&"),r=0;while(r<i.length)t=i[r++],t.length&&(n=Q(t,"="),$(this.entries,{key:re(K(n)),value:re(X(n,"="))}))}},serialize:function(){var e,t=this.entries,n=[],i=0;while(i<t.length)e=t[i++],$(n,le(e.key)+"="+le(e.value));return X(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){p(this,de);var e=arguments.length>0?arguments[0]:void 0;L(this,new ue(e))},de=he.prototype;if(u(de,{append:function(e,t){A(arguments.length,2);var n=N(this);$(n.entries,{key:w(e),value:w(t)}),n.updateURL()},delete:function(e){A(arguments.length,1);var t=N(this),n=t.entries,i=w(e),r=0;while(r<n.length)n[r].key===i?Z(n,r,1):r++;t.updateURL()},get:function(e){A(arguments.length,1);for(var t=N(this).entries,n=w(e),i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){A(arguments.length,1);for(var t=N(this).entries,n=w(e),i=[],r=0;r<t.length;r++)t[r].key===n&&$(i,t[r].value);return i},has:function(e){A(arguments.length,1);var t=N(this).entries,n=w(e),i=0;while(i<t.length)if(t[i++].key===n)return!0;return!1},set:function(e,t){A(arguments.length,1);for(var n,i=N(this),r=i.entries,s=!1,o=w(e),a=w(t),l=0;l<r.length;l++)n=r[l],n.key===o&&(s?Z(r,l--,1):(s=!0,n.value=a));s||$(r,{key:o,value:a}),i.updateURL()},sort:function(){var e=N(this);I(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,n=N(this).entries,i=v(e,arguments.length>1?arguments[1]:void 0),r=0;while(r<n.length)t=n[r++],i(t.value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(de,E,de.entries,{name:"entries"}),c(de,"toString",(function(){return N(this).serialize()}),{enumerable:!0}),h(he,P),i({global:!0,constructor:!0,forced:!l},{URLSearchParams:he}),!l&&g(B)){var fe=o(V.has),pe=o(V.set),ge=function(e){if(x(e)){var t,n=e.body;if(y(n)===P)return t=e.headers?new B(e.headers):new B,fe(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),_(e,{body:S(0,w(n)),headers:S(0,t)})}return e};if(g(F)&&i({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return F(e,arguments.length>1?ge(arguments[1]):{})}}),g(z)){var me=function(e){return p(this,q),new z(e,arguments.length>1?ge(arguments[1]):{})};q.constructor=me,me.prototype=q,i({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:he,getState:N}},3269:(e,t,n)=>{n(8623)},6614:(e,t,n)=>{"use strict";n(7280);var i,r=n(6943),s=n(4133),o=n(211),a=n(3834),l=n(6158),c=n(1636),u=n(4076),h=n(9570),d=n(8406),f=n(2924),p=n(9804),g=n(7508),m=n(6378),v=n(6823).codeAt,y=n(2552),b=n(6975),x=n(2365),w=n(5809),_=n(8623),S=n(780),k=S.set,C=S.getterFor("URL"),A=_.URLSearchParams,T=_.getState,I=a.URL,E=a.TypeError,P=a.parseInt,R=Math.floor,L=Math.pow,N=c("".charAt),O=c(/./.exec),M=c([].join),D=c(1..toString),F=c([].pop),z=c([].push),B=c("".replace),q=c([].shift),V=c("".split),H=c("".slice),U=c("".toLowerCase),j=c([].unshift),Y="Invalid authority",W="Invalid scheme",X="Invalid host",$="Invalid port",G=/[a-z]/i,K=/[\d+-.a-z]/i,Z=/\d/,Q=/^0x/i,J=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,ne=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ie=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,se=/[\t\n\r]/g,oe=function(e){var t,n,i,r,s,o,a,l=V(e,".");if(l.length&&""==l[l.length-1]&&l.length--,t=l.length,t>4)return e;for(n=[],i=0;i<t;i++){if(r=l[i],""==r)return e;if(s=10,r.length>1&&"0"==N(r,0)&&(s=O(Q,r)?16:8,r=H(r,8==s?1:2)),""===r)o=0;else{if(!O(10==s?ee:8==s?J:te,r))return e;o=P(r,s)}z(n,o)}for(i=0;i<t;i++)if(o=n[i],i==t-1){if(o>=L(256,5-t))return null}else if(o>255)return null;for(a=F(n),i=0;i<n.length;i++)a+=n[i]*L(256,3-i);return a},ae=function(e){var t,n,i,r,s,o,a,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,d=function(){return N(e,h)};if(":"==d()){if(":"!=N(e,1))return;h+=2,c++,u=c}while(d()){if(8==c)return;if(":"!=d()){t=n=0;while(n<4&&O(te,d()))t=16*t+P(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,c>6)return;i=0;while(d()){if(r=null,i>0){if(!("."==d()&&i<4))return;h++}if(!O(Z,d()))return;while(O(Z,d())){if(s=P(d(),10),null===r)r=s;else{if(0==r)return;r=10*r+s}if(r>255)return;h++}l[c]=256*l[c]+r,i++,2!=i&&4!=i||c++}if(4!=i)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[c++]=t}else{if(null!==u)return;h++,c++,u=c}}if(null!==u){o=c-u,c=7;while(0!=c&&o>0)a=l[c],l[c--]=l[u+o-1],l[u+--o]=a}else if(8!=c)return;return l},le=function(e){for(var t=null,n=1,i=null,r=0,s=0;s<8;s++)0!==e[s]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=s),++r);return r>n&&(t=i,n=r),t},ce=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)j(t,e%256),e=R(e/256);return M(t,".")}if("object"==typeof e){for(t="",i=le(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=D(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ue={},he=p({},ue,{" ":1,'"':1,"<":1,">":1,"`":1}),de=p({},he,{"#":1,"?":1,"{":1,"}":1}),fe=p({},de,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),pe=function(e,t){var n=v(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},ge={ftp:21,file:null,http:80,https:443,ws:80,wss:443},me=function(e,t){var n;return 2==e.length&&O(G,N(e,0))&&(":"==(n=N(e,1))||!t&&"|"==n)},ve=function(e){var t;return e.length>1&&me(H(e,0,2))&&(2==e.length||"/"===(t=N(e,2))||"\\"===t||"?"===t||"#"===t)},ye=function(e){return"."===e||"%2e"===U(e)},be=function(e){return e=U(e),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},xe={},we={},_e={},Se={},ke={},Ce={},Ae={},Te={},Ie={},Ee={},Pe={},Re={},Le={},Ne={},Oe={},Me={},De={},Fe={},ze={},Be={},qe={},Ve=function(e,t,n){var i,r,s,o=b(e);if(t){if(r=this.parse(o),r)throw E(r);this.searchParams=null}else{if(void 0!==n&&(i=new Ve(n,!0)),r=this.parse(o,null,i),r)throw E(r);s=T(new A),s.bindURL(this),this.searchParams=s}};Ve.prototype={type:"URL",parse:function(e,t,n){var r,s,o,a,l=this,c=t||xe,u=0,h="",d=!1,p=!1,v=!1;e=b(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=B(e,re,"")),e=B(e,se,""),r=g(e);while(u<=r.length){switch(s=r[u],c){case xe:if(!s||!O(G,s)){if(t)return W;c=_e;continue}h+=U(s),c=we;break;case we:if(s&&(O(K,s)||"+"==s||"-"==s||"."==s))h+=U(s);else{if(":"!=s){if(t)return W;h="",c=_e,u=0;continue}if(t&&(l.isSpecial()!=f(ge,h)||"file"==h&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=h,t)return void(l.isSpecial()&&ge[l.scheme]==l.port&&(l.port=null));h="","file"==l.scheme?c=Ne:l.isSpecial()&&n&&n.scheme==l.scheme?c=Se:l.isSpecial()?c=Te:"/"==r[u+1]?(c=ke,u++):(l.cannotBeABaseURL=!0,z(l.path,""),c=ze)}break;case _e:if(!n||n.cannotBeABaseURL&&"#"!=s)return W;if(n.cannotBeABaseURL&&"#"==s){l.scheme=n.scheme,l.path=m(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,c=qe;break}c="file"==n.scheme?Ne:Ce;continue;case Se:if("/"!=s||"/"!=r[u+1]){c=Ce;continue}c=Ie,u++;break;case ke:if("/"==s){c=Ee;break}c=Fe;continue;case Ce:if(l.scheme=n.scheme,s==i)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query=n.query;else if("/"==s||"\\"==s&&l.isSpecial())c=Ae;else if("?"==s)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query="",c=Be;else{if("#"!=s){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.path.length--,c=Fe;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=m(n.path),l.query=n.query,l.fragment="",c=qe}break;case Ae:if(!l.isSpecial()||"/"!=s&&"\\"!=s){if("/"!=s){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,c=Fe;continue}c=Ee}else c=Ie;break;case Te:if(c=Ie,"/"!=s||"/"!=N(h,u+1))continue;u++;break;case Ie:if("/"!=s&&"\\"!=s){c=Ee;continue}break;case Ee:if("@"==s){d&&(h="%40"+h),d=!0,o=g(h);for(var y=0;y<o.length;y++){var x=o[y];if(":"!=x||v){var w=pe(x,fe);v?l.password+=w:l.username+=w}else v=!0}h=""}else if(s==i||"/"==s||"?"==s||"#"==s||"\\"==s&&l.isSpecial()){if(d&&""==h)return Y;u-=g(h).length+1,h="",c=Pe}else h+=s;break;case Pe:case Re:if(t&&"file"==l.scheme){c=Me;continue}if(":"!=s||p){if(s==i||"/"==s||"?"==s||"#"==s||"\\"==s&&l.isSpecial()){if(l.isSpecial()&&""==h)return X;if(t&&""==h&&(l.includesCredentials()||null!==l.port))return;if(a=l.parseHost(h),a)return a;if(h="",c=De,t)return;continue}"["==s?p=!0:"]"==s&&(p=!1),h+=s}else{if(""==h)return X;if(a=l.parseHost(h),a)return a;if(h="",c=Le,t==Re)return}break;case Le:if(!O(Z,s)){if(s==i||"/"==s||"?"==s||"#"==s||"\\"==s&&l.isSpecial()||t){if(""!=h){var _=P(h,10);if(_>65535)return $;l.port=l.isSpecial()&&_===ge[l.scheme]?null:_,h=""}if(t)return;c=De;continue}return $}h+=s;break;case Ne:if(l.scheme="file","/"==s||"\\"==s)c=Oe;else{if(!n||"file"!=n.scheme){c=Fe;continue}if(s==i)l.host=n.host,l.path=m(n.path),l.query=n.query;else if("?"==s)l.host=n.host,l.path=m(n.path),l.query="",c=Be;else{if("#"!=s){ve(M(m(r,u),""))||(l.host=n.host,l.path=m(n.path),l.shortenPath()),c=Fe;continue}l.host=n.host,l.path=m(n.path),l.query=n.query,l.fragment="",c=qe}}break;case Oe:if("/"==s||"\\"==s){c=Me;break}n&&"file"==n.scheme&&!ve(M(m(r,u),""))&&(me(n.path[0],!0)?z(l.path,n.path[0]):l.host=n.host),c=Fe;continue;case Me:if(s==i||"/"==s||"\\"==s||"?"==s||"#"==s){if(!t&&me(h))c=Fe;else if(""==h){if(l.host="",t)return;c=De}else{if(a=l.parseHost(h),a)return a;if("localhost"==l.host&&(l.host=""),t)return;h="",c=De}continue}h+=s;break;case De:if(l.isSpecial()){if(c=Fe,"/"!=s&&"\\"!=s)continue}else if(t||"?"!=s)if(t||"#"!=s){if(s!=i&&(c=Fe,"/"!=s))continue}else l.fragment="",c=qe;else l.query="",c=Be;break;case Fe:if(s==i||"/"==s||"\\"==s&&l.isSpecial()||!t&&("?"==s||"#"==s)){if(be(h)?(l.shortenPath(),"/"==s||"\\"==s&&l.isSpecial()||z(l.path,"")):ye(h)?"/"==s||"\\"==s&&l.isSpecial()||z(l.path,""):("file"==l.scheme&&!l.path.length&&me(h)&&(l.host&&(l.host=""),h=N(h,0)+":"),z(l.path,h)),h="","file"==l.scheme&&(s==i||"?"==s||"#"==s))while(l.path.length>1&&""===l.path[0])q(l.path);"?"==s?(l.query="",c=Be):"#"==s&&(l.fragment="",c=qe)}else h+=pe(s,de);break;case ze:"?"==s?(l.query="",c=Be):"#"==s?(l.fragment="",c=qe):s!=i&&(l.path[0]+=pe(s,ue));break;case Be:t||"#"!=s?s!=i&&("'"==s&&l.isSpecial()?l.query+="%27":l.query+="#"==s?"%23":pe(s,ue)):(l.fragment="",c=qe);break;case qe:s!=i&&(l.fragment+=pe(s,he));break}u++}},parseHost:function(e){var t,n,i;if("["==N(e,0)){if("]"!=N(e,e.length-1))return X;if(t=ae(H(e,1,-1)),!t)return X;this.host=t}else if(this.isSpecial()){if(e=y(e),O(ne,e))return X;if(t=oe(e),null===t)return X;this.host=t}else{if(O(ie,e))return X;for(t="",n=g(e),i=0;i<n.length;i++)t+=pe(n[i],ue);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return f(ge,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&me(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,i=e.password,r=e.host,s=e.port,o=e.path,a=e.query,l=e.fragment,c=t+":";return null!==r?(c+="//",e.includesCredentials()&&(c+=n+(i?":"+i:"")+"@"),c+=ce(r),null!==s&&(c+=":"+s)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+M(o,"/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},setHref:function(e){var t=this.parse(e);if(t)throw E(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new He(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ce(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",xe)},getUsername:function(){return this.username},setUsername:function(e){var t=g(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=pe(t[n],fe)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=pe(t[n],fe)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ce(e):ce(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Pe)},getHostname:function(){var e=this.host;return null===e?"":ce(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Re)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=b(e),""==e?this.port=null:this.parse(e,Le))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+M(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,De))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=b(e),""==e?this.query=null:("?"==N(e,0)&&(e=H(e,1)),this.query="",this.parse(e,Be)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){e=b(e),""!=e?("#"==N(e,0)&&(e=H(e,1)),this.fragment="",this.parse(e,qe)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var He=function(e){var t=d(this,Ue),n=w(arguments.length,1)>1?arguments[1]:void 0,i=k(t,new Ve(e,!1,n));s||(t.href=i.serialize(),t.origin=i.getOrigin(),t.protocol=i.getProtocol(),t.username=i.getUsername(),t.password=i.getPassword(),t.host=i.getHost(),t.hostname=i.getHostname(),t.port=i.getPort(),t.pathname=i.getPathname(),t.search=i.getSearch(),t.searchParams=i.getSearchParams(),t.hash=i.getHash())},Ue=He.prototype,je=function(e,t){return{get:function(){return C(this)[e]()},set:t&&function(e){return C(this)[t](e)},configurable:!0,enumerable:!0}};if(s&&(h(Ue,"href",je("serialize","setHref")),h(Ue,"origin",je("getOrigin")),h(Ue,"protocol",je("getProtocol","setProtocol")),h(Ue,"username",je("getUsername","setUsername")),h(Ue,"password",je("getPassword","setPassword")),h(Ue,"host",je("getHost","setHost")),h(Ue,"hostname",je("getHostname","setHostname")),h(Ue,"port",je("getPort","setPort")),h(Ue,"pathname",je("getPathname","setPathname")),h(Ue,"search",je("getSearch","setSearch")),h(Ue,"searchParams",je("getSearchParams")),h(Ue,"hash",je("getHash","setHash"))),u(Ue,"toJSON",(function(){return C(this).serialize()}),{enumerable:!0}),u(Ue,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),I){var Ye=I.createObjectURL,We=I.revokeObjectURL;Ye&&u(He,"createObjectURL",l(Ye,I)),We&&u(He,"revokeObjectURL",l(We,I))}x(He,"URL"),r({global:!0,constructor:!0,forced:!o,sham:!s},{URL:He})},4641:(e,t,n)=>{n(6614)},5992:(e,t,n)=>{"use strict";n.d(t,{hJ:()=>i.Q,v0:()=>i.n,rh:()=>i.c,w7:()=>i.y});var i=n(9619);n(5505),n(8897),n(9795),n(3513)},7258:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.Z});var i=n(9859),r="firebase",s="9.8.2";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
i.Z.registerVersion(r,s,"app-compat")},9138:(e,t,n)=>{"use strict";n.r(t);var i=n(9859),r=n(9619),s=n(5505),o=(n(8897),n(9795),n(3513));
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function a(){return window}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l=2e3;async function c(e,t,n){var i;const{BuildInfo:s}=a();(0,r.aq)(t.sessionId,"AuthEvent did not contain a session ID");const o=await p(t.sessionId),l={};return(0,r.ar)()?l["ibi"]=s.packageName:(0,r.as)()?l["apn"]=s.packageName:(0,r.at)(e,"operation-not-supported-in-this-environment"),s.displayName&&(l["appDisplayName"]=s.displayName),l["sessionId"]=o,(0,r.au)(e,n,t.type,void 0,null!==(i=t.eventId)&&void 0!==i?i:void 0,l)}async function u(e){const{BuildInfo:t}=a(),n={};(0,r.ar)()?n.iosBundleId=t.packageName:(0,r.as)()?n.androidPackageName=t.packageName:(0,r.at)(e,"operation-not-supported-in-this-environment"),await(0,r.av)(e,n)}function h(e){const{cordova:t}=a();return new Promise((n=>{t.plugins.browsertab.isAvailable((i=>{let s=null;i?t.plugins.browsertab.openUrl(e):s=t.InAppBrowser.open(e,(0,r.ap)()?"_blank":"_system","location=yes"),n(s)}))}))}async function d(e,t,n){const{cordova:i}=a();let s=()=>{};try{await new Promise(((o,a)=>{let c=null;function u(){var e;o();const t=null===(e=i.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function h(){c||(c=window.setTimeout((()=>{a((0,r.aw)(e,"redirect-cancelled-by-user"))}),l))}function d(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&h()}t.addPassiveListener(u),document.addEventListener("resume",h,!1),(0,r.as)()&&document.addEventListener("visibilitychange",d,!1),s=()=>{t.removePassiveListener(u),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",d,!1),c&&window.clearTimeout(c)}}))}finally{s()}}function f(e){var t,n,i,s,o,l,c,u,h,d;const f=a();(0,r.ax)("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,r.ax)("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,r.ax)("function"===typeof(null===(o=null===(s=null===(i=null===f||void 0===f?void 0:f.cordova)||void 0===i?void 0:i.plugins)||void 0===s?void 0:s.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.ax)("function"===typeof(null===(u=null===(c=null===(l=null===f||void 0===f?void 0:f.cordova)||void 0===l?void 0:l.plugins)||void 0===c?void 0:c.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.ax)("function"===typeof(null===(d=null===(h=null===f||void 0===f?void 0:f.cordova)||void 0===h?void 0:h.InAppBrowser)||void 0===d?void 0:d.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function p(e){const t=g(e),n=await crypto.subtle.digest("SHA-256",t),i=Array.from(new Uint8Array(n));return i.map((e=>e.toString(16).padStart(2,"0"))).join("")}function g(e){if((0,r.aq)(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m=20;class v extends r.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}function y(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:_(),postBody:null,tenantId:e.tenantId,error:(0,r.aw)(e,"no-auth-event")}}function b(e,t){return S()._set(k(e),t)}async function x(e){const t=await S()._get(k(e));return t&&await S()._remove(k(e)),t}function w(e,t){var n,i;const s=A(t);if(s.includes("/__/auth/callback")){const t=T(s),o=t["firebaseError"]?C(decodeURIComponent(t["firebaseError"])):null,a=null===(i=null===(n=null===o||void 0===o?void 0:o["code"])||void 0===n?void 0:n.split("auth/"))||void 0===i?void 0:i[1],l=a?(0,r.aw)(a):null;return l?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:s,postBody:null}}return null}function _(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<m;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function S(){return(0,r.ay)(r.b)}function k(e){return(0,r.az)("authEvent",e.config.apiKey,e.name)}function C(e){try{return JSON.parse(e)}catch(t){return null}}function A(e){const t=T(e),n=t["link"]?decodeURIComponent(t["link"]):void 0,i=T(n)["link"],r=t["deep_link_id"]?decodeURIComponent(t["deep_link_id"]):void 0,s=T(r)["link"];return s||r||i||n||e}function T(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I=500;class E{constructor(){this._redirectPersistence=r.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=r.aB,this._overrideRedirectResult=r.aC}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new v(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){(0,r.at)(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,i){f(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),(0,r.aD)(),await this._originValidation(e);const o=y(e,n,i);await b(e,o);const a=await c(e,o,t),l=await h(a);return d(e,s,l)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=u(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:r}=a(),s=setTimeout((async()=>{await x(e),t.onEvent(R())}),I),o=async n=>{clearTimeout(s);const i=await x(e);let r=null;i&&(null===n||void 0===n?void 0:n["url"])&&(r=w(i,n["url"])),t.onEvent(r||R())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const l=i,c=`${r.packageName.toLowerCase()}://`;a().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&o({url:e}),"function"===typeof l)try{l(e)}catch(t){console.error(t)}}}}const P=E;function R(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,r.aw)("no-auth-event")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(e,t){(0,r.aE)(e)._logFramework(t)}var N="@firebase/auth-compat",O="0.2.15";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const M=1e3;function D(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function F(){return"http:"===D()||"https:"===D()}function z(e=(0,s.z$)()){return!("file:"!==D()&&"ionic:"!==D()&&"capacitor:"!==D()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function B(){return(0,s.b$)()||(0,s.UG)()}function q(){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)}function V(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}function H(e=(0,s.z$)()){return q()||V(e)}function U(){try{const e=self.localStorage,t=r.aI();if(e)return e["setItem"](t,"1"),e["removeItem"](t),!H()||(0,s.hl)()}catch(e){return j()&&(0,s.hl)()}return!1}function j(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Y(){return(F()||(0,s.ru)()||z())&&!B()&&U()&&!j()}function W(){return z()&&"undefined"!==typeof document}async function X(){return!!W()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),M);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}function $(){return"undefined"!==typeof window?window:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={LOCAL:"local",NONE:"none",SESSION:"session"},K=r.ax,Z="persistence";function Q(e,t){K(Object.values(G).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?K(t!==G.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?K(t===G.NONE,e,"unsupported-persistence-type"):j()?K(t===G.NONE||t===G.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):K(t===G.NONE||U(),e,"unsupported-persistence-type")}async function J(e){await e._initializationPromise;const t=te(),n=r.az(Z,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function ee(e,t){const n=te();if(!n)return[];const i=r.az(Z,e,t),s=n.getItem(i);switch(s){case G.NONE:return[r.L];case G.LOCAL:return[r.i,r.a];case G.SESSION:return[r.a];default:return[]}}function te(){var e;try{return(null===(e=$())||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=r.ax;class ie{constructor(){this.browserResolver=r.ay(r.k),this.cordovaResolver=r.ay(P),this.underlyingResolver=null,this._redirectPersistence=r.a,this._completeRedirectFn=r.aB,this._overrideRedirectResult=r.aC}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,i)}async _openRedirect(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return W()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ne(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await X();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(e){return e.unwrap()}function se(e){return e.wrapped()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(e){return le(e)}function ae(e,t){var n;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code){const n=t;n.resolver=new he(e,r.an(e,t))}else if(i){const e=le(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}function le(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return r.P.credentialFromResult(e);const n=t.providerId;if(!n||n===r.o.PASSWORD)return null;let i;switch(n){case r.o.GOOGLE:i=r.Q;break;case r.o.FACEBOOK:i=r.N;break;case r.o.GITHUB:i=r.T;break;case r.o.TWITTER:i=r.W;break;default:const{oauthIdToken:e,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=t;return s||o||e||a?a?n.startsWith("saml.")?r.aL._create(n,a):r.J._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:s}):new r.U(n).credential({idToken:e,accessToken:s,rawNonce:l}):null}return e instanceof s.ZR?i.credentialFromError(e):i.credentialFromResult(e)}function ce(e,t){return t.catch((t=>{throw t instanceof s.ZR&&ae(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:oe(e),additionalUserInfo:r.al(e),user:de.getOrCreate(n)}}))}async function ue(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ce(e,n.confirm(t))}}class he{constructor(e,t){this.resolver=t,this.auth=se(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ce(re(this.auth),this.resolver.resolveSignIn(e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this._delegate=e,this.multiFactor=r.ao(e)}static getOrCreate(e){return de.USER_MAP.has(e)||de.USER_MAP.set(e,new de(e)),de.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ce(this.auth,r.Z(this._delegate,e))}async linkWithPhoneNumber(e,t){return ue(this.auth,r.l(this._delegate,e,t))}async linkWithPopup(e){return ce(this.auth,r.d(this._delegate,e,ie))}async linkWithRedirect(e){return await J(r.aE(this.auth)),r.g(this._delegate,e,ie)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ce(this.auth,r._(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return ue(this.auth,r.r(this._delegate,e,t))}reauthenticateWithPopup(e){return ce(this.auth,r.e(this._delegate,e,ie))}async reauthenticateWithRedirect(e){return await J(r.aE(this.auth)),r.h(this._delegate,e,ie)}sendEmailVerification(e){return r.ab(this._delegate,e)}async unlink(e){return await r.ak(this._delegate,e),this}updateEmail(e){return r.ag(this._delegate,e)}updatePassword(e){return r.ah(this._delegate,e)}updatePhoneNumber(e){return r.u(this._delegate,e)}updateProfile(e){return r.af(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return r.ac(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}de.USER_MAP=new WeakMap;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const fe=r.ax;class pe{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;fe(n,"invalid-api-key",{appName:e.name}),fe(n,"invalid-api-key",{appName:e.name});const i="undefined"!==typeof window?ie:void 0;this._delegate=t.initialize({options:{persistence:me(n,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(r.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?de.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){r.G(this._delegate,e,t)}applyActionCode(e){return r.a2(this._delegate,e)}checkActionCode(e){return r.a3(this._delegate,e)}confirmPasswordReset(e,t){return r.a1(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ce(this._delegate,r.a5(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return r.aa(this._delegate,e)}isSignInWithEmailLink(e){return r.a8(this._delegate,e)}async getRedirectResult(){fe(Y(),this._delegate,"operation-not-supported-in-this-environment");const e=await r.j(this._delegate,ie);return e?ce(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){L(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:i,error:r,complete:s}=ge(e,t,n);return this._delegate.onAuthStateChanged(i,r,s)}onIdTokenChanged(e,t,n){const{next:i,error:r,complete:s}=ge(e,t,n);return this._delegate.onIdTokenChanged(i,r,s)}sendSignInLinkToEmail(e,t){return r.a7(this._delegate,e,t)}sendPasswordResetEmail(e,t){return r.a0(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(Q(this._delegate,e),e){case G.SESSION:t=r.a;break;case G.LOCAL:const e=await r.ay(r.i)._isAvailable();t=e?r.i:r.b;break;case G.NONE:t=r.L;break;default:return r.at("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ce(this._delegate,r.X(this._delegate))}signInWithCredential(e){return ce(this._delegate,r.Y(this._delegate,e))}signInWithCustomToken(e){return ce(this._delegate,r.$(this._delegate,e))}signInWithEmailAndPassword(e,t){return ce(this._delegate,r.a6(this._delegate,e,t))}signInWithEmailLink(e,t){return ce(this._delegate,r.a9(this._delegate,e,t))}signInWithPhoneNumber(e,t){return ue(this._delegate,r.s(this._delegate,e,t))}async signInWithPopup(e){return fe(Y(),this._delegate,"operation-not-supported-in-this-environment"),ce(this._delegate,r.c(this._delegate,e,ie))}async signInWithRedirect(e){return fe(Y(),this._delegate,"operation-not-supported-in-this-environment"),await J(this._delegate),r.f(this._delegate,e,ie)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return r.a4(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function ge(e,t,n){let i=e;"function"!==typeof e&&({next:i,error:t,complete:n}=e);const r=i,s=e=>r(e&&de.getOrCreate(e));return{next:s,error:t,complete:n}}function me(e,t){const n=ee(e,t);if("undefined"===typeof self||n.includes(r.i)||n.push(r.i),"undefined"!==typeof window)for(const i of[r.b,r.a])n.includes(i)||n.push(i);return n.includes(r.L)||n.push(r.L),n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pe.Persistence=G;class ve{constructor(){this.providerId="phone",this._delegate=new r.P(re(i.Z.auth()))}static credential(e,t){return r.P.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ve.PHONE_SIGN_IN_METHOD=r.P.PHONE_SIGN_IN_METHOD,ve.PROVIDER_ID=r.P.PROVIDER_ID;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ye=r.ax;class be{constructor(e,t,n=i.Z.app()){var s;ye(null===(s=n.options)||void 0===s?void 0:s.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new r.R(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe="auth-compat";function we(e){e.INTERNAL.registerComponent(new o.wA(xe,(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new pe(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:r.A.EMAIL_SIGNIN,PASSWORD_RESET:r.A.PASSWORD_RESET,RECOVER_EMAIL:r.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:r.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:r.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:r.A.VERIFY_EMAIL}},EmailAuthProvider:r.M,FacebookAuthProvider:r.N,GithubAuthProvider:r.T,GoogleAuthProvider:r.Q,OAuthProvider:r.U,SAMLAuthProvider:r.V,PhoneAuthProvider:ve,PhoneMultiFactorGenerator:r.m,RecaptchaVerifier:be,TwitterAuthProvider:r.W,Auth:pe,AuthCredential:r.H,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion(N,O)}we(i.Z)},8210:(e,t,n)=>{"use strict";n.r(t);var i=n(9859),r=n(3513),s=n(8897),o=n(5505),a=n(9795);const l="@firebase/database",c="0.13.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let u="";function h(e){u=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new d(t)}}catch(t){}return new f},g=p("localStorage"),m=p("sessionStorage"),v=new a.Yd("@firebase/database"),y=function(){let e=1;return function(){return e++}}(),b=function(e){const t=(0,o.dS)(e),n=new o.gQ;n.update(t);const i=n.digest();return o.US.encodeByteArray(i)},x=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&"object"===typeof i&&"number"===typeof i.length?t+=x.apply(null,i):t+="object"===typeof i?(0,o.Pz)(i):i,t+=" "}return t};let w=null,_=!0;const S=function(e,t){(0,o.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=a["in"].VERBOSE,w=v.log.bind(v),t&&m.set("logging_enabled",!0)):"function"===typeof e?w=e:(w=null,m.remove("logging_enabled"))},k=function(...e){if(!0===_&&(_=!1,null===w&&!0===m.get("logging_enabled")&&S(!0)),w){const t=x.apply(null,e);w(t)}},C=function(e){return function(...t){k(e,...t)}},A=function(...e){const t="FIREBASE INTERNAL ERROR: "+x(...e);v.error(t)},T=function(...e){const t=`FIREBASE FATAL ERROR: ${x(...e)}`;throw v.error(t),new Error(t)},I=function(...e){const t="FIREBASE WARNING: "+x(...e);v.warn(t)},E=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},P=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},R=function(e){if((0,o.Yr)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},L="[MIN_NAME]",N="[MAX_NAME]",O=function(e,t){if(e===t)return 0;if(e===L||t===N)return-1;if(t===L||e===N)return 1;{const n=X(e),i=X(t);return null!==n?null!==i?n-i===0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},M=function(e,t){return e===t?0:e<t?-1:1},D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))},F=function(e){if("object"!==typeof e||null===e)return(0,o.Pz)(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=(0,o.Pz)(t[i]),n+=":",n+=F(e[t[i]]);return n+="}",n},z=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function B(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const q=function(e){(0,o.hu)(!P(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let r,s,a,l,c;0===e?(s=0,a=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=l+i,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-i-n))));const u=[];for(c=n;c;c-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(r?1:0),u.reverse();const h=u.join("");let d="";for(c=0;c<64;c+=8){let e=parseInt(h.substr(c,8),2).toString(16);1===e.length&&(e="0"+e),d+=e}return d.toLowerCase()},V=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},H=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI};function U(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const j=new RegExp("^-?(0*)\\d{1,10}$"),Y=-2147483648,W=2147483647,X=function(e){if(j.test(e)){const t=Number(e);if(t>=Y&&t<=W)return t}return null},$=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw I("Exception was thrown by user callback.",e),t}),Math.floor(0))}},G=function(){const e="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},K=function(e,t){const n=setTimeout(e,t);return"object"===typeof n&&n["unref"]&&n["unref"](),n};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Z{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){I(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(k("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',I(e)}}class J{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}J.OWNER="owner";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ee="5",te="v",ne="s",ie="r",re="f",se=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oe="ls",ae="p",le="ac",ce="websocket",ue="long_polling";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class he{constructor(e,t,n,i,r=!1,s="",o=!1){this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=g.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&g.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function de(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function fe(e,t,n){let i;if((0,o.hu)("string"===typeof t,"typeof type must == string"),(0,o.hu)("object"===typeof n,"typeof params must == object"),t===ce)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ue)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}de(e)&&(n["ns"]=e.namespace);const r=[];return B(n,((e,t)=>{r.push(e+"="+t)})),i+r.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,o.p$)(this.counters_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={},me={};function ve(e){const t=e.toString();return ge[t]||(ge[t]=new pe),ge[t]}function ye(e,t){const n=e.toString();return me[n]||(me[n]=t()),me[n]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){this.pendingResponses[e]=t;while(this.pendingResponses[this.currentResponseNum]){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&$((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe="start",we="close",_e="pLPCommand",Se="pRTLPCB",ke="id",Ce="pw",Ae="ser",Te="cb",Ie="seg",Ee="ts",Pe="d",Re="dframe",Le=1870,Ne=30,Oe=Le-Ne,Me=25e3,De=3e4;class Fe{constructor(e,t,n,i,r,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(e),this.stats_=ve(t),this.urlFn=e=>(this.appCheckToken&&(e[le]=this.appCheckToken),fe(t,ue,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new be(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(De)),R((()=>{if(this.isClosed_)return;this.scriptTagHolder=new ze(((...e)=>{const[t,n,i,r,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===xe)this.id=n,this.password=i;else{if(t!==we)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[xe]="t",e[Ae]=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e[Te]=this.scriptTagHolder.uniqueCallbackIdentifier),e[te]=ee,this.transportSessionId&&(e[ne]=this.transportSessionId),this.lastSessionId&&(e[oe]=this.lastSessionId),this.applicationId&&(e[ae]=this.applicationId),this.appCheckToken&&(e[le]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&se.test(location.hostname)&&(e[ie]=re);const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fe.forceAllow_=!0}static forceDisallow(){Fe.forceDisallow_=!0}static isAvailable(){return!(0,o.Yr)()&&(!!Fe.forceAllow_||!Fe.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!V()&&!H())}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,o.h$)(t),i=z(n,Oe);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,o.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={};n[Re]="t",n[ke]=e,n[Ce]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,o.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ze{constructor(e,t,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=y(),window[_e+this.uniqueCallbackIdentifier]=e,window[Se+this.uniqueCallbackIdentifier]=t,this.myIFrame=ze.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){const e=document.domain;n='<script>document.domain="'+e+'";<\/script>'}const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(r){k("frame writing exception"),r.stack&&k(r.stack),k(r)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{const t=e.contentWindow.document;t||k("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){this.myID=e,this.myPW=t,this.alive=!0;while(this.newRequest_());}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ke]=this.myID,e[Ce]=this.myPW,e[Ae]=this.currentSerial;let t=this.urlFn(e),n="",i=0;while(this.pendingSegs.length>0){const e=this.pendingSegs[0];if(!(e.d.length+Ne+n.length<=Le))break;{const e=this.pendingSegs.shift();n=n+"&"+Ie+i+"="+e.seg+"&"+Ee+i+"="+e.ts+"&"+Pe+i+"="+e.d,i++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(Me)),r=()=>{clearTimeout(i),n()};this.addTag(e,r)}addTag(e,t){(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{k("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be=16384,qe=45e3;let Ve=null;"undefined"!==typeof MozWebSocket?Ve=MozWebSocket:"undefined"!==typeof WebSocket&&(Ve=WebSocket);class He{constructor(e,t,n,i,r,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=ve(t),this.connURL=He.connectionURL_(t,s,o,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,r){const s={};return s[te]=ee,!(0,o.Yr)()&&"undefined"!==typeof location&&location.hostname&&se.test(location.hostname)&&(s[ie]=re),t&&(s[ne]=t),n&&(s[oe]=n),i&&(s[le]=i),r&&(s[ae]=r),fe(e,ce,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,g.set("previous_websocket_failure",!0);try{let e;if((0,o.Yr)()){const e=this.nodeAdmin?"AdminNode":"Node",t={headers:{"User-Agent":`Firebase/${ee}/${u}/${process.platform}/${e}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(t.headers["Authorization"]=`Bearer ${this.authToken}`),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n=process["env"],i=0===this.connURL.indexOf("wss://")?n["HTTPS_PROXY"]||n["https_proxy"]:n["HTTP_PROXY"]||n["http_proxy"];i&&(t["proxy"]={origin:i})}this.mySock=new Ve(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){He.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ve&&!He.forceDisallow_}static previouslyFailed(){return g.isInMemoryStorage||!0===g.get("previous_websocket_failure")}markConnectionHealthy(){g.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,o.cI)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e["data"];if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=z(t,Be);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(qe))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}He.responsesRequiredToBeHealthy=2,He.healthyTimeout=3e4;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ue{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fe,He]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=He&&He["isAvailable"]();let n=t&&!He.previouslyFailed();if(e.webSocketOnly&&(t||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[He];else{const e=this.transports_=[];for(const t of Ue.ALL_TRANSPORTS)t&&t["isAvailable"]()&&e.push(t);Ue.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ue.globalTransportInitialized_=!1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const je=6e4,Ye=5e3,We=10240,Xe=102400,$e="t",Ge="d",Ke="s",Ze="r",Qe="e",Je="o",et="a",tt="n",nt="p",it="h";class rt{constructor(e,t,n,i,r,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new Ue(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const i=e["healthyTimeout"]||0;i>0&&(this.healthyTimeout_=K((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Xe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>We?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if($e in e){const t=e[$e];t===et?this.upgradeIfSecondaryHealthy_():t===Ze?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===Je&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=D("t",e),n=D("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:nt,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:et,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tt,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=D("t",e),n=D("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=D($e,e);if(Ge in e){const n=e[Ge];if(t===it)this.onHandshake_(n);else if(t===tt){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Ke?this.onConnectionShutdown_(n):t===Ze?this.onReset_(n):t===Qe?A("Server Error: "+n):t===Je?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):A("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ee!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),K((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(je))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):K((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(Ye))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:nt,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(g.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(e){(0,o.hu)(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at extends ot{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new at}getInitialEvent(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt=32,ct=768;class ut{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ht(){return new ut("")}function dt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ft(e){return e.pieces_.length-e.pieceNum_}function pt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ut(e.pieces_,t)}function gt(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function mt(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function vt(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function yt(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ut(t,0)}function bt(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof ut)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new ut(n,0)}function xt(e){return e.pieceNum_>=e.pieces_.length}function wt(e,t){const n=dt(e),i=dt(t);if(null===n)return t;if(n===i)return wt(pt(e),pt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function _t(e,t){const n=vt(e,0),i=vt(t,0);for(let r=0;r<n.length&&r<i.length;r++){const e=O(n[r],i[r]);if(0!==e)return e}return n.length===i.length?0:n.length<i.length?-1:1}function St(e,t){if(ft(e)!==ft(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function kt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(ft(e)>ft(t))return!1;while(n<e.pieces_.length){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Ct{constructor(e,t){this.errorPrefix_=t,this.parts_=vt(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);It(this)}}function At(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.ug)(t),It(e)}function Tt(e){const t=e.parts_.pop();e.byteLength_-=(0,o.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}function It(e){if(e.byteLength_>ct)throw new Error(e.errorPrefix_+"has a key path longer than "+ct+" bytes ("+e.byteLength_+").");if(e.parts_.length>lt)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lt+") or object contains a cycle "+Et(e))}function Et(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt extends ot{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(t="visibilitychange",e="hidden"):"undefined"!==typeof document["mozHidden"]?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document["msHidden"]?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Pt}getInitialEvent(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt=1e3,Lt=3e5,Nt=3e3,Ot=3e4,Mt=1.3,Dt=3e4,Ft="server_kill",zt=3;class Bt extends st{constructor(e,t,n,i,r,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Bt.nextPersistentConnectionId_++,this.log_=C("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Rt,this.maxReconnectDelay_=Lt,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pt.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&at.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_((0,o.Pz)(r)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new o.BH,n={p:e._path.toString(),q:e._queryObject},i={action:"g",request:n,onComplete:e=>{const i=e["d"];"ok"===e["s"]?(this.onDataUpdate_(n["p"],i,!1,null),t.resolve(i)):t.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_||setTimeout((()=>{const e=this.outstandingGets_[r];void 0!==e&&i===e&&(delete this.outstandingGets_[r],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+r+" timed out on connection"),t.reject(new Error("Client is offline.")))}),Nt),this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,i){this.initConnection_();const r=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(s).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const r={p:n},s="q";e.tag&&(r["q"]=t._queryObject,r["t"]=e.tag),r["h"]=e.hashFn(),this.sendRequest(s,r,(r=>{const s=r["d"],o=r["s"];Bt.warnOnListenWarnings_(s,t);const a=this.listens.get(n)&&this.listens.get(n).get(i);a===e&&(this.log_("listen response",r),"ok"!==o&&this.removeListen_(n,i),e.onComplete&&e.onComplete(o,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&(0,o.r3)(e,"w")){const n=(0,o.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();I(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){const t=e&&40===e.length;(t||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ot)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,o.w9)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n["noauth"]=!0:"object"===typeof this.authOverride_&&(n["authvar"]=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t["s"],i=t["d"]||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e["s"],n=e["d"]||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");const r=this.removeListen_(n,i);r&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const r={p:e},s="n";i&&(r["q"]=n,r["t"]=i),this.sendRequest(s,r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,(e=>{i&&setTimeout((()=>{i(e["s"],e["d"])}),Math.floor(0))}))}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,r){this.initConnection_();const s={p:t,d:n};void 0!==r&&(s["h"]=r),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n["s"],n["d"])}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{const t=e["s"];if("ok"!==t){const t=e["d"];this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));const t=e["r"],n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e["b"]))}else{if("error"in e)throw"A server-side error has occurred: "+e["error"];"a"in e&&this.onDataPush_(e["a"],e["b"])}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t["p"],t["d"],!1,t["t"]):"m"===e?this.onDataUpdate_(t["p"],t["d"],!0,t["t"]):"c"===e?this.onListenRevoked_(t["p"],t["q"]):"ac"===e?this.onAuthRevoked_(t["s"],t["d"]):"apc"===e?this.onAppCheckRevoked_(t["s"],t["d"]):"sd"===e?this.onSecurityDebugPacket_(t):A("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rt,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Rt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){const e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>Dt&&(this.reconnectDelay_=Rt),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Mt)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Bt.nextConnectionId_++,r=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,n())},c=function(e){(0,o.hu)(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?k("getToken() completed but was canceled"):(k("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=l&&l.token,a=new rt(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{I(e+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ft)}),r))}catch(A){this.log_("Failed to get token: "+A),s||(this.repoInfo_.nodeAdmin&&I(A),l())}}}interrupt(e){k("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){k("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Rt,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>F(e))).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new ut(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){k("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zt&&(this.reconnectDelay_=Ot,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){k("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zt&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e["msg"].replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);while(this.onDisconnectRequestQueue_.length){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,o.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=at.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e}}Bt.nextPersistentConnectionId_=0,Bt.nextConnectionId_=0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new qt(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new qt(L,e),i=new qt(L,t);return 0!==this.compare(n,i)}minPost(){return qt.MIN}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ht;class Ut extends Vt{static get __EMPTY_NODE(){return Ht}static set __EMPTY_NODE(e){Ht=e}compare(e,t){return O(e.name,t.name)}isDefinedOn(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return qt.MIN}maxPost(){return new qt(N,Ht)}makePost(e,t){return(0,o.hu)("string"===typeof e,"KeyIndex indexValue must always be a string."),new qt(e,Ht)}toString(){return".key"}}const jt=new Ut;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t,n,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let s=1;while(!e.isEmpty())if(s=t?n(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_){t=t.left;while(!t.isEmpty())this.nodeStack_.push(t),t=t.right}else{t=t.right;while(!t.isEmpty())this.nodeStack_.push(t),t=t.left}return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Wt{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:Wt.RED,this.left=null!=i?i:$t.EMPTY_NODE,this.right=null!=r?r:$t.EMPTY_NODE}copy(e,t,n,i,r){return new Wt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return $t.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return $t.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Wt.RED=!0,Wt.BLACK=!1;class Xt{copy(e,t,n,i,r){return this}insert(e,t,n){return new Wt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $t{constructor(e,t=$t.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new $t(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Wt.BLACK,null,null))}remove(e){return new $t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wt.BLACK,null,null))}get(e){let t,n=this.root_;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Yt(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Yt(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Yt(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Yt(this.root_,null,this.comparator_,!0,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Gt(e,t){return O(e.name,t.name)}function Kt(e,t){return O(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zt;function Qt(e){Zt=e}$t.EMPTY_NODE=new Xt;const Jt=function(e){return"number"===typeof e?"number:"+q(e):"string:"+e},en=function(e){if(e.isLeafNode()){const t=e.val();(0,o.hu)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")}else(0,o.hu)(e===Zt||e.isEmpty(),"priority of unexpected type.");(0,o.hu)(e===Zt||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let tn,nn,rn;class sn{constructor(e,t=sn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),en(this.priorityNode_)}static set __childrenNodeConstructor(e){tn=e}static get __childrenNodeConstructor(){return tn}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new sn(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xt(e)?this:".priority"===dt(e)?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:sn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=dt(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,o.hu)(".priority"!==n||1===ft(e),".priority must be the last token in a path"),this.updateImmediateChild(n,sn.__childrenNodeConstructor.EMPTY_NODE.updateChild(pt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Jt(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?q(this.value_):this.value_,this.lazyHash_=b(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===sn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof sn.__childrenNodeConstructor?-1:((0,o.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=sn.VALUE_TYPE_ORDER.indexOf(t),r=sn.VALUE_TYPE_ORDER.indexOf(n);return(0,o.hu)(i>=0,"Unknown leaf type: "+t),(0,o.hu)(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}function on(e){nn=e}function an(e){rn=e}sn.VALUE_TYPE_ORDER=["object","boolean","number","string"];class ln extends Vt{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?O(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return qt.MIN}maxPost(){return new qt(N,new sn("[PRIORITY-POST]",rn))}makePost(e,t){const n=nn(e);return new qt(t,new sn("[PRIORITY-POST]",n))}toString(){return".priority"}}const cn=new ln,un=Math.log(2);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){const t=e=>parseInt(Math.log(e)/un,10),n=e=>parseInt(Array(e+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=n(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const dn=function(e,t,n,i){e.sort(t);const r=function(t,i){const s=i-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Wt(a,o.node,Wt.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=r(t,l),u=r(l+1,i);return o=e[l],a=n?n(o):o,new Wt(a,o.node,Wt.BLACK,c,u)}},s=function(t){let i=null,s=null,o=e.length;const a=function(t,i){const s=o-t,a=o;o-=t;const c=r(s+1,a),u=e[s],h=n?n(u):u;l(new Wt(h,u.node,i,null,c))},l=function(e){i?(i.left=e,i=e):(s=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?a(i,Wt.BLACK):(a(i,Wt.BLACK),a(i,Wt.RED))}return s},o=new hn(e.length),a=s(o);return new $t(i||t,a)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn;const pn={};class gn{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,o.hu)(pn&&cn,"ChildrenNode.ts has not been loaded"),fn=fn||new gn({".priority":pn},{".priority":cn}),fn}get(e){const t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof $t?t:null}hasIndex(e){return(0,o.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,o.hu)(e!==jt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=t.getIterator(qt.Wrap);let s,a=r.getNext();while(a)i=i||e.isDefinedOn(a.node),n.push(a),a=r.getNext();s=i?dn(n,e.getCompare()):pn;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=s,new gn(u,c)}addToIndexes(e,t){const n=(0,o.UI)(this.indexes_,((n,i)=>{const r=(0,o.DV)(this.indexSet_,i);if((0,o.hu)(r,"Missing index implementation for "+i),n===pn){if(r.isDefinedOn(e.node)){const n=[],i=t.getIterator(qt.Wrap);let s=i.getNext();while(s)s.name!==e.name&&n.push(s),s=i.getNext();return n.push(e),dn(n,r.getCompare())}return pn}{const i=t.get(e.name);let r=n;return i&&(r=r.remove(new qt(e.name,i))),r.insert(e,e.node)}}));return new gn(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,o.UI)(this.indexes_,(n=>{if(n===pn)return n;{const i=t.get(e.name);return i?n.remove(new qt(e.name,i)):n}}));return new gn(n,this.indexSet_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mn;class vn{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&en(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return mn||(mn=new vn(new $t(Kt),null,gn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mn}updatePriority(e){return this.children_.isEmpty()?this:new vn(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?mn:t}}getChild(e){const t=dt(e);return null===t?this:this.getImmediateChild(t).getChild(pt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,o.hu)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new qt(e,t);let i,r;t.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(n,this.children_));const s=i.isEmpty()?mn:this.priorityNode_;return new vn(i,s,r)}}updateChild(e,t){const n=dt(e);if(null===n)return t;{(0,o.hu)(".priority"!==dt(e)||1===ft(e),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(pt(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,r=!0;if(this.forEachChild(cn,((s,o)=>{t[s]=o.val(e),n++,r&&vn.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):r=!1})),!e&&r&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Jt(this.getPriority().val())+":"),this.forEachChild(cn,((t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)})),this.lazyHash_=""===e?"":b(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new qt(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new qt(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new qt(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,qt.Wrap);let i=n.peek();while(null!=i&&t.compare(i,e)<0)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,qt.Wrap);let i=n.peek();while(null!=i&&t.compare(i,e)>0)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bn?-1:0}withIndex(e){if(e===jt||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new vn(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===jt||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(cn),n=t.getIterator(cn);let i=e.getNext(),r=n.getNext();while(i&&r){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=e.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(e){return e===jt?null:this.indexMap_.get(e.toString())}}vn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yn extends vn{constructor(){super(new $t(Kt),vn.EMPTY_NODE,gn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return vn.EMPTY_NODE}isEmpty(){return!1}}const bn=new yn;Object.defineProperties(qt,{MIN:{value:new qt(L,vn.EMPTY_NODE)},MAX:{value:new qt(N,bn)}}),Ut.__EMPTY_NODE=vn.EMPTY_NODE,sn.__childrenNodeConstructor=vn,Qt(bn),an(bn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const xn=!0;function wn(e,t=null){if(null===e)return vn.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){const n=e;return new sn(n,wn(t))}if(e instanceof Array||!xn){let n=vn.EMPTY_NODE;return B(e,((t,i)=>{if((0,o.r3)(e,t)&&"."!==t.substring(0,1)){const e=wn(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(wn(t))}{const n=[];let i=!1;const r=e;if(B(r,((e,t)=>{if("."!==e.substring(0,1)){const r=wn(t);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new qt(e,r)))}})),0===n.length)return vn.EMPTY_NODE;const s=dn(n,Gt,(e=>e.name),Kt);if(i){const e=dn(n,cn.getCompare());return new vn(s,wn(t),new gn({".priority":e},{".priority":cn}))}return new vn(s,wn(t),gn.Default)}}on(wn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _n extends Vt{constructor(e){super(),this.indexPath_=e,(0,o.hu)(!xt(e)&&".priority"!==dt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?O(e.name,t.name):r}makePost(e,t){const n=wn(e),i=vn.EMPTY_NODE.updateChild(this.indexPath_,n);return new qt(t,i)}maxPost(){const e=vn.EMPTY_NODE.updateChild(this.indexPath_,bn);return new qt(N,e)}toString(){return vt(this.indexPath_,0).join("/")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn extends Vt{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?O(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return qt.MIN}maxPost(){return qt.MAX}makePost(e,t){const n=wn(e);return new qt(t,n)}toString(){return".value"}}const kn=new Sn,Cn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",An="-",Tn="z",In=786,En=function(){let e=0;const t=[];return function(n){const i=n===e;let r;e=n;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Cn.charAt(n%64),n=Math.floor(n/64);(0,o.hu)(0===n,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=Cn.charAt(t[r]);return(0,o.hu)(20===a.length,"nextPushId: Length should be 20."),a}}(),Pn=function(e){if(e===""+W)return An;const t=X(e);if(null!=t)return""+(t+1);const n=new Array(e.length);for(let o=0;o<n.length;o++)n[o]=e.charAt(o);if(n.length<In)return n.push(An),n.join("");let i=n.length-1;while(i>=0&&n[i]===Tn)i--;if(-1===i)return N;const r=n[i],s=Cn.charAt(Cn.indexOf(r)+1);return n[i]=s,n.slice(0,i+1).join("")},Rn=function(e){if(e===""+Y)return L;const t=X(e);if(null!=t)return""+(t-1);const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e.charAt(i);return n[n.length-1]===An?1===n.length?""+W:(delete n[n.length-1],n.join("")):(n[n.length-1]=Cn.charAt(Cn.indexOf(n[n.length-1])-1),n.join("")+Tn.repeat(In-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ln(e){return{type:"value",snapshotNode:e}}function Nn(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function On(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Mn(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Dn(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.index_=e}updateChild(e,t,n,i,r,s){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(On(t,a)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Nn(t,n)):s.trackChildChange(Mn(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(cn,((e,i)=>{t.hasChild(e)||n.trackChildChange(On(e,i))})),t.isLeafNode()||t.forEachChild(cn,((t,i)=>{if(e.hasChild(t)){const r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(Mn(t,i,r))}else n.trackChildChange(Nn(t,i))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?vn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.indexedFilter_=new Fn(e.getIndex()),this.index_=e.getIndex(),this.startPost_=zn.getStartPost_(e),this.endPost_=zn.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,i,r,s){return this.matches(new qt(t,n))||(n=vn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=vn.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(vn.EMPTY_NODE);const r=this;return t.forEachChild(cn,((e,t)=>{r.matches(new qt(e,t))||(i=i.updateImmediateChild(e,vn.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.rangedFilter_=new zn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,i,r,s){return this.rangedFilter_.matches(new qt(t,n))||(n=vn.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,s):this.fullLimitUpdateChild_(e,t,n,r,s)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=vn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=vn.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;while(e.hasNext()&&n<this.limit_){const t=e.getNext();let r;if(r=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!r)break;i=i.updateImmediateChild(t.name,t.node),n++}}else{let e,n,r,s;if(i=t.withIndex(this.index_),i=i.updatePriority(vn.EMPTY_NODE),this.reverse_){s=i.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();r=(e,n)=>t(n,e)}else s=i.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),r=this.index_.getCompare();let o=0,a=!1;while(s.hasNext()){const t=s.getNext();!a&&r(e,t)<=0&&(a=!0);const l=a&&o<this.limit_&&r(t,n)<=0;l?o++:i=i.updateImmediateChild(t.name,vn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,r){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const a=e;(0,o.hu)(a.numChildren()===this.limit_,"");const l=new qt(t,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const e=a.getImmediateChild(t);let o=i.getChildAfterChild(this.index_,c,this.reverse_);while(null!=o&&(o.name===t||a.hasChild(o.name)))o=i.getChildAfterChild(this.index_,o,this.reverse_);const h=null==o?1:s(o,l),d=u&&!n.isEmpty()&&h>=0;if(d)return null!=r&&r.trackChildChange(Mn(t,n,e)),a.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(On(t,e));const n=a.updateImmediateChild(t,vn.EMPTY_NODE),i=null!=o&&this.rangedFilter_.matches(o);return i?(null!=r&&r.trackChildChange(Nn(o.name,o.node)),n.updateImmediateChild(o.name,o.node)):n}}return n.isEmpty()?e:u&&s(c,l)>=0?(null!=r&&(r.trackChildChange(On(c.name,c.node)),r.trackChildChange(Nn(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(c.name,vn.EMPTY_NODE)):e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=cn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:L}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===cn}copy(){const e=new qn;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Vn(e){return e.loadsAllData()?new Fn(e.getIndex()):e.hasLimit()?new Bn(e):new zn(e)}function Hn(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function Un(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function jn(e,t,n){const i=e.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function Yn(e,t,n){let i;if(e.index_===jt)"string"===typeof t&&(t=Pn(t)),i=jn(e,t,n);else{let r;r=null==n?N:Pn(n),i=jn(e,t,r)}return i.startAfterSet_=!0,i}function Wn(e,t,n){const i=e.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function Xn(e,t,n){let i,r;return e.index_===jt?("string"===typeof t&&(t=Rn(t)),r=Wn(e,t,n)):(i=null==n?L:Rn(n),r=Wn(e,t,i)),r.endBeforeSet_=!0,r}function $n(e,t){const n=e.copy();return n.index_=t,n}function Gn(e){const t={};if(e.isDefault())return t;let n;return e.index_===cn?n="$priority":e.index_===kn?n="$value":e.index_===jt?n="$key":((0,o.hu)(e.index_ instanceof _n,"Unrecognized index type!"),n=e.index_.toString()),t["orderBy"]=(0,o.Pz)(n),e.startSet_&&(t["startAt"]=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(t["startAt"]+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(t["endAt"]=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(t["endAt"]+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t["limitToFirst"]=e.limit_:t["limitToLast"]=e.limit_),t}function Kn(e){const t={};if(e.startSet_&&(t["sp"]=e.indexStartValue_,e.startNameSet_&&(t["sn"]=e.indexStartName_)),e.endSet_&&(t["ep"]=e.indexEndValue_,e.endNameSet_&&(t["en"]=e.indexEndName_)),e.limitSet_){t["l"]=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t["vf"]=n}return e.index_!==cn&&(t["i"]=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends st{constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=C("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const s=Zn.getListenId_(e,n),a={};this.listens_[s]=a;const l=Gn(e._queryParams);this.restRequest_(r+".json",l,((e,t)=>{let l=t;if(404===e&&(l=null,e=null),null===e&&this.onDataUpdate_(r,l,!1,n),(0,o.DV)(this.listens_,s)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(t,null)}}))}unlisten(e,t){const n=Zn.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Gn(e._queryParams),n=e._path.toString(),i=new o.BH;return this.restRequest_(n+".json",t,((e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))})),i.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([i,r])=>{i&&i.accessToken&&(t["auth"]=i.accessToken),r&&r.token&&(t["ac"]=r.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,o.xO)(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=(0,o.cI)(a.responseText)}catch(e){I("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&I("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(){this.rootNode_=vn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return{value:null,children:new Map}}function ei(e,t,n){if(xt(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=dt(t);e.children.has(i)||e.children.set(i,Jn());const r=e.children.get(i);t=pt(t),ei(r,t,n)}}function ti(e,t){if(xt(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(cn,((t,n)=>{ei(e,new ut(t),n)})),ti(e,t)}}if(e.children.size>0){const n=dt(t);if(t=pt(t),e.children.has(n)){const i=ti(e.children.get(n),t);i&&e.children.delete(n)}return 0===e.children.size}return!0}function ni(e,t,n){null!==e.value?n(t,e.value):ii(e,((e,i)=>{const r=new ut(t.toString()+"/"+e);ni(i,r,n)}))}function ii(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&B(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=1e4,oi=3e4,ai=3e5;class li{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ri(e);const n=si+(oi-si)*Math.random();K(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;B(e,((e,i)=>{i>0&&(0,o.r3)(this.statsToReport_,e)&&(t[e]=i,n=!0)})),n&&this.server_.reportStats(t),K(this.reportStats_.bind(this),Math.floor(2*Math.random()*ai))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci;function ui(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function hi(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function di(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["OVERWRITE"]=0]="OVERWRITE",e[e["MERGE"]=1]="MERGE",e[e["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",e[e["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(ci||(ci={}));class fi{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ci.ACK_USER_WRITE,this.source=ui()}operationForChild(e){if(xt(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ut(e));return new fi(ht(),t,this.revert)}}return(0,o.hu)(dt(this.path)===e,"operationForChild called for unrelated child."),new fi(pt(this.path),this.affectedTree,this.revert)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t){this.source=e,this.path=t,this.type=ci.LISTEN_COMPLETE}operationForChild(e){return xt(this.path)?new pi(this.source,ht()):new pi(this.source,pt(this.path))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ci.OVERWRITE}operationForChild(e){return xt(this.path)?new gi(this.source,ht(),this.snap.getImmediateChild(e)):new gi(this.source,pt(this.path),this.snap)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ci.MERGE}operationForChild(e){if(xt(this.path)){const t=this.children.subtree(new ut(e));return t.isEmpty()?null:t.value?new gi(this.source,ht(),t.value):new mi(this.source,ht(),t)}return(0,o.hu)(dt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new mi(this.source,pt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xt(e))return this.isFullyInitialized()&&!this.filtered_;const t=dt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function bi(e,t,n,i){const r=[],s=[];return t.forEach((t=>{"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push(Dn(t.childName,t.snapshotNode))})),xi(e,r,"child_removed",t,i,n),xi(e,r,"child_added",t,i,n),xi(e,r,"child_moved",s,i,n),xi(e,r,"child_changed",t,i,n),xi(e,r,"value",t,i,n),r}function xi(e,t,n,i,r,s){const o=i.filter((e=>e.type===n));o.sort(((t,n)=>_i(e,t,n))),o.forEach((n=>{const i=wi(e,n,s);r.forEach((r=>{r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))}))}))}function wi(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function _i(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");const i=new qt(t.childName,t.snapshotNode),r=new qt(n.childName,n.snapshotNode);return e.index_.compare(i,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(e,t){return{eventCache:e,serverCache:t}}function ki(e,t,n,i){return Si(new vi(t,n,i),e.serverCache)}function Ci(e,t,n,i){return Si(e.eventCache,new vi(t,n,i))}function Ai(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ti(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ii;const Ei=()=>(Ii||(Ii=new $t(M)),Ii);class Pi{constructor(e,t=Ei()){this.value=e,this.children=t}static fromObject(e){let t=new Pi(null);return B(e,((e,n)=>{t=t.set(new ut(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ht(),value:this.value};if(xt(e))return null;{const n=dt(e),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(pt(e),t);if(null!=r){const e=bt(new ut(n),r.path);return{path:e,value:r.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(xt(e))return this;{const t=dt(e),n=this.children.get(t);return null!==n?n.subtree(pt(e)):new Pi(null)}}set(e,t){if(xt(e))return new Pi(t,this.children);{const n=dt(e),i=this.children.get(n)||new Pi(null),r=i.set(pt(e),t),s=this.children.insert(n,r);return new Pi(this.value,s)}}remove(e){if(xt(e))return this.children.isEmpty()?new Pi(null):new Pi(null,this.children);{const t=dt(e),n=this.children.get(t);if(n){const i=n.remove(pt(e));let r;return r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty()?new Pi(null):new Pi(this.value,r)}return this}}get(e){if(xt(e))return this.value;{const t=dt(e),n=this.children.get(t);return n?n.get(pt(e)):null}}setTree(e,t){if(xt(e))return t;{const n=dt(e),i=this.children.get(n)||new Pi(null),r=i.setTree(pt(e),t);let s;return s=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Pi(this.value,s)}}fold(e){return this.fold_(ht(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((i,r)=>{n[i]=r.fold_(bt(e,i),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ht(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(xt(e))return null;{const i=dt(e),r=this.children.get(i);return r?r.findOnPath_(pt(e),bt(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ht(),t)}foreachOnPath_(e,t,n){if(xt(e))return this;{this.value&&n(t,this.value);const i=dt(e),r=this.children.get(i);return r?r.foreachOnPath_(pt(e),bt(t,i),n):new Pi(null)}}foreach(e){this.foreach_(ht(),e)}foreach_(e,t){this.children.inorderTraversal(((n,i)=>{i.foreach_(bt(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.writeTree_=e}static empty(){return new Ri(new Pi(null))}}function Li(e,t,n){if(xt(t))return new Ri(new Pi(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const o=wt(r,t);return s=s.updateChild(o,n),new Ri(e.writeTree_.set(r,s))}{const i=new Pi(n),r=e.writeTree_.setTree(t,i);return new Ri(r)}}}function Ni(e,t,n){let i=e;return B(n,((e,n)=>{i=Li(i,bt(t,e),n)})),i}function Oi(e,t){if(xt(t))return Ri.empty();{const n=e.writeTree_.setTree(t,new Pi(null));return new Ri(n)}}function Mi(e,t){return null!=Di(e,t)}function Di(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(wt(n.path,t)):null}function Fi(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(cn,((e,n)=>{t.push(new qt(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new qt(e,n.value))})),t}function zi(e,t){if(xt(t))return e;{const n=Di(e,t);return new Ri(null!=n?new Pi(n):e.writeTree_.subtree(t))}}function Bi(e){return e.writeTree_.isEmpty()}function qi(e,t){return Vi(ht(),e.writeTree_,t)}function Vi(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal(((t,r)=>{".priority"===t?((0,o.hu)(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=Vi(bt(e,t),r,n)})),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(bt(e,".priority"),i)),n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(e,t){return hr(t,e)}function Ui(e,t,n,i,r){(0,o.hu)(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Li(e.visibleWrites,t,n)),e.lastWriteId=i}function ji(e,t,n,i){(0,o.hu)(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Ni(e.visibleWrites,t,n),e.lastWriteId=i}function Yi(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function Wi(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,s=!1,a=e.allWrites.length-1;while(r&&a>=0){const t=e.allWrites[a];t.visible&&(a>=n&&Xi(t,i.path)?r=!1:kt(i.path,t.path)&&(s=!0)),a--}if(r){if(s)return $i(e),!0;if(i.snap)e.visibleWrites=Oi(e.visibleWrites,i.path);else{const t=i.children;B(t,(t=>{e.visibleWrites=Oi(e.visibleWrites,bt(i.path,t))}))}return!0}return!1}function Xi(e,t){if(e.snap)return kt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&kt(bt(e.path,n),t))return!0;return!1}function $i(e){e.visibleWrites=Ki(e.allWrites,Gi,ht()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Gi(e){return e.visible}function Ki(e,t,n){let i=Ri.empty();for(let r=0;r<e.length;++r){const s=e[r];if(t(s)){const e=s.path;let t;if(s.snap)kt(n,e)?(t=wt(n,e),i=Li(i,t,s.snap)):kt(e,n)&&(t=wt(e,n),i=Li(i,ht(),s.snap.getChild(t)));else{if(!s.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(kt(n,e))t=wt(n,e),i=Ni(i,t,s.children);else if(kt(e,n))if(t=wt(e,n),xt(t))i=Ni(i,ht(),s.children);else{const e=(0,o.DV)(s.children,dt(t));if(e){const n=e.getChild(pt(t));i=Li(i,ht(),n)}}}}}return i}function Zi(e,t,n,i,r){if(i||r){const s=zi(e.visibleWrites,t);if(!r&&Bi(s))return n;if(r||null!=n||Mi(s,ht())){const s=function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(kt(e.path,t)||kt(t,e.path))},o=Ki(e.allWrites,s,t),a=n||vn.EMPTY_NODE;return qi(o,a)}return null}{const i=Di(e.visibleWrites,t);if(null!=i)return i;{const i=zi(e.visibleWrites,t);if(Bi(i))return n;if(null!=n||Mi(i,ht())){const e=n||vn.EMPTY_NODE;return qi(i,e)}return null}}}function Qi(e,t,n){let i=vn.EMPTY_NODE;const r=Di(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(cn,((e,t)=>{i=i.updateImmediateChild(e,t)})),i;if(n){const r=zi(e.visibleWrites,t);return n.forEachChild(cn,((e,t)=>{const n=qi(zi(r,new ut(e)),t);i=i.updateImmediateChild(e,n)})),Fi(r).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}{const n=zi(e.visibleWrites,t);return Fi(n).forEach((e=>{i=i.updateImmediateChild(e.name,e.node)})),i}}function Ji(e,t,n,i,r){(0,o.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=bt(t,n);if(Mi(e.visibleWrites,s))return null;{const t=zi(e.visibleWrites,s);return Bi(t)?r.getChild(n):qi(t,r.getChild(n))}}function er(e,t,n,i){const r=bt(t,n),s=Di(e.visibleWrites,r);if(null!=s)return s;if(i.isCompleteForChild(n)){const t=zi(e.visibleWrites,r);return qi(t,i.getNode().getImmediateChild(n))}return null}function tr(e,t){return Di(e.visibleWrites,t)}function nr(e,t,n,i,r,s,o){let a;const l=zi(e.visibleWrites,t),c=Di(l,ht());if(null!=c)a=c;else{if(null==n)return[];a=qi(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let l=n.getNext();while(l&&e.length<r)0!==t(l,i)&&e.push(l),l=n.getNext();return e}}function ir(){return{visibleWrites:Ri.empty(),allWrites:[],lastWriteId:-1}}function rr(e,t,n,i){return Zi(e.writeTree,e.treePath,t,n,i)}function sr(e,t){return Qi(e.writeTree,e.treePath,t)}function or(e,t,n,i){return Ji(e.writeTree,e.treePath,t,n,i)}function ar(e,t){return tr(e.writeTree,bt(e.treePath,t))}function lr(e,t,n,i,r,s){return nr(e.writeTree,e.treePath,t,n,i,r,s)}function cr(e,t,n){return er(e.writeTree,e.treePath,t,n)}function ur(e,t){return hr(bt(e.treePath,t),e.writeTree)}function hr(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,Mn(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,On(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,Nn(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,Mn(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}}const pr=new fr;class gr{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new vi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cr(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ti(this.viewCache_),r=lr(this.writes_,i,t,1,n,e);return 0===r.length?null:r[0]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(e){return{filter:e}}function vr(e,t){(0,o.hu)(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function yr(e,t,n,i,r){const s=new dr;let a,l;if(n.type===ci.OVERWRITE){const c=n;c.source.fromUser?a=_r(e,t,c.path,c.snap,i,r,s):((0,o.hu)(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!xt(c.path),a=wr(e,t,c.path,c.snap,i,r,l,s))}else if(n.type===ci.MERGE){const c=n;c.source.fromUser?a=kr(e,t,c.path,c.children,i,r,s):((0,o.hu)(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered(),a=Ar(e,t,c.path,c.children,i,r,l,s))}else if(n.type===ci.ACK_USER_WRITE){const o=n;a=o.revert?Er(e,t,o.path,i,r,s):Tr(e,t,o.path,o.affectedTree,i,r,s)}else{if(n.type!==ci.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=Ir(e,t,n.path,i,s)}const c=s.getChanges();return br(t,a,c),{viewCache:a,changes:c}}function br(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Ai(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(Ln(Ai(t)))}}function xr(e,t,n,i,r,s){const a=t.eventCache;if(null!=ar(i,n))return t;{let l,c;if(xt(n))if((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Ti(t),r=n instanceof vn?n:vn.EMPTY_NODE,o=sr(i,r);l=e.filter.updateFullNode(t.eventCache.getNode(),o,s)}else{const n=rr(i,Ti(t));l=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const u=dt(n);if(".priority"===u){(0,o.hu)(1===ft(n),"Can't have a priority with additional path components");const r=a.getNode();c=t.serverCache.getNode();const s=or(i,n,r,c);l=null!=s?e.filter.updatePriority(r,s):a.getNode()}else{const o=pt(n);let h;if(a.isCompleteForChild(u)){c=t.serverCache.getNode();const e=or(i,n,a.getNode(),c);h=null!=e?a.getNode().getImmediateChild(u).updateChild(o,e):a.getNode().getImmediateChild(u)}else h=cr(i,u,t.serverCache);l=null!=h?e.filter.updateChild(a.getNode(),u,h,o,r,s):a.getNode()}}return ki(t,l,a.isFullyInitialized()||xt(n),e.filter.filtersNodes())}}function wr(e,t,n,i,r,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(xt(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),e,null)}else{const e=dt(n);if(!l.isCompleteForPath(n)&&ft(n)>1)return t;const r=pt(n),s=l.getNode().getImmediateChild(e),o=s.updateChild(r,i);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,r,pr,null)}const h=Ci(t,c,l.isFullyInitialized()||xt(n),u.filtersNodes()),d=new gr(r,h,s);return xr(e,h,n,r,d,a)}function _r(e,t,n,i,r,s,o){const a=t.eventCache;let l,c;const u=new gr(r,t,s);if(xt(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=ki(t,c,!0,e.filter.filtersNodes());else{const r=dt(n);if(".priority"===r)c=e.filter.updatePriority(t.eventCache.getNode(),i),l=ki(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=pt(n),c=a.getNode().getImmediateChild(r);let h;if(xt(s))h=i;else{const e=u.getCompleteChild(r);h=null!=e?".priority"===gt(s)&&e.getChild(yt(s)).isEmpty()?e:e.updateChild(s,i):vn.EMPTY_NODE}if(c.equals(h))l=t;else{const n=e.filter.updateChild(a.getNode(),r,h,s,u,o);l=ki(t,n,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Sr(e,t){return e.eventCache.isCompleteForChild(t)}function kr(e,t,n,i,r,s,o){let a=t;return i.foreach(((i,l)=>{const c=bt(n,i);Sr(t,dt(c))&&(a=_r(e,a,c,l,r,s,o))})),i.foreach(((i,l)=>{const c=bt(n,i);Sr(t,dt(c))||(a=_r(e,a,c,l,r,s,o))})),a}function Cr(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Ar(e,t,n,i,r,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=xt(n)?i:new Pi(null).setTree(n,i);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,i)=>{if(u.hasChild(n)){const l=t.serverCache.getNode().getImmediateChild(n),u=Cr(e,l,i);c=wr(e,c,new ut(n),u,r,s,o,a)}})),l.children.inorderTraversal(((n,i)=>{const l=!t.serverCache.isCompleteForChild(n)&&void 0===i.value;if(!u.hasChild(n)&&!l){const l=t.serverCache.getNode().getImmediateChild(n),u=Cr(e,l,i);c=wr(e,c,new ut(n),u,r,s,o,a)}})),c}function Tr(e,t,n,i,r,s,o){if(null!=ar(r,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(xt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return wr(e,t,n,l.getNode().getChild(n),r,s,a,o);if(xt(n)){let i=new Pi(null);return l.getNode().forEachChild(jt,((e,t)=>{i=i.set(new ut(e),t)})),Ar(e,t,n,i,r,s,a,o)}return t}{let c=new Pi(null);return i.foreach(((e,t)=>{const i=bt(n,e);l.isCompleteForPath(i)&&(c=c.set(e,l.getNode().getChild(i)))})),Ar(e,t,n,c,r,s,a,o)}}function Ir(e,t,n,i,r){const s=t.serverCache,o=Ci(t,s.getNode(),s.isFullyInitialized()||xt(n),s.isFiltered());return xr(e,o,n,i,pr,r)}function Er(e,t,n,i,r,s){let a;if(null!=ar(i,n))return t;{const l=new gr(i,t,r),c=t.eventCache.getNode();let u;if(xt(n)||".priority"===dt(n)){let n;if(t.serverCache.isFullyInitialized())n=rr(i,Ti(t));else{const e=t.serverCache.getNode();(0,o.hu)(e instanceof vn,"serverChildren would be complete if leaf node"),n=sr(i,e)}u=e.filter.updateFullNode(c,n,s)}else{const r=dt(n);let o=cr(i,r,t.serverCache);null==o&&t.serverCache.isCompleteForChild(r)&&(o=c.getImmediateChild(r)),u=null!=o?e.filter.updateChild(c,r,o,pt(n),l,s):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(c,r,vn.EMPTY_NODE,pt(n),l,s):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=rr(i,Ti(t)),a.isLeafNode()&&(u=e.filter.updateFullNode(u,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=ar(i,ht()),ki(t,u,a,e.filter.filtersNodes())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new Fn(n.getIndex()),r=Vn(n);this.processor_=mr(r);const s=t.serverCache,o=t.eventCache,a=i.updateFullNode(vn.EMPTY_NODE,s.getNode(),null),l=r.updateFullNode(vn.EMPTY_NODE,o.getNode(),null),c=new vi(a,s.isFullyInitialized(),i.filtersNodes()),u=new vi(l,o.isFullyInitialized(),r.filtersNodes());this.viewCache_=Si(u,c),this.eventGenerator_=new yi(this.query_)}get query(){return this.query_}}function Rr(e){return e.viewCache_.serverCache.getNode()}function Lr(e){return Ai(e.viewCache_)}function Nr(e,t){const n=Ti(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!xt(t)&&!n.getImmediateChild(dt(t)).isEmpty())?n.getChild(t):null}function Or(e){return 0===e.eventRegistrations_.length}function Mr(e,t){e.eventRegistrations_.push(t)}function Dr(e,t,n){const i=[];if(n){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,r);t&&i.push(t)}))}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const r=e.eventRegistrations_[i];if(r.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(r)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function Fr(e,t,n,i){t.type===ci.MERGE&&null!==t.source.queryId&&((0,o.hu)(Ti(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(Ai(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,s=yr(e.processor_,r,t,n,i);return vr(e.processor_,s.viewCache),(0,o.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Br(e,s.changes,s.viewCache.eventCache.getNode(),null)}function zr(e,t){const n=e.viewCache_.eventCache,i=[];if(!n.getNode().isLeafNode()){const e=n.getNode();e.forEachChild(cn,((e,t)=>{i.push(Nn(e,t))}))}return n.isFullyInitialized()&&i.push(Ln(n.getNode())),Br(e,i,n.getNode(),t)}function Br(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return bi(e.eventGenerator_,t,n,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qr,Vr;class Hr{constructor(){this.views=new Map}}function Ur(e){(0,o.hu)(!qr,"__referenceConstructor has already been defined"),qr=e}function jr(){return(0,o.hu)(qr,"Reference.ts has not been loaded"),qr}function Yr(e){return 0===e.views.size}function Wr(e,t,n,i){const r=t.source.queryId;if(null!==r){const s=e.views.get(r);return(0,o.hu)(null!=s,"SyncTree gave us an op for an invalid query."),Fr(s,t,n,i)}{let r=[];for(const s of e.views.values())r=r.concat(Fr(s,t,n,i));return r}}function Xr(e,t,n,i,r){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=rr(n,r?i:null),s=!1;e?s=!0:i instanceof vn?(e=sr(n,i),s=!1):(e=vn.EMPTY_NODE,s=!1);const o=Si(new vi(e,s,!1),new vi(i,r,!1));return new Pr(t,o)}return o}function $r(e,t,n,i,r,s){const o=Xr(e,t,i,r,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),Mr(o,n),zr(o,n)}function Gr(e,t,n,i){const r=t._queryIdentifier,s=[];let o=[];const a=es(e);if("default"===r)for(const[l,c]of e.views.entries())o=o.concat(Dr(c,n,i)),Or(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(r);t&&(o=o.concat(Dr(t,n,i)),Or(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!es(e)&&s.push(new(jr())(t._repo,t._path)),{removed:s,events:o}}function Kr(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Zr(e,t){let n=null;for(const i of e.views.values())n=n||Nr(i,t);return n}function Qr(e,t){const n=t._queryParams;if(n.loadsAllData())return ts(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Jr(e,t){return null!=Qr(e,t)}function es(e){return null!=ts(e)}function ts(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e){(0,o.hu)(!Vr,"__referenceConstructor has already been defined"),Vr=e}function is(){return(0,o.hu)(Vr,"Reference.ts has not been loaded"),Vr}let rs=1;class ss{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pi(null),this.pendingWriteTree_=ir(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function os(e,t,n,i,r){return Ui(e.pendingWriteTree_,t,n,i,r),r?bs(e,new gi(ui(),t,n)):[]}function as(e,t,n,i){ji(e.pendingWriteTree_,t,n,i);const r=Pi.fromObject(n);return bs(e,new mi(ui(),t,r))}function ls(e,t,n=!1){const i=Yi(e.pendingWriteTree_,t),r=Wi(e.pendingWriteTree_,t);if(r){let t=new Pi(null);return null!=i.snap?t=t.set(ht(),!0):B(i.children,(e=>{t=t.set(new ut(e),!0)})),bs(e,new fi(i.path,t,n))}return[]}function cs(e,t,n){return bs(e,new gi(hi(),t,n))}function us(e,t,n){const i=Pi.fromObject(n);return bs(e,new mi(hi(),t,i))}function hs(e,t){return bs(e,new pi(hi(),t))}function ds(e,t,n){const i=Cs(e,n);if(i){const n=As(i),r=n.path,s=n.queryId,o=wt(r,t),a=new pi(di(s),o);return Ts(e,r,a)}return[]}function fs(e,t,n,i){const r=t._path,s=e.syncPointTree_.get(r);let o=[];if(s&&("default"===t._queryIdentifier||Jr(s,t))){const a=Gr(s,t,n,i);Yr(s)&&(e.syncPointTree_=e.syncPointTree_.remove(r));const l=a.removed;o=a.events;const c=-1!==l.findIndex((e=>e._queryParams.loadsAllData())),u=e.syncPointTree_.findOnPath(r,((e,t)=>es(t)));if(c&&!u){const t=e.syncPointTree_.subtree(r);if(!t.isEmpty()){const n=Is(t);for(let t=0;t<n.length;++t){const i=n[t],r=i.query,s=_s(e,i);e.listenProvider_.startListening(Es(r),Ss(e,r),s.hashFn,s.onComplete)}}}if(!u&&l.length>0&&!i)if(c){const n=null;e.listenProvider_.stopListening(Es(t),n)}else l.forEach((t=>{const n=e.queryToTagMap.get(ks(t));e.listenProvider_.stopListening(Es(t),n)}));Ps(e,l)}return o}function ps(e,t,n,i){const r=Cs(e,i);if(null!=r){const i=As(r),s=i.path,o=i.queryId,a=wt(s,t),l=new gi(di(o),a,n);return Ts(e,s,l)}return[]}function gs(e,t,n,i){const r=Cs(e,i);if(r){const i=As(r),s=i.path,o=i.queryId,a=wt(s,t),l=Pi.fromObject(n),c=new mi(di(o),a,l);return Ts(e,s,c)}return[]}function ms(e,t,n){const i=t._path;let r=null,s=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=wt(e,i);r=r||Zr(t,n),s=s||es(t)}));let a,l=e.syncPointTree_.get(i);if(l?(s=s||es(l),r=r||Zr(l,ht())):(l=new Hr,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=r)a=!0;else{a=!1,r=vn.EMPTY_NODE;const t=e.syncPointTree_.subtree(i);t.foreachChild(((e,t)=>{const n=Zr(t,ht());n&&(r=r.updateImmediateChild(e,n))}))}const c=Jr(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=ks(t);(0,o.hu)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=Rs();e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}const u=Hi(e.pendingWriteTree_,i);let h=$r(l,t,n,u,r,a);if(!c&&!s){const n=Qr(l,t);h=h.concat(Ls(e,t,n))}return h}function vs(e,t,n){const i=!0,r=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,((e,n)=>{const i=wt(e,t),r=Zr(n,i);if(r)return r}));return Zi(r,t,s,n,i)}function ys(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const r=wt(e,n);i=i||Zr(t,r)}));let r=e.syncPointTree_.get(n);r?i=i||Zr(r,ht()):(r=new Hr,e.syncPointTree_=e.syncPointTree_.set(n,r));const s=null!=i,o=s?new vi(i,!0,!1):null,a=Hi(e.pendingWriteTree_,t._path),l=Xr(r,t,a,s?o.getNode():vn.EMPTY_NODE,s);return Lr(l)}function bs(e,t){return xs(t,e.syncPointTree_,null,Hi(e.pendingWriteTree_,ht()))}function xs(e,t,n,i){if(xt(e.path))return ws(e,t,n,i);{const r=t.get(ht());null==n&&null!=r&&(n=Zr(r,ht()));let s=[];const o=dt(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=ur(i,o);s=s.concat(xs(a,l,e,t))}return r&&(s=s.concat(Wr(r,e,i,n))),s}}function ws(e,t,n,i){const r=t.get(ht());null==n&&null!=r&&(n=Zr(r,ht()));let s=[];return t.children.inorderTraversal(((t,r)=>{const o=n?n.getImmediateChild(t):null,a=ur(i,t),l=e.operationForChild(t);l&&(s=s.concat(ws(l,r,o,a)))})),r&&(s=s.concat(Wr(r,e,i,n))),s}function _s(e,t){const n=t.query,i=Ss(e,n);return{hashFn:()=>{const e=Rr(t)||vn.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return i?ds(e,n._path,i):hs(e,n._path);{const i=U(t,n);return fs(e,n,null,i)}}}}function Ss(e,t){const n=ks(t);return e.queryToTagMap.get(n)}function ks(e){return e._path.toString()+"$"+e._queryIdentifier}function Cs(e,t){return e.tagToQueryMap.get(t)}function As(e){const t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ut(e.substr(0,t))}}function Ts(e,t,n){const i=e.syncPointTree_.get(t);(0,o.hu)(i,"Missing sync point for query tag that we're tracking");const r=Hi(e.pendingWriteTree_,t);return Wr(i,n,r,null)}function Is(e){return e.fold(((e,t,n)=>{if(t&&es(t)){const e=ts(t);return[e]}{let e=[];return t&&(e=Kr(t)),B(n,((t,n)=>{e=e.concat(n)})),e}}))}function Es(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(is())(e._repo,e._path):e}function Ps(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=ks(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}function Rs(){return rs++}function Ls(e,t,n){const i=t._path,r=Ss(e,t),s=_s(e,n),a=e.listenProvider_.startListening(Es(t),r,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(i);if(r)(0,o.hu)(!es(l.value),"If we're adding a query, it shouldn't be shadowed");else{const t=l.fold(((e,t,n)=>{if(!xt(e)&&t&&es(t))return[ts(t).query];{let e=[];return t&&(e=e.concat(Kr(t).map((e=>e.query)))),B(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening(Es(i),Ss(e,i))}}return a}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ns(t)}node(){return this.node_}}class Os{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=bt(this.path_,e);return new Os(this.syncTree_,t)}node(){return vs(this.syncTree_,this.path_)}}const Ms=function(e){return e=e||{},e["timestamp"]=e["timestamp"]||(new Date).getTime(),e},Ds=function(e,t,n){return e&&"object"===typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Fs(e[".sv"],t,n):"object"===typeof e[".sv"]?zs(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Fs=function(e,t,n){switch(e){case"timestamp":return n["timestamp"];default:(0,o.hu)(!1,"Unexpected server value: "+e)}},zs=function(e,t,n){e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e["increment"];"number"!==typeof i&&(0,o.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,o.hu)(null!==r&&"undefined"!==typeof r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r,a=s.getValue();return"number"!==typeof a?i:a+i},Bs=function(e,t,n,i){return Vs(t,new Os(n,e),i)},qs=function(e,t,n){return Vs(e,new Ns(t),n)};function Vs(e,t,n){const i=e.getPriority().val(),r=Ds(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const i=e,s=Ds(i.getValue(),t,n);return s!==i.getValue()||r!==i.getPriority().val()?new sn(s,wn(r)):e}{const i=e;return s=i,r!==i.getPriority().val()&&(s=s.updatePriority(new sn(r))),i.forEachChild(cn,((e,i)=>{const r=Vs(i,t.getImmediateChild(e),n);r!==i&&(s=s.updateImmediateChild(e,r))})),s}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Us(e,t){let n=t instanceof ut?t:new ut(t),i=e,r=dt(n);while(null!==r){const e=(0,o.DV)(i.node.children,r)||{children:{},childCount:0};i=new Hs(r,i,e),n=pt(n),r=dt(n)}return i}function js(e){return e.node.value}function Ys(e,t){e.node.value=t,Qs(e)}function Ws(e){return e.node.childCount>0}function Xs(e){return void 0===js(e)&&!Ws(e)}function $s(e,t){B(e.node.children,((n,i)=>{t(new Hs(n,e,i))}))}function Gs(e,t,n,i){n&&!i&&t(e),$s(e,(e=>{Gs(e,t,!0,i)})),n&&i&&t(e)}function Ks(e,t,n){let i=n?e:e.parent;while(null!==i){if(t(i))return!0;i=i.parent}return!1}function Zs(e){return new ut(null===e.parent?e.name:Zs(e.parent)+"/"+e.name)}function Qs(e){null!==e.parent&&Js(e.parent,e.name,e)}function Js(e,t,n){const i=Xs(n),r=(0,o.r3)(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,Qs(e)):i||r||(e.node.children[t]=n.node,e.node.childCount++,Qs(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=/[\[\].#$\/\u0000-\u001F\u007F]/,to=/[\[\].#$\u0000-\u001F\u007F]/,no=10485760,io=function(e){return"string"===typeof e&&0!==e.length&&!eo.test(e)},ro=function(e){return"string"===typeof e&&0!==e.length&&!to.test(e)},so=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ro(e)},oo=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!P(e)||e&&"object"===typeof e&&(0,o.r3)(e,".sv")},ao=function(e,t,n,i){i&&void 0===t||lo((0,o.gK)(e,"value"),t,n)},lo=function(e,t,n){const i=n instanceof ut?new Ct(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Et(i));if("function"===typeof t)throw new Error(e+"contains a function "+Et(i)+" with contents = "+t.toString());if(P(t))throw new Error(e+"contains "+t.toString()+" "+Et(i));if("string"===typeof t&&t.length>no/3&&(0,o.ug)(t)>no)throw new Error(e+"contains a string greater than "+no+" utf8 bytes "+Et(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,r=!1;if(B(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!io(t)))throw new Error(e+" contains an invalid key ("+t+") "+Et(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');At(i,t),lo(e,s,i),Tt(i)})),n&&r)throw new Error(e+' contains ".value" child '+Et(i)+" in addition to actual children.")}},co=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const r=vt(i);for(let t=0;t<r.length;t++)if(".priority"===r[t]&&t===r.length-1);else if(!io(r[t]))throw new Error(e+"contains an invalid key ("+r[t]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(_t);let r=null;for(n=0;n<t.length;n++){if(i=t[n],null!==r&&kt(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},uo=function(e,t,n,i){if(i&&void 0===t)return;const r=(0,o.gK)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];B(t,((e,t)=>{const i=new ut(e);if(lo(r,t,bt(n,i)),".priority"===gt(i)&&!oo(t))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(i)})),co(r,s)},ho=function(e,t,n){if(!n||void 0!==t){if(P(t))throw new Error((0,o.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!oo(t))throw new Error((0,o.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fo=function(e,t,n,i){if((!i||void 0!==n)&&!io(n))throw new Error((0,o.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},po=function(e,t,n,i){if((!i||void 0!==n)&&!ro(n))throw new Error((0,o.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},go=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),po(e,t,n,i)},mo=function(e,t){if(".info"===dt(t))throw new Error(e+" failed = Can't modify data under /.info/")},vo=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!io(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!so(n))throw new Error((0,o.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class yo{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bo(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null===n||St(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&e.eventLists_.push(n)}function xo(e,t,n){bo(e,n),_o(e,(e=>St(e,t)))}function wo(e,t,n){bo(e,n),_o(e,(e=>kt(e,t)||kt(t,e)))}function _o(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){const s=r.path;t(s)?(So(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function So(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();w&&k("event: "+n.toString()),$(i)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="repo_interrupt",Co=25;class Ao{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jn(),this.transactionQueueTree_=new Hs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function To(e,t,n){if(e.stats_=ve(e.repoInfo_),e.forceRestClient_||G())e.server_=new Zn(e.repoInfo_,((t,n,i,r)=>{Po(e,t,n,i,r)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Ro(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Bt(e.repoInfo_,t,((t,n,i,r)=>{Po(e,t,n,i,r)}),(t=>{Ro(e,t)}),(t=>{Lo(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=ye(e.repoInfo_,(()=>new li(e.stats_,e.server_))),e.infoData_=new Qn,e.infoSyncTree_=new ss({startListening:(t,n,i,r)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=cs(e.infoSyncTree_,t._path,o),setTimeout((()=>{r("ok")}),0)),s},stopListening:()=>{}}),No(e,"connected",!1),e.serverSyncTree_=new ss({startListening:(t,n,i,r)=>(e.server_.listen(t,i,n,((n,i)=>{const s=r(n,i);wo(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Io(e){const t=e.infoData_.getNode(new ut(".info/serverTimeOffset")),n=t.val()||0;return(new Date).getTime()+n}function Eo(e){return Ms({timestamp:Io(e)})}function Po(e,t,n,i,r){e.dataUpdateCount++;const s=new ut(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(r)if(i){const t=(0,o.UI)(n,(e=>wn(e)));a=gs(e.serverSyncTree_,s,t,r)}else{const t=wn(n);a=ps(e.serverSyncTree_,s,t,r)}else if(i){const t=(0,o.UI)(n,(e=>wn(e)));a=us(e.serverSyncTree_,s,t)}else{const t=wn(n);a=cs(e.serverSyncTree_,s,t)}let l=s;a.length>0&&(l=Jo(e,s)),wo(e.eventQueue_,l,a)}function Ro(e,t){No(e,"connected",t),!1===t&&zo(e)}function Lo(e,t){B(t,((t,n)=>{No(e,t,n)}))}function No(e,t,n){const i=new ut("/.info/"+t),r=wn(n);e.infoData_.updateSnapshot(i,r);const s=cs(e.infoSyncTree_,i,r);wo(e.eventQueue_,i,s)}function Oo(e){return e.nextWriteId_++}function Mo(e,t){const n=ys(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((n=>{const i=wn(n).withIndex(t._queryParams.getIndex()),r=cs(e.serverSyncTree_,t._path,i);return xo(e.eventQueue_,t._path,r),Promise.resolve(i)}),(n=>(Xo(e,"get for query "+(0,o.Pz)(t)+" failed: "+n),Promise.reject(new Error(n)))))}function Do(e,t,n,i,r){Xo(e,"set",{path:t.toString(),value:n,priority:i});const s=Eo(e),o=wn(n,i),a=vs(e.serverSyncTree_,t),l=qs(o,a,s),c=Oo(e),u=os(e.serverSyncTree_,t,l,c,!0);bo(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),((n,i)=>{const s="ok"===n;s||I("set at "+t+" failed: "+n);const o=ls(e.serverSyncTree_,c,!s);wo(e.eventQueue_,t,o),$o(e,r,n,i)}));const h=sa(e,t);Jo(e,h),wo(e.eventQueue_,h,[])}function Fo(e,t,n,i){Xo(e,"update",{path:t.toString(),value:n});let r=!0;const s=Eo(e),o={};if(B(n,((n,i)=>{r=!1,o[n]=Bs(bt(t,n),wn(i),e.serverSyncTree_,s)})),r)k("update() called with empty data.  Don't do anything."),$o(e,i,"ok",void 0);else{const r=Oo(e),s=as(e.serverSyncTree_,t,o,r);bo(e.eventQueue_,s),e.server_.merge(t.toString(),n,((n,s)=>{const o="ok"===n;o||I("update at "+t+" failed: "+n);const a=ls(e.serverSyncTree_,r,!o),l=a.length>0?Jo(e,t):t;wo(e.eventQueue_,l,a),$o(e,i,n,s)})),B(n,(n=>{const i=sa(e,bt(t,n));Jo(e,i)})),wo(e.eventQueue_,t,[])}}function zo(e){Xo(e,"onDisconnectEvents");const t=Eo(e),n=Jn();ni(e.onDisconnect_,ht(),((i,r)=>{const s=Bs(i,r,e.serverSyncTree_,t);ei(n,i,s)}));let i=[];ni(n,ht(),((t,n)=>{i=i.concat(cs(e.serverSyncTree_,t,n));const r=sa(e,t);Jo(e,r)})),e.onDisconnect_=Jn(),wo(e.eventQueue_,ht(),i)}function Bo(e,t,n){e.server_.onDisconnectCancel(t.toString(),((i,r)=>{"ok"===i&&ti(e.onDisconnect_,t),$o(e,n,i,r)}))}function qo(e,t,n,i){const r=wn(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),((n,s)=>{"ok"===n&&ei(e.onDisconnect_,t,r),$o(e,i,n,s)}))}function Vo(e,t,n,i,r){const s=wn(n,i);e.server_.onDisconnectPut(t.toString(),s.val(!0),((n,i)=>{"ok"===n&&ei(e.onDisconnect_,t,s),$o(e,r,n,i)}))}function Ho(e,t,n,i){if((0,o.xb)(n))return k("onDisconnect().update() called with empty data.  Don't do anything."),void $o(e,i,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((r,s)=>{"ok"===r&&B(n,((n,i)=>{const r=wn(i);ei(e.onDisconnect_,bt(t,n),r)})),$o(e,i,r,s)}))}function Uo(e,t,n){let i;i=".info"===dt(t._path)?ms(e.infoSyncTree_,t,n):ms(e.serverSyncTree_,t,n),xo(e.eventQueue_,t._path,i)}function jo(e,t,n){let i;i=".info"===dt(t._path)?fs(e.infoSyncTree_,t,n):fs(e.serverSyncTree_,t,n),xo(e.eventQueue_,t._path,i)}function Yo(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ko)}function Wo(e){e.persistentConnection_&&e.persistentConnection_.resume(ko)}function Xo(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),k(n,...t)}function $o(e,t,n,i){t&&$((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let r=e;i&&(r+=": "+i);const s=new Error(r);s.code=e,t(s)}}))}function Go(e,t,n,i,r,s){Xo(e,"transaction on "+t);const a={path:t,update:n,onComplete:i,status:null,order:y(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=Ko(e,t,void 0);a.currentInputSnapshot=l;const c=a.update(l.val());if(void 0===c)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{lo("transaction failed: Data returned ",c,a.path),a.status=0;const n=Us(e.transactionQueueTree_,t),i=js(n)||[];let r;if(i.push(a),Ys(n,i),"object"===typeof c&&null!==c&&(0,o.r3)(c,".priority"))r=(0,o.DV)(c,".priority"),(0,o.hu)(oo(r),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{const n=vs(e.serverSyncTree_,t)||vn.EMPTY_NODE;r=n.getPriority().val()}const s=Eo(e),u=wn(c,r),h=qs(u,l,s);a.currentOutputSnapshotRaw=u,a.currentOutputSnapshotResolved=h,a.currentWriteId=Oo(e);const d=os(e.serverSyncTree_,t,h,a.currentWriteId,a.applyLocally);wo(e.eventQueue_,t,d),Zo(e,e.transactionQueueTree_)}}function Ko(e,t,n){return vs(e.serverSyncTree_,t,n)||vn.EMPTY_NODE}function Zo(e,t=e.transactionQueueTree_){if(t||ra(e,t),js(t)){const n=na(e,t);(0,o.hu)(n.length>0,"Sending zero length transaction queue");const i=n.every((e=>0===e.status));i&&Qo(e,Zs(t),n)}else Ws(t)&&$s(t,(t=>{Zo(e,t)}))}function Qo(e,t,n){const i=n.map((e=>e.currentWriteId)),r=Ko(e,t,i);let s=r;const a=r.hash();for(let u=0;u<n.length;u++){const e=n[u];(0,o.hu)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const i=wt(t,e.path);s=s.updateChild(i,e.currentOutputSnapshotRaw)}const l=s.val(!0),c=t;e.server_.put(c.toString(),l,(i=>{Xo(e,"transaction put response",{path:c.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,r=r.concat(ls(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();ra(e,Us(e.transactionQueueTree_,t)),Zo(e,e.transactionQueueTree_),wo(e.eventQueue_,t,r);for(let e=0;e<i.length;e++)$(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{I("transaction at "+c.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}Jo(e,t)}}),a)}function Jo(e,t){const n=ta(e,t),i=Zs(n),r=na(e,n);return ea(e,r,i),i}function ea(e,t,n){if(0===t.length)return;const i=[];let r=[];const s=t.filter((e=>0===e.status)),a=s.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const s=t[l],c=wt(n,s.path);let u,h=!1;if((0,o.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)h=!0,u=s.abortReason,r=r.concat(ls(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=Co)h=!0,u="maxretry",r=r.concat(ls(e.serverSyncTree_,s.currentWriteId,!0));else{const n=Ko(e,s.path,a);s.currentInputSnapshot=n;const i=t[l].update(n.val());if(void 0!==i){lo("transaction failed: Data returned ",i,s.path);let t=wn(i);const l="object"===typeof i&&null!=i&&(0,o.r3)(i,".priority");l||(t=t.updatePriority(n.getPriority()));const c=s.currentWriteId,u=Eo(e),h=qs(t,n,u);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=h,s.currentWriteId=Oo(e),a.splice(a.indexOf(c),1),r=r.concat(os(e.serverSyncTree_,s.path,h,s.currentWriteId,s.applyLocally)),r=r.concat(ls(e.serverSyncTree_,c,!0))}else h=!0,u="nodata",r=r.concat(ls(e.serverSyncTree_,s.currentWriteId,!0))}wo(e.eventQueue_,n,r),r=[],h&&(t[l].status=2,function(e){setTimeout(e,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&("nodata"===u?i.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):i.push((()=>t[l].onComplete(new Error(u),!1,null)))))}ra(e,e.transactionQueueTree_);for(let o=0;o<i.length;o++)$(i[o]);Zo(e,e.transactionQueueTree_)}function ta(e,t){let n,i=e.transactionQueueTree_;n=dt(t);while(null!==n&&void 0===js(i))i=Us(i,n),t=pt(t),n=dt(t);return i}function na(e,t){const n=[];return ia(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function ia(e,t,n){const i=js(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);$s(t,(t=>{ia(e,t,n)}))}function ra(e,t){const n=js(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ys(t,n.length>0?n:void 0)}$s(t,(t=>{ra(e,t)}))}function sa(e,t){const n=Zs(ta(e,t)),i=Us(e.transactionQueueTree_,t);return Ks(i,(t=>{oa(e,t)})),oa(e,i),Gs(i,(t=>{oa(e,t)})),n}function oa(e,t){const n=js(t);if(n){const i=[];let r=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,o.hu)(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):((0,o.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(ls(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Ys(t,void 0):n.length=s+1,wo(e.eventQueue_,Zs(t),r);for(let e=0;e<i.length;e++)$(i[e])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(i){}t+="/"+e}return t}function la(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):I(`Invalid query segment '${n}' in query '${e}'`)}return t}const ca=function(e,t){const n=ua(e),i=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||E();const r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new he(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new ut(n.pathString)}},ua=function(e){let t="",n="",i="",r="",s="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(r=aa(e.substring(u,h)));const d=la(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=i}"ns"in d&&(s=d["ns"])}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ha{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())}}class da{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new o.BH;return Bo(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){mo("OnDisconnect.remove",this._path);const e=new o.BH;return qo(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){mo("OnDisconnect.set",this._path),ao("OnDisconnect.set",e,this._path,!1);const t=new o.BH;return qo(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){mo("OnDisconnect.setWithPriority",this._path),ao("OnDisconnect.setWithPriority",e,this._path,!1),ho("OnDisconnect.setWithPriority",t,!1);const n=new o.BH;return Vo(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){mo("OnDisconnect.update",this._path),uo("OnDisconnect.update",e,this._path,!1);const t=new o.BH;return Ho(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return xt(this._path)?null:gt(this._path)}get ref(){return new ba(this._repo,this._path)}get _queryIdentifier(){const e=Kn(this._queryParams),t=F(e);return"{}"===t?"default":t}get _queryObject(){return Kn(this._queryParams)}isEqual(e){if(e=(0,o.m9)(e),!(e instanceof ga))return!1;const t=this._repo===e._repo,n=St(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+mt(this._path)}}function ma(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function va(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===jt){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){const n=e.getIndexStartName();if(n!==L)throw new Error(i);if("string"!==typeof t)throw new Error(r)}if(e.hasEnd()){const t=e.getIndexEndName();if(t!==N)throw new Error(i);if("string"!==typeof n)throw new Error(r)}}else if(e.getIndex()===cn){if(null!=t&&!oo(t)||null!=n&&!oo(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(e.getIndex()instanceof _n||e.getIndex()===kn,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ya(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ba extends ga{constructor(e,t){super(e,t,new qn,!1)}get parent(){const e=yt(this._path);return null===e?null:new ba(this._repo,e)}get root(){let e=this;while(null!==e.parent)e=e.parent;return e}}class xa{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ut(e),n=Sa(this.ref,e);return new xa(this._node.getChild(t),n,cn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;const t=this._node;return!!t.forEachChild(this._index,((t,n)=>e(new xa(n,Sa(this.ref,t),cn))))}hasChild(e){const t=new ut(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function wa(e,t){return e=(0,o.m9)(e),e._checkNotDeleted("ref"),void 0!==t?Sa(e._root,t):e._root}function _a(e,t){e=(0,o.m9)(e),e._checkNotDeleted("refFromURL");const n=ca(t,e._repo.repoInfo_.nodeAdmin);vo("refFromURL",n);const i=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||i.host===e._repo.repoInfo_.host||T("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),wa(e,n.path.toString())}function Sa(e,t){return e=(0,o.m9)(e),null===dt(e._path)?go("child","path",t,!1):po("child","path",t,!1),new ba(e._repo,bt(e._path,t))}function ka(e,t){e=(0,o.m9)(e),mo("push",e._path),ao("push",t,e._path,!0);const n=Io(e._repo),i=En(n),r=Sa(e,i),s=Sa(e,i);let a;return a=null!=t?Aa(s,t).then((()=>s)):Promise.resolve(s),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}function Ca(e){return mo("remove",e._path),Aa(e,null)}function Aa(e,t){e=(0,o.m9)(e),mo("set",e._path),ao("set",t,e._path,!1);const n=new o.BH;return Do(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function Ta(e,t){e=(0,o.m9)(e),mo("setPriority",e._path),ho("setPriority",t,!1);const n=new o.BH;return Do(e._repo,bt(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise}function Ia(e,t,n){if(mo("setWithPriority",e._path),ao("setWithPriority",t,e._path,!1),ho("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const i=new o.BH;return Do(e._repo,e._path,t,n,i.wrapCallback((()=>{}))),i.promise}function Ea(e,t){uo("update",t,e._path,!1);const n=new o.BH;return Fo(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function Pa(e){return e=(0,o.m9)(e),Mo(e._repo,e).then((t=>new xa(t,new ba(e._repo,e._path),e._queryParams.getIndex())))}class Ra{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new ha("value",this,new xa(e.snapshotNode,new ba(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new da(this,e,t):null}matches(e){return e instanceof Ra&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class La{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new da(this,e,t):null}createEvent(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");const n=Sa(new ba(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new ha(e.type,this,new xa(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof La&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Na(e,t,n,i,r){let s;if("object"===typeof i&&(s=void 0,r=i),"function"===typeof i&&(s=i),r&&r.onlyOnce){const t=n,i=(n,i)=>{jo(e._repo,e,a),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const o=new fa(n,s||void 0),a="value"===t?new Ra(o):new La(t,o);return Uo(e._repo,e,a),()=>jo(e._repo,e,a)}function Oa(e,t,n,i){return Na(e,"value",t,n,i)}function Ma(e,t,n,i){return Na(e,"child_added",t,n,i)}function Da(e,t,n,i){return Na(e,"child_changed",t,n,i)}function Fa(e,t,n,i){return Na(e,"child_moved",t,n,i)}function za(e,t,n,i){return Na(e,"child_removed",t,n,i)}function Ba(e,t,n){let i=null;const r=n?new fa(n):null;"value"===t?i=new Ra(r):t&&(i=new La(t,r)),jo(e._repo,e,i)}class qa{}class Va extends qa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ao("endAt",this._value,e._path,!0);const t=Wn(e._queryParams,this._value,this._key);if(ya(t),va(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ga(e._repo,e._path,t,e._orderByCalled)}}function Ha(e,t){return fo("endAt","key",t,!0),new Va(e,t)}class Ua extends qa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ao("endBefore",this._value,e._path,!1);const t=Xn(e._queryParams,this._value,this._key);if(ya(t),va(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ga(e._repo,e._path,t,e._orderByCalled)}}function ja(e,t){return fo("endBefore","key",t,!0),new Ua(e,t)}class Ya extends qa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ao("startAt",this._value,e._path,!0);const t=jn(e._queryParams,this._value,this._key);if(ya(t),va(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ga(e._repo,e._path,t,e._orderByCalled)}}function Wa(e=null,t){return fo("startAt","key",t,!0),new Ya(e,t)}class Xa extends qa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ao("startAfter",this._value,e._path,!1);const t=Yn(e._queryParams,this._value,this._key);if(ya(t),va(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ga(e._repo,e._path,t,e._orderByCalled)}}function $a(e,t){return fo("startAfter","key",t,!0),new Xa(e,t)}class Ga extends qa{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ga(e._repo,e._path,Hn(e._queryParams,this._limit),e._orderByCalled)}}function Ka(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ga(e)}class Za extends qa{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ga(e._repo,e._path,Un(e._queryParams,this._limit),e._orderByCalled)}}function Qa(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Za(e)}class Ja extends qa{constructor(e){super(),this._path=e}_apply(e){ma(e,"orderByChild");const t=new ut(this._path);if(xt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new _n(t),i=$n(e._queryParams,n);return va(i),new ga(e._repo,e._path,i,!0)}}function el(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return po("orderByChild","path",e,!1),new Ja(e)}class tl extends qa{_apply(e){ma(e,"orderByKey");const t=$n(e._queryParams,jt);return va(t),new ga(e._repo,e._path,t,!0)}}function nl(){return new tl}class il extends qa{_apply(e){ma(e,"orderByPriority");const t=$n(e._queryParams,cn);return va(t),new ga(e._repo,e._path,t,!0)}}function rl(){return new il}class sl extends qa{_apply(e){ma(e,"orderByValue");const t=$n(e._queryParams,kn);return va(t),new ga(e._repo,e._path,t,!0)}}function ol(){return new sl}class al extends qa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(ao("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Va(this._value,this._key)._apply(new Ya(this._value,this._key)._apply(e))}}function ll(e,t){return fo("equalTo","key",t,!0),new al(e,t)}function cl(e,...t){let n=(0,o.m9)(e);for(const i of t)n=i._apply(n);return n}Ur(ba),ns(ba);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ul="FIREBASE_DATABASE_EMULATOR_HOST",hl={};let dl=!1;function fl(e,t,n,i){e.repoInfo_=new he(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),i&&(e.authTokenProvider_=i)}function pl(e,t,n,i,r){let s=i||e.options.databaseURL;void 0===s&&(e.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),k("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=ca(s,r),c=l.repoInfo;"undefined"!==typeof process&&process.env&&(a=process.env[ul]),a?(o=!0,s=`http://${a}?ns=${c.namespace}`,l=ca(s,r),c=l.repoInfo):o=!l.repoInfo.secure;const u=r&&o?new J(J.OWNER):new Q(e.name,e.options,t);vo("Invalid Firebase Database URL",l),xt(l.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");const h=ml(c,e,u,new Z(e.name,n));return new vl(h,e)}function gl(e,t){const n=hl[t];n&&n[e.key]===e||T(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Yo(e),delete n[e.key]}function ml(e,t,n,i){let r=hl[t.name];r||(r={},hl[t.name]=r);let s=r[e.toURLString()];return s&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Ao(e,dl,n,i),r[e.toURLString()]=s,s}class vl{constructor(e,t){this._repoInternal=e,this.app=t,this["type"]="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(To(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ba(this._repo,ht())),this._rootInternal}_delete(){return null!==this._rootInternal&&(gl(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&T("Cannot call "+e+" on a deleted database.")}}function yl(){Ue.IS_TRANSPORT_INITIALIZED&&I("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function bl(){yl(),Fe.forceDisallow()}function xl(){yl(),He.forceDisallow(),Fe.forceAllow()}function wl(e,t,n,i={}){e=(0,o.m9)(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&T("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&T('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new J(J.OWNER);else if(i.mockUserToken){const t="string"===typeof i.mockUserToken?i.mockUserToken:(0,o.Sg)(i.mockUserToken,e.app.options.projectId);s=new J(t)}fl(r,t,n,s)}function _l(e){e=(0,o.m9)(e),e._checkNotDeleted("goOffline"),Yo(e._repo)}function Sl(e){e=(0,o.m9)(e),e._checkNotDeleted("goOnline"),Wo(e._repo)}function kl(e,t){S(e,t)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(e){h(s.SDK_VERSION),(0,s._registerComponent)(new r.wA("database",((e,{instanceIdentifier:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return pl(n,i,r,t)}),"PUBLIC").setMultipleInstances(!0)),(0,s.registerVersion)(l,c,e),(0,s.registerVersion)(l,c,"esm2017")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al={".sv":"timestamp"};function Tl(){return Al}function Il(e){return{".sv":{increment:e}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Pl(e,t,n){var i;if(e=(0,o.m9)(e),mo("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const r=null===(i=null===n||void 0===n?void 0:n.applyLocally)||void 0===i||i,s=new o.BH,a=(t,n,i)=>{let r=null;t?s.reject(t):(r=new xa(i,new ba(e._repo,e._path),cn),s.resolve(new El(n,r)))},l=Oa(e,(()=>{}));return Go(e._repo,e._path,t,a,l,r),s.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Bt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};Cl();const Rl="@firebase/database-compat",Ll="0.2.0",Nl=new a.Yd("@firebase/database-compat"),Ol=function(e){const t="FIREBASE WARNING: "+e;Nl.warn(t)},Ml=function(e,t,n,i){if((!i||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.gK)(e,t)+"must be a boolean.")},Dl=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fl{constructor(e){this._delegate=e}cancel(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const i=this._delegate.setWithPriority(e,t);return n&&i.then((()=>n(null)),(e=>n(e))),i}update(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Ol("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),po("DataSnapshot.child","path",e,!1),new Bl(this._database,this._delegate.child(e))}hasChild(e){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),po("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new Bl(this._database,t))))}hasChildren(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new Vl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ql{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,i){var r;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",t,!1);const s=ql.getCancelAndContextArgs_("Query.on",n,i),a=(e,n)=>{t.call(s.context,new Bl(this.database,e),n)};a.userCallback=t,a.context=s.context;const l=null===(r=s.cancel)||void 0===r?void 0:r.bind(s.context);switch(e){case"value":return Oa(this._delegate,a,l),t;case"child_added":return Ma(this._delegate,a,l),t;case"child_removed":return za(this._delegate,a,l),t;case"child_changed":return Da(this._delegate,a,l),t;case"child_moved":return Fa(this._delegate,a,l),t;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if((0,o.Dv)("Query.off",0,3,arguments.length),Dl("Query.off",e,!0),(0,o.Wj)("Query.off","callback",t,!0),(0,o.lb)("Query.off","context",n,!0),t){const i=()=>{};i.userCallback=t,i.context=n,Ba(this._delegate,e,i)}else Ba(this._delegate,e)}get(){return Pa(this._delegate).then((e=>new Bl(this.database,e)))}once(e,t,n,i){(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",t,!0);const r=ql.getCancelAndContextArgs_("Query.once",n,i),s=new o.BH,a=(e,n)=>{const i=new Bl(this.database,e);t&&t.call(r.context,i,n),s.resolve(i)};a.userCallback=t,a.context=r.context;const l=e=>{r.cancel&&r.cancel.call(r.context,e),s.reject(e)};switch(e){case"value":Oa(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Ma(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":za(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":Da(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Fa(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new ql(this.database,cl(this._delegate,Ka(e)))}limitToLast(e){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new ql(this.database,cl(this._delegate,Qa(e)))}orderByChild(e){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new ql(this.database,cl(this._delegate,el(e)))}orderByKey(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new ql(this.database,cl(this._delegate,nl()))}orderByPriority(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new ql(this.database,cl(this._delegate,rl()))}orderByValue(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new ql(this.database,cl(this._delegate,ol()))}startAt(e=null,t){return(0,o.Dv)("Query.startAt",0,2,arguments.length),new ql(this.database,cl(this._delegate,Wa(e,t)))}startAfter(e=null,t){return(0,o.Dv)("Query.startAfter",0,2,arguments.length),new ql(this.database,cl(this._delegate,$a(e,t)))}endAt(e=null,t){return(0,o.Dv)("Query.endAt",0,2,arguments.length),new ql(this.database,cl(this._delegate,Ha(e,t)))}endBefore(e=null,t){return(0,o.Dv)("Query.endBefore",0,2,arguments.length),new ql(this.database,cl(this._delegate,ja(e,t)))}equalTo(e,t){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new ql(this.database,cl(this._delegate,ll(e,t)))}toString(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof ql)){const e="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(e)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const i={cancel:void 0,context:void 0};if(t&&n)i.cancel=t,(0,o.Wj)(e,"cancel",i.cancel,!0),i.context=n,(0,o.lb)(e,"context",i.context,!0);else if(t)if("object"===typeof t&&null!==t)i.context=t;else{if("function"!==typeof t)throw new Error((0,o.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new Vl(this.database,new ba(this._delegate._repo,this._delegate._path))}}class Vl extends ql{constructor(e,t){super(e,new ga(t._repo,t._path,new qn,!1)),this.database=e,this._delegate=t}getKey(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new Vl(this.database,Sa(this._delegate,e))}getParent(){(0,o.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Vl(this.database,e):null}getRoot(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new Vl(this.database,this._delegate.root)}set(e,t){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",t,!0);const n=Aa(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Ol("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}mo("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",t,!0);const n=Ea(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0);const i=Ia(this._delegate,e,t);return n&&i.then((()=>n(null)),(e=>n(e))),i}remove(e){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",e,!0);const t=Ca(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,o.Wj)("Reference.transaction","onComplete",t,!0),Ml("Reference.transaction","applyLocally",n,!0);const i=Pl(this._delegate,e,{applyLocally:n}).then((e=>new zl(e.committed,new Bl(this.database,e.snapshot))));return t&&i.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),i}setPriority(e,t){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",t,!0);const n=Ta(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(e,t){(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",t,!0);const n=ka(this._delegate,e),i=n.then((e=>new Vl(this.database,e)));t&&i.then((()=>t(null)),(e=>t(e)));const r=new Vl(this.database,n);return r.then=i.then.bind(i),r.catch=i.catch.bind(i,void 0),r}onDisconnect(){return mo("Reference.onDisconnect",this._delegate._path),new Fl(new pa(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:bl,forceLongPolling:xl}}useEmulator(e,t,n={}){wl(this._delegate,e,t,n)}ref(e){if((0,o.Dv)("database.ref",0,1,arguments.length),e instanceof Vl){const t=_a(this._delegate,e.toString());return new Vl(this,t)}{const t=wa(this._delegate,e);return new Vl(this,t)}}refFromURL(e){const t="database.refFromURL";(0,o.Dv)(t,1,1,arguments.length);const n=_a(this._delegate,e);return new Vl(this,n)}goOffline(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),_l(this._delegate)}goOnline(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),Sl(this._delegate)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ul({app:e,url:t,version:n,customAuthImpl:i,namespace:s,nodeAdmin:o=!1}){h(n);const a=new r.zt("auth-internal",new r.H0("database-standalone"));return a.setComponent(new r.wA("auth-internal",(()=>i),"PRIVATE")),{instance:new Hl(pl(e,a,void 0,t,o),e),namespace:s}}Hl.ServerValue={TIMESTAMP:Tl(),increment:e=>Il(e)};var jl=Object.freeze({__proto__:null,initStandalone:Ul});
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=Hl.ServerValue;function Wl(e){e.INTERNAL.registerComponent(new r.wA("database-compat",((e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new Hl(i,n)}),"PUBLIC").setServiceProps({Reference:Vl,Query:ql,Database:Hl,DataSnapshot:Bl,enableLogging:kl,INTERNAL:jl,ServerValue:Yl}).setMultipleInstances(!0)),e.registerVersion(Rl,Ll)}Wl(i.Z)},3174:(e,t,n)=>{"use strict";n.r(t);var i=n(9859),r=n(7574),s=n(5505),o=n(3513);const a="@firebase/firestore-compat",l="0.1.18";
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new r.WA("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u(){if("undefined"===typeof Uint8Array)throw new r.WA("unimplemented","Uint8Arrays are not available in this environment.")}function h(){if(!(0,r.Me)())throw new r.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class d{constructor(e){this._delegate=e}static fromBase64String(e){return h(),new d(r.Jj.fromBase64String(e))}static fromUint8Array(e){return u(),new d(r.Jj.fromUint8Array(e))}toBase64(){return h(),this._delegate.toBase64()}toUint8Array(){return u(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(e){return p(e,["next","error","complete"])}function p(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const i of t)if(i in n&&"function"===typeof n[i])return!0;return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g{enableIndexedDbPersistence(e,t){return(0,r.ST)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return(0,r.fH)(e._delegate)}clearIndexedDbPersistence(e){return(0,r.Fc)(e._delegate)}}class m{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof r.l7||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||(0,r.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,n={}){(0,r.at)(this._delegate,e,t,n)}enableNetwork(){return(0,r.Ix)(this._delegate)}disableNetwork(){return(0,r.TF)(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,(0,r.Wi)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,r.Mx)(this._delegate)}onSnapshotsInSync(e){return(0,r.sc)(this._delegate,e)}get app(){if(!this._appCompat)throw new r.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new R(this,(0,r.hJ)(this._delegate,e))}catch(t){throw S(t,"collection()","Firestore.collection()")}}doc(e){try{return new _(this,(0,r.JU)(this._delegate,e))}catch(t){throw S(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new I(this,(0,r.B$)(this._delegate,e))}catch(t){throw S(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return(0,r.i3)(this._delegate,(t=>e(new b(this,t))))}batch(){return(0,r.qY)(this._delegate),new x(new r.PU(this._delegate,(e=>(0,r.GL)(this._delegate,e))))}loadBundle(e){return(0,r.Pb)(this._delegate,e)}namedQuery(e){return(0,r.L$)(this._delegate,e).then((e=>e?new I(this,e):null))}}class v extends r.u7{constructor(e){super(),this.firestore=e}convertBytes(e){return new d(new r.Jj(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return _.forKey(t,this.firestore,null)}}function y(e){(0,r.Ub)(e)}class b{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new v(e)}get(e){const t=L(e);return this._delegate.get(t).then((e=>new A(this._firestore,new r.xU(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const i=L(e);return n?(c("Transaction.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n,...i){const r=L(e);return 2===arguments.length?this._delegate.update(r,t):this._delegate.update(r,t,n,...i),this}delete(e){const t=L(e);return this._delegate.delete(t),this}}class x{constructor(e){this._delegate=e}set(e,t,n){const i=L(e);return n?(c("WriteBatch.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n,...i){const r=L(e);return 2===arguments.length?this._delegate.update(r,t):this._delegate.update(r,t,n,...i),this}delete(e){const t=L(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class w{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new r.$q(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new T(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=w.INSTANCES;let i=n.get(e);i||(i=new WeakMap,n.set(e,i));let r=i.get(t);return r||(r=new w(e,new v(e),t),i.set(t,r)),r}}w.INSTANCES=new WeakMap;class _{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new v(e)}static forPath(e,t,n){if(e.length%2!==0)throw new r.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new _(t,new r.my(t._delegate,n,new r.Ky(e)))}static forKey(e,t,n){return new _(t,new r.my(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new R(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new R(this.firestore,(0,r.hJ)(this._delegate,e))}catch(t){throw S(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=(0,s.m9)(e),e instanceof r.my&&(0,r.Eo)(this._delegate,e)}set(e,t){t=c("DocumentReference.set",t);try{return t?(0,r.pl)(this._delegate,e,t):(0,r.pl)(this._delegate,e)}catch(n){throw S(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?(0,r.r7)(this._delegate,e):(0,r.r7)(this._delegate,e,t,...n)}catch(i){throw S(i,"updateDoc()","DocumentReference.update()")}}delete(){return(0,r.oe)(this._delegate)}onSnapshot(...e){const t=k(e),n=C(e,(e=>new A(this.firestore,new r.xU(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return(0,r.cf)(this._delegate,t,n)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?(0,r.kl)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?(0,r.Xk)(this._delegate):(0,r.QT)(this._delegate),t.then((e=>new A(this.firestore,new r.xU(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new _(this.firestore,e?this._delegate.withConverter(w.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function S(e,t,n){return e.message=e.message.replace(t,n),e}function k(e){for(const t of e)if("object"===typeof t&&!f(t))return t;return{}}function C(e,t){var n,i;let r;return r=f(e[0])?e[0]:f(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{r.next&&r.next(t(e))},error:null===(n=r.error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class A{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new _(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return(0,r.qK)(this._delegate,e._delegate)}}class T extends A{data(e){const t=this._delegate.data(e);return(0,r.K9)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class I{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new v(e)}where(e,t,n){try{return new I(this.firestore,(0,r.IO)(this._delegate,(0,r.ar)(e,t,n)))}catch(i){throw S(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new I(this.firestore,(0,r.IO)(this._delegate,(0,r.Xo)(e,t)))}catch(n){throw S(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new I(this.firestore,(0,r.IO)(this._delegate,(0,r.b9)(e)))}catch(t){throw S(t,"limit()","Query.limit()")}}limitToLast(e){try{return new I(this.firestore,(0,r.IO)(this._delegate,(0,r.vh)(e)))}catch(t){throw S(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new I(this.firestore,(0,r.IO)(this._delegate,(0,r.e0)(...e)))}catch(t){throw S(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new I(this.firestore,(0,r.IO)(this._delegate,(0,r.TQ)(...e)))}catch(t){throw S(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new I(this.firestore,(0,r.IO)(this._delegate,(0,r.Lx)(...e)))}catch(t){throw S(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new I(this.firestore,(0,r.IO)(this._delegate,(0,r.Wu)(...e)))}catch(t){throw S(t,"endAt()","Query.endAt()")}}isEqual(e){return(0,r.iE)(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?(0,r.UQ)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?(0,r.zN)(this._delegate):(0,r.PL)(this._delegate),t.then((e=>new P(this.firestore,new r.W(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=k(e),n=C(e,(e=>new P(this.firestore,new r.W(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return(0,r.cf)(this._delegate,t,n)}withConverter(e){return new I(this.firestore,e?this._delegate.withConverter(w.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class E{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new T(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class P{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new I(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new T(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new E(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new T(this._firestore,n))}))}isEqual(e){return(0,r.qK)(this._delegate,e._delegate)}}class R extends I{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new _(this.firestore,e):null}doc(e){try{return new _(this.firestore,void 0===e?(0,r.JU)(this._delegate):(0,r.JU)(this._delegate,e))}catch(t){throw S(t,"doc()","CollectionReference.doc()")}}add(e){return(0,r.ET)(this._delegate,e).then((e=>new _(this.firestore,e)))}isEqual(e){return(0,r.Eo)(this._delegate,e._delegate)}withConverter(e){return new R(this.firestore,e?this._delegate.withConverter(w.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function L(e){return(0,r.Cf)(e,r.my)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(...e){this._delegate=new r.Lz(...e)}static documentId(){return new N(r.Xb.keyField().canonicalString())}isEqual(e){return e=(0,s.m9)(e),e instanceof r.Lz&&this._delegate._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this._delegate=e}static serverTimestamp(){const e=(0,r.Bt)();return e._methodName="FieldValue.serverTimestamp",new O(e)}static delete(){const e=(0,r.AK)();return e._methodName="FieldValue.delete",new O(e)}static arrayUnion(...e){const t=(0,r.vr)(...e);return t._methodName="FieldValue.arrayUnion",new O(t)}static arrayRemove(...e){const t=(0,r.Ab)(...e);return t._methodName="FieldValue.arrayRemove",new O(t)}static increment(e){const t=(0,r.nP)(e);return t._methodName="FieldValue.increment",new O(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={Firestore:m,GeoPoint:r.F8,Timestamp:r.EK,Blob:d,Transaction:b,WriteBatch:x,DocumentReference:_,DocumentSnapshot:A,Query:I,QueryDocumentSnapshot:T,QuerySnapshot:P,CollectionReference:R,FieldPath:N,FieldValue:O,setLogLevel:y,CACHE_SIZE_UNLIMITED:r.IX};function D(e,t){e.INTERNAL.registerComponent(new o.wA("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("firestore").getImmediate();return t(n,i)}),"PUBLIC").setServiceProps(Object.assign({},M)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(e){D(e,((e,t)=>new m(e,t,new g))),e.registerVersion(a,l)}F(i.Z)},4685:(e,t,n)=>{"use strict";n.r(t);var i=n(9859),r=n(8897),s=n(5505),o=n(3513);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const a="type.googleapis.com/google.protobuf.Int64Value",l="type.googleapis.com/google.protobuf.UInt64Value";function c(e,t){const n={};for(const i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function u(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((e=>u(e)));if("function"===typeof e||"object"===typeof e)return c(e,(e=>u(e)));throw new Error("Data cannot be encoded in JSON: "+e)}function h(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case a:case l:{const t=Number(e["value"]);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((e=>h(e))):"function"===typeof e||"object"===typeof e?c(e,(e=>h(e))):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d="functions",f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p extends s.ZR{constructor(e,t,n){super(`${d}/${e}`,t||""),this.details=n}}function g(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function m(e,t){let n,i=g(e),r=i;try{const e=t&&t.error;if(e){const t=e.status;if("string"===typeof t){if(!f[t])return new p("internal","internal");i=f[t],r=t}const s=e.message;"string"===typeof s&&(r=s),n=e.details,void 0!==n&&(n=h(n))}}catch(s){}return"ok"===i?null:new p(i,r,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((e=>this.auth=e),(()=>{})),this.messaging||t.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||n.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(){if(this.appCheck){const e=await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(){const e=await this.getAuthToken(),t=await this.getMessagingToken(),n=await this.getAppCheckToken();return{authToken:e,messagingToken:t,appCheckToken:n}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y="us-central1";function b(e){let t=null;return{promise:new Promise(((n,i)=>{t=setTimeout((()=>{i(new p("deadline-exceeded","deadline-exceeded"))}),e)})),cancel:()=>{t&&clearTimeout(t)}}}class x{constructor(e,t,n,i,r=y,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new v(t,n,i),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(r);this.customDomain=e.origin,this.region=y}catch(o){this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return`${n}/${t}/${this.region}/${e}`}return null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function w(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function _(e,t,n){return i=>C(e,t,i,n||{})}function S(e,t,n){return i=>A(e,t,i,n||{})}async function k(e,t,n,i){let r;n["Content-Type"]="application/json";try{r=await i(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(o){return{status:0,json:null}}let s=null;try{s=await r.json()}catch(o){}return{status:r.status,json:s}}function C(e,t,n,i){const r=e._url(t);return A(e,r,n,i)}async function A(e,t,n,i){n=u(n);const r={data:n},s={},o=await e.contextProvider.getContext();o.authToken&&(s["Authorization"]="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),null!==o.appCheckToken&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=i.timeout||7e4,l=b(a),c=await Promise.race([k(t,r,s,e.fetchImpl),l.promise,e.cancelAllRequests]);if(l.cancel(),!c)throw new p("cancelled","Firebase Functions instance was deleted.");const d=m(c.status,c.json);if(d)throw d;if(!c.json)throw new p("internal","Response is not valid JSON object.");let f=c.json.data;if("undefined"===typeof f&&(f=c.json.result),"undefined"===typeof f)throw new p("internal","Response is missing data field.");const g=h(f);return{data:g}}const T="@firebase/functions",I="0.8.1",E="auth-internal",P="app-check-internal",R="messaging-internal";function L(e,t){const n=(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider(E),s=t.getProvider(R),o=t.getProvider(P);return new x(i,r,s,o,n,e)};(0,r._registerComponent)(new o.wA(d,n,"PUBLIC").setMultipleInstances(!0)),(0,r.registerVersion)(T,I,t),(0,r.registerVersion)(T,I,"esm2017")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(e,t,n){w((0,s.m9)(e),t,n)}function O(e,t,n){return _((0,s.m9)(e),t,n)}function M(e,t,n){return S((0,s.m9)(e),t,n)}L(fetch.bind(self));const D="@firebase/functions-compat",F="0.2.1";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class z{constructor(e,t){this.app=e,this._delegate=t,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(e,t){return O(this._delegate,e,t)}httpsCallableFromURL(e,t){return M(this._delegate,e,t)}useFunctionsEmulator(e){const t=e.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==t)throw new s.ZR("functions","No origin provided to useFunctionsEmulator()");if(null==t[2])throw new s.ZR("functions","Port missing in origin provided to useFunctionsEmulator()");return N(this._delegate,t[1],Number(t[2]))}useEmulator(e,t){return N(this._delegate,e,t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B="us-central1",q=(e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("functions").getImmediate({identifier:null!==t&&void 0!==t?t:B});return new z(n,i)};function V(){const e={Functions:z};i.Z.INTERNAL.registerComponent(new o.wA("functions-compat",q,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */V(),i.Z.registerVersion(D,F)},3286:(e,t,n)=>{"use strict";n.r(t);var i=n(9859),r=n(2079),s=n(3513);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class o{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new o(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new o(t,this,this._ref))}),t)}on(e,t,n,i){let r;return t&&(r="function"===typeof t?e=>t(new o(e,this,this._ref)):{next:t.next?e=>t.next(new o(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,r,n||void 0,i||void 0)}}class l{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new c(e,this._service)))}get items(){return this._delegate.items.map((e=>new c(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=(0,r.g6)(this._delegate,e);return new c(t,this.storage)}get root(){return new c(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new c(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new a((0,r.B0)(this._delegate,e,t),this)}putString(e,t=r.bm.RAW,n){this._throwIfRoot("putString");const i=(0,r.qm)(t,e),s=Object.assign({},n);return null==s["contentType"]&&null!=i.contentType&&(s["contentType"]=i.contentType),new a(new r.IX(this._delegate,new r.UJ(i.data,!0),s),this)}listAll(){return(0,r.aF)(this._delegate).then((e=>new l(e,this.storage)))}list(e){return(0,r.pb)(this._delegate,e||void 0).then((e=>new l(e,this.storage)))}getMetadata(){return(0,r.sd)(this._delegate)}updateMetadata(e){return(0,r.Ym)(this._delegate,e)}getDownloadURL(){return(0,r.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,r.oq)(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw(0,r.y4)(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(h(e))throw(0,r.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new c((0,r.iH)(this._delegate,e),this)}refFromURL(e){if(!h(e))throw(0,r.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{r.gE.makeFromUrl(e,this._delegate.host)}catch(t){throw(0,r.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new c((0,r.iH)(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,n={}){(0,r.a1)(this._delegate,e,t,n)}}function h(e){return/^[A-Za-z]+:\/\//.test(e)}const d="@firebase/storage-compat",f="0.1.14",p="storage-compat";function g(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:t}),r=new u(n,i);return r}function m(e){const t={TaskState:r.$Y,TaskEvent:r.FN,StringFormat:r.bm,Storage:u,Reference:c};e.INTERNAL.registerComponent(new s.wA(p,g,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(d,f)}m(i.Z)},4493:(e,t,n)=>{"use strict";n.d(t,{JU:()=>i.JU,ad:()=>i.ad,pl:()=>i.pl});var i=n(7574)},2309:(e,t,n)=>{"use strict";n.d(t,{Jt:()=>i.Jt,KV:()=>i.KV,cF:()=>i.cF,iH:()=>i.iH});var i=n(2079)},4617:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SWRVCache:()=>l,default:()=>Lt,mutate:()=>It});var i=new WeakMap,r=0;function s(e){if(!e.length)return"";for(var t="arg",n=0;n<e.length;++n){var s=void 0;null===e[n]||"object"!==typeof e[n]&&"function"!==typeof e[n]?s="string"===typeof e[n]?'"'+e[n]+'"':String(e[n]):i.has(e[n])?s=i.get(e[n]):(s=r,i.set(e[n],r++)),t+="@"+s}return t}function o(e){if("function"===typeof e)try{e=e()}catch(t){e=""}return e=Array.isArray(e)?s(e):String(e||""),e}var a=function(){function e(e){void 0===e&&(e=0),this.items=new Map,this.ttl=e}return e.prototype.serializeKey=function(e){return o(e)},e.prototype.get=function(e){var t=this.serializeKey(e);return this.items.get(t)},e.prototype.set=function(e,t,n){var i=this.serializeKey(e),r=n||this.ttl,s=Date.now(),o={data:t,createdAt:s,expiresAt:r?s+r:1/0};this.dispatchExpire(r,o,i),this.items.set(i,o)},e.prototype.dispatchExpire=function(e,t,n){var i=this;e&&setTimeout((function(){var e=Date.now(),r=e>=t.expiresAt;r&&i.delete(n)}),e)},e.prototype.delete=function(e){this.items.delete(e)},e}();const l=a;var c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)};function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var h,d=function(){return d=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},d.apply(this,arguments)};function f(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),o=[];try{while((void 0===t||t-- >0)&&!(i=s.next()).done)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s["return"])&&n.call(s)}finally{if(r)throw r.error}}return o}function g(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var m=[],v=function(){function e(e){this.active=!0,this.effects=[],this.cleanups=[],this.vm=e}return e.prototype.run=function(e){if(this.active)try{return this.on(),e()}finally{this.off()}else 0},e.prototype.on=function(){this.active&&(m.push(this),h=this)},e.prototype.off=function(){this.active&&(m.pop(),h=m[m.length-1])},e.prototype.stop=function(){this.active&&(this.vm.$destroy(),this.effects.forEach((function(e){return e.stop()})),this.cleanups.forEach((function(e){return e()})),this.active=!1)},e}();(function(e){function t(t){void 0===t&&(t=!1);var n=this,i=void 0;return N((function(){i=se(P())})),n=e.call(this,i)||this,t||y(n),n}u(t,e)})(v);function y(e,t){var n;if(t=t||h,t&&t.active)t.effects.push(e);else{var i=null===(n=M())||void 0===n?void 0:n.proxy;i&&i.$on("hook:destroyed",(function(){return e.stop()}))}}function b(){return h}function x(){var e,t;return(null===(e=b())||void 0===e?void 0:e.vm)||(null===(t=M())||void 0===t?void 0:t.proxy)}function w(e){if(!e.scope){var t=new v(e.proxy);e.scope=t,e.proxy.$on("hook:destroyed",(function(){return t.stop()}))}return e.scope}var _=void 0;try{var S=n(9302);S&&I(S)?_=S:S&&"default"in S&&I(S.default)&&(_=S.default)}catch(Nt){}var k=null,C=null,A=!0,T="__composition_api_installed__";function I(e){return e&&te(e)&&"Vue"===e.name}function E(e){return k&&j(e,T)}function P(){return k}function R(){var e=k||_;return e}function L(e){k=e,Object.defineProperty(e,T,{configurable:!0,writable:!0,value:!0})}function N(e){var t=A;A=!1;try{e()}finally{A=t}}function O(e){if(A){var t=C;null===t||void 0===t||t.scope.off(),C=e,null===C||void 0===C||C.scope.on()}}function M(){return C}var D=new WeakMap;function F(e){if(D.has(e))return D.get(e);var t={proxy:e,update:e.$forceUpdate,type:e.$options,uid:e._uid,emit:e.$emit.bind(e),parent:null,root:null};w(t);var n=["data","props","attrs","refs","vnode","slots"];return n.forEach((function(n){H(t,n,{get:function(){return e["$".concat(n)]}})})),H(t,"isMounted",{get:function(){return e._isMounted}}),H(t,"isUnmounted",{get:function(){return e._isDestroyed}}),H(t,"isDeactivated",{get:function(){return e._inactive}}),H(t,"emitted",{get:function(){return e._events}}),D.set(e,t),e.$parent&&(t.parent=F(e.$parent)),e.$root&&(t.root=F(e.$root)),t}var z=function(e){return Object.prototype.toString.call(e)};function B(e){return"function"===typeof e&&/native code/.test(e.toString())}var q="undefined"!==typeof Symbol&&B(Symbol)&&"undefined"!==typeof Reflect&&B(Reflect.ownKeys),V=function(e){return e};function H(e,t,n){var i=n.get,r=n.set;Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:i||V,set:r||V})}function U(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function j(e,t){return Object.hasOwnProperty.call(e,t)}function Y(e,t){if(!e)throw new Error("[vue-composition-api] ".concat(t))}function W(e){return Array.isArray(e)}var X=Object.prototype.toString,$=function(e){return X.call(e)},G=function(e){return"[object Map]"===$(e)},K=function(e){return"[object Set]"===$(e)},Z=4294967295;function Q(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)&&t<=Z}function J(e){return null!==e&&"object"===typeof e}function ee(e){return"[object Object]"===z(e)}function te(e){return"function"===typeof e}function ne(e,t,n){if("undefined"===typeof window||"undefined"===typeof console)throw e;console.error(e)}function ie(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function re(e,t){return t=t||M(),t}function se(e,t){void 0===t&&(t={});var n=e.config.silent;e.config.silent=!0;var i=new e(t);return e.config.silent=n,i}function oe(e){var t=P();return t&&e instanceof t}function ae(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e.$scopedSlots[t])return e.$scopedSlots[t].apply(e,n)}}function le(e,t){var n;if(e){if(e._normalized)return e._normalized;for(var i in n={},e)e[i]&&"$"!==i[0]&&(n[i]=!0)}else n={};for(var i in t)i in n||(n[i]=!0);return n}function ce(e){return q?Symbol.for(e):e}var ue=ce("composition-api.preFlushQueue"),he=ce("composition-api.postFlushQueue"),de="composition-api.refKey",fe=new WeakMap,pe=new WeakMap,ge=new WeakMap;function me(e,t,n){var i=P(),r=i.util,s=(r.warn,r.defineReactive);var o=e.__ob__;function a(){o&&J(n)&&!j(n,"__ob__")&&Ee(n)}if(W(e)){if(Q(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),a(),n;if("length"===t&&n!==e.length)return e.length=n,null===o||void 0===o||o.dep.notify(),n}return t in e&&!(t in Object.prototype)?(e[t]=n,a(),n):e._isVue||o&&o.vmCount?n:o?(s(o.value,t,n),Te(e,t,n),a(),o.dep.notify(),n):(e[t]=n,n)}var ve=function(){function e(e){var t=e.get,n=e.set;H(this,"value",{get:t,set:n})}return e}();function ye(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new ve(e);n&&(i.effect=!0);var r=Object.seal(i);return t&&ge.set(r,!0),r}function be(e){var t;if(xe(e))return e;var n=Le((t={},t[de]=e,t));return ye({get:function(){return n[de]},set:function(e){return n[de]=e}})}function xe(e){return e instanceof ve}function we(e){if(!ee(e))return e;var t={};for(var n in e)t[n]=_e(e,n);return t}function _e(e,t){t in e||me(e,t,void 0);var n=e[t];return xe(n)?n:ye({get:function(){return e[t]},set:function(n){return e[t]=n}})}var Se="__v_skip";function ke(e){var t;return Boolean(e&&j(e,"__ob__")&&"object"===typeof e.__ob__&&(null===(t=e.__ob__)||void 0===t?void 0:t[Se]))}function Ce(e){var t;return Boolean(e&&j(e,"__ob__")&&"object"===typeof e.__ob__&&!(null===(t=e.__ob__)||void 0===t?void 0:t[Se]))}function Ae(e){if(!(!ee(e)||ke(e)||W(e)||xe(e)||oe(e)||fe.has(e))){fe.set(e,!0);for(var t=Object.keys(e),n=0;n<t.length;n++)Te(e,t[n])}}function Te(e,t,n){if("__ob__"!==t&&!ke(e[t])){var i,r,s=Object.getOwnPropertyDescriptor(e,t);if(s){if(!1===s.configurable)return;i=s.get,r=s.set,i&&!r||2!==arguments.length||(n=e[t])}Ae(n),H(e,t,{get:function(){var r=i?i.call(e):n;return t!==de&&xe(r)?r.value:r},set:function(s){i&&!r||(t!==de&&xe(n)&&!xe(s)?n.value=s:r?(r.call(e,s),n=s):n=s,Ae(s))}})}}function Ie(e){var t,n=R();if(n.observable)t=n.observable(e);else{var i=se(n,{data:{$$state:e}});t=i._data.$$state}return j(t,"__ob__")||Ee(t),t}function Ee(e,t){var n,i;if(void 0===t&&(t=new Set),!t.has(e)&&!j(e,"__ob__")&&Object.isExtensible(e)){U(e,"__ob__",Pe(e)),t.add(e);try{for(var r=f(Object.keys(e)),s=r.next();!s.done;s=r.next()){var o=s.value,a=e[o];(ee(a)||W(a))&&!ke(a)&&Object.isExtensible(a)&&Ee(a,t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}}function Pe(e){return void 0===e&&(e={}),{value:e,dep:{notify:V,depend:V,addSub:V,removeSub:V}}}function Re(){return Ie({}).__ob__}function Le(e){if(!J(e))return e;if(!ee(e)&&!W(e)||ke(e)||!Object.isExtensible(e))return e;var t=Ie(e);return Ae(t),t}var Ne=function(e){return"on".concat(e[0].toUpperCase()+e.slice(1))};function Oe(e){return function(t,n){var i=re(Ne(e),n);return i&&Me(P(),i,e,t)}}function Me(e,t,n,i){var r=t.proxy.$options,s=e.config.optionMergeStrategies[n],o=De(t,i);return r[n]=s(r[n],o),o}function De(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=M();O(e);try{return t.apply(void 0,g([],p(n),!1))}finally{O(r)}}}Oe("beforeMount");var Fe,ze=Oe("mounted"),Be=(Oe("beforeUpdate"),Oe("updated"),Oe("beforeDestroy"),Oe("destroyed")),qe=(Oe("errorCaptured"),Oe("activated"),Oe("deactivated"),Oe("serverPrefetch"));function Ve(){Xe(this,ue)}function He(){Xe(this,he)}function Ue(e){return void 0!==e[ue]}function je(e){e[ue]=[],e[he]=[],e.$on("hook:beforeUpdate",Ve),e.$on("hook:updated",He)}function Ye(e){return d({immediate:!1,deep:!1,flush:"pre"},e)}function We(){var e=x();return e?Ue(e)||je(e):(Fe||(Fe=se(P())),e=Fe),e}function Xe(e,t){for(var n=e[t],i=0;i<n.length;i++)n[i]();n.length=0}function $e(e,t,n){var i=function(){e.$nextTick((function(){e[ue].length&&Xe(e,ue),e[he].length&&Xe(e,he)}))};switch(n){case"pre":i(),e[ue].push(t);break;case"post":i(),e[he].push(t);break;default:Y(!1,'flush must be one of ["post", "pre", "sync"], but got '.concat(n));break}}function Ge(e,t,n,i){var r=e._watchers.length;return e.$watch(t,n,{immediate:i.immediateInvokeCallback,deep:i.deep,lazy:i.noRun,sync:i.sync,before:i.before}),e._watchers[r]}function Ke(e,t){var n=e.teardown;e.teardown=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];n.apply(e,i),t()}}function Ze(e,t,n,i){var r;var s,o=i.flush,a="sync"===o,l=function(t){s=function(){try{t()}catch(n){ne(n,e,"onCleanup()")}}},c=function(){s&&(s(),s=null)},u=function(t){return a||e===Fe?t:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return $e(e,(function(){t.apply(void 0,g([],p(n),!1))}),o)}};if(null===n){var h=!1,d=function(){if(!h)try{h=!0,t(l)}finally{h=!1}},f=Ge(e,d,V,{deep:i.deep||!1,sync:a,before:c});Ke(f,c),f.lazy=!1;var m=f.get.bind(f);return f.get=u(m),function(){f.teardown()}}var v,y=i.deep,b=!1;if(xe(t)?v=function(){return t.value}:Ce(t)?(v=function(){return t},y=!0):W(t)?(b=!0,v=function(){return t.map((function(e){return xe(e)?e.value:Ce(e)?Je(e):te(e)?e():V}))}):v=te(t)?t:V,y){var x=v;v=function(){return Je(x())}}var w=function(e,t){if(y||!b||!e.every((function(e,n){return ie(e,t[n])})))return c(),n(e,t,l)},_=u(w);if(i.immediate){var S=_,k=function(e,t){return k=S,w(e,W(e)?[]:t)};_=function(e,t){return k(e,t)}}var C=e.$watch(v,_,{immediate:i.immediate,deep:y,sync:a}),A=e._watchers[e._watchers.length-1];return Ce(A.value)&&(null===(r=A.value.__ob__)||void 0===r?void 0:r.dep)&&y&&A.value.__ob__.dep.addSub({update:function(){A.run()}}),Ke(A,c),function(){C()}}function Qe(e,t,n){var i=null;te(t)?i=t:(n=t,i=null);var r=Ye(n),s=We();return Ze(s,e,i,r)}function Je(e,t){if(void 0===t&&(t=new Set),!J(e)||t.has(e)||pe.has(e))return e;if(t.add(e),xe(e))Je(e.value,t);else if(W(e))for(var n=0;n<e.length;n++)Je(e[n],t);else if(K(e)||G(e))e.forEach((function(e){Je(e,t)}));else if(ee(e))for(var i in e)Je(e[i],t);return e}function et(e,t,n){var i=e.__composition_api_state__=e.__composition_api_state__||{};i[t]=n}function tt(e,t){return(e.__composition_api_state__||{})[t]}var nt={set:et,get:tt};function it(e,t,n){var i=e.$options.props;t in e||i&&j(i,t)||(xe(n)?H(e,t,{get:function(){return n.value},set:function(e){n.value=e}}):H(e,t,{get:function(){return Ce(n)&&n.__ob__.dep.depend(),n},set:function(e){n=e}}))}function rt(e){var t=nt.get(e,"rawBindings")||{};if(t&&Object.keys(t).length){for(var n=e.$refs,i=nt.get(e,"refs")||[],r=0;r<i.length;r++){var s=i[r],o=t[s];!n[s]&&o&&xe(o)&&(o.value=null)}var a=Object.keys(n),l=[];for(r=0;r<a.length;r++){s=a[r],o=t[s];n[s]&&o&&xe(o)&&(o.value=n[s],l.push(s))}nt.set(e,"refs",l)}}function st(e){var t=[e._vnode];while(t.length){var n=t.pop();if(n&&(n.context&&rt(n.context),n.children))for(var i=0;i<n.children.length;++i)t.push(n.children[i])}}function ot(e,t){var n,i;if(e){var r=nt.get(e,"attrBindings");if(r||t){if(!r){var s=Le({});r={ctx:t,data:s},nt.set(e,"attrBindings",r),H(t,"attrs",{get:function(){return null===r||void 0===r?void 0:r.data},set:function(){}})}var o=e.$attrs,a=function(t){j(r.data,t)||H(r.data,t,{get:function(){return e.$attrs[t]}})};try{for(var l=f(Object.keys(o)),c=l.next();!c.done;c=l.next()){var u=c.value;a(u)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}}}function at(e,t){var n=e.$options._parentVnode;if(n){for(var i=nt.get(e,"slots")||[],r=le(n.data.scopedSlots,e.$slots),s=0;s<i.length;s++){var o=i[s];r[o]||delete t[o]}var a=Object.keys(r);for(s=0;s<a.length;s++){o=a[s];t[o]||(t[o]=ae(e,o))}nt.set(e,"slots",a)}}function lt(e,t,n){var i=M();O(e);try{return t(e)}catch(r){if(!n)throw r;n(r)}finally{O(i)}}function ct(e){function t(){var e=this,t=e.$options,i=t.setup,r=t.render;if(r&&(t.render=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return lt(F(e),(function(){return r.apply(t,n)}))}),i&&te(i)){var s=t.data;t.data=function(){return n(e,e.$props),te(s)?s.call(e,e):s||{}}}}function n(e,t){void 0===t&&(t={});var n,o=e.$options.setup,a=s(e),l=F(e);if(l.setupContext=a,U(t,"__ob__",Re()),at(e,a.slots),lt(l,(function(){n=o(t,a)})),n)if(te(n)){var c=n;e.$options.render=function(){return at(e,a.slots),lt(l,(function(){return c()}))}}else if(J(n)){Ce(n)&&(n=we(n)),nt.set(e,"rawBindings",n);var u=n;Object.keys(u).forEach((function(t){var n=u[t];if(!xe(n))if(Ce(n))W(n)&&(n=be(n));else if(te(n)){var s=n;n=n.bind(e),Object.keys(s).forEach((function(e){n[e]=s[e]}))}else J(n)?r(n)&&i(n):n=be(n);it(e,t,n)}))}else 0}function i(e,t){if(void 0===t&&(t=new Set),!t.has(e)&&ee(e)&&!xe(e)&&!Ce(e)&&!ke(e)){var n=P(),r=n.util.defineReactive;Object.keys(e).forEach((function(n){var s=e[n];r(e,n,s),s&&(t.add(s),i(s,t))}))}}function r(e,t){return void 0===t&&(t=new Map),t.has(e)?t.get(e):(t.set(e,!1),W(e)&&Ce(e)?(t.set(e,!0),!0):!(!ee(e)||ke(e)||xe(e))&&Object.keys(e).some((function(n){return r(e[n],t)})))}function s(e){var t={slots:{}},n=["root","parent","refs","listeners","isServer","ssrContext"],i=["emit"];return n.forEach((function(n){var i="$".concat(n);H(t,n,{get:function(){return e[i]},set:function(){}})})),ot(e,t),i.forEach((function(n){var i="$".concat(n);H(t,n,{get:function(){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e[i];r.apply(e,t)}}})})),t}e.mixin({beforeCreate:t,mounted:function(){st(this)},beforeUpdate:function(){ot(this)},updated:function(){st(this)}})}function ut(e,t){if(!e)return t;if(!t)return e;for(var n,i,r,s=q?Reflect.ownKeys(e):Object.keys(e),o=0;o<s.length;o++)n=s[o],"__ob__"!==n&&(i=t[n],r=e[n],j(t,n)?i!==r&&ee(i)&&!xe(i)&&ee(r)&&!xe(r)&&ut(r,i):t[n]=r);return t}function ht(e){E(e)||(e.config.optionMergeStrategies.setup=function(e,t){return function(n,i){return ut(te(e)?e(n,i)||{}:void 0,te(t)?t(n,i)||{}:void 0)}},L(e),ct(e))}var dt={install:function(e){return ht(e)}};function ft(){return"undefined"===typeof navigator.onLine||navigator.onLine}function pt(){return"undefined"===typeof document||"undefined"===typeof document.visibilityState||"hidden"!==document.visibilityState}"undefined"!==typeof window&&window.Vue&&window.Vue.use(dt);var gt=function(e){return fetch(e).then((function(e){return e.json()}))};const mt={isOnline:ft,isDocumentVisible:pt,fetcher:gt};var vt=function(){return vt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},vt.apply(this,arguments)},yt=function(e,t,n,i){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):r(e.value).then(o,a)}l((i=i.apply(e,t||[])).next())}))},bt=function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,i&&(r=2&s[0]?i["return"]:s[0]?i["throw"]||((r=i["return"])&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},xt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),o=[];try{while((void 0===t||t-- >0)&&!(i=s.next()).done)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s["return"])&&n.call(s)}finally{if(r)throw r.error}}return o},wt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xt(arguments[t]));return e},_t=new l,St=new l,kt=new l,Ct={cache:_t,refreshInterval:0,ttl:0,serverTTL:1e3,dedupingInterval:2e3,revalidateOnFocus:!0,revalidateDebounce:0,shouldRetryOnError:!0,errorRetryInterval:5e3,errorRetryCount:5,fetcher:mt.fetcher,isOnline:mt.isOnline,isDocumentVisible:mt.isDocumentVisible};function At(e,t,n){var i=St.get(e);if(i)i.data.push(t);else{var r=5e3;St.set(e,[t],n>0?n+r:n)}}function Tt(e,t,n){if(n.isDocumentVisible()&&!(void 0!==n.errorRetryCount&&t>n.errorRetryCount)){var i=Math.min(t||0,n.errorRetryCount),r=i*n.errorRetryInterval;setTimeout((function(){e(null,{errorRetryCount:i+1,shouldRetryOnError:!0})}),r)}}var It=function(e,t,n,i){return void 0===n&&(n=_t),void 0===i&&(i=Ct.ttl),yt(void 0,void 0,void 0,(function(){var r,s,o,a,l,c,u;return bt(this,(function(h){switch(h.label){case 0:if(!Pt(t))return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,t];case 2:return r=h.sent(),[3,4];case 3:return a=h.sent(),s=a,[3,4];case 4:return[3,6];case 5:r=t,h.label=6;case 6:return o=!1,l={data:r,error:s,isValidating:o},"undefined"!==typeof r&&n.set(e,l,i),c=St.get(e),c&&c.data.length&&(u=c.data.filter((function(t){return t.key===e})),u.forEach((function(e,t){"undefined"!==typeof l.data&&(e.data=l.data),e.error=l.error,e.isValidating=l.isValidating;var n=t===u.length-1;n||delete u[t]})),u=u.filter(Boolean)),[2,l]}}))}))};function Et(){for(var e,t,n=this,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var s=vt({},Ct),o=!1,a=!1,l=M(),c=(null===l||void 0===l?void 0:l.proxy)||l;if(!c)throw new Error("Could not get current instance, check to make sure that `useSwrv` is declared in the top level of the setup function.");var u=c.$isServer,h=Boolean(!u&&c.$vnode&&c.$vnode.elm&&c.$vnode.elm.dataset&&c.$vnode.elm.dataset.swrvKey);i.length>=1&&(e=i[0]),i.length>=2&&(t=i[1]),i.length>2&&(s=vt(vt({},s),i[2]));var d=u?s.serverTTL:s.ttl,f="function"===typeof e?e:be(e);"undefined"===typeof t&&(t=s.fetcher);var p=null;if(h){var g=window.__SWRV_STATE__||window.__NUXT__&&window.__NUXT__.swrv||[],m=+c.$vnode.elm.dataset.swrvKey;if(void 0!==m&&null!==m){var v=g[m]||[],y=v[xe(f)?f.value:f()];y&&(p=Le(y),a=!0)}}p||(p=Le({data:void 0,error:void 0,isValidating:!0,key:null}));var b=function(e,i){return yt(n,void 0,void 0,(function(){var n,r,a,l,c,u,h,g=this;return bt(this,(function(m){switch(m.label){case 0:return n=void 0===p.data,r=f.value,r?(a=s.cache.get(r),l=a&&a.data,p.isValidating=!0,l&&(p.data=l.data,p.error=l.error),c=e||t,!c||!s.isDocumentVisible()&&!n||void 0!==(null===i||void 0===i?void 0:i.forceRevalidate)&&!(null===i||void 0===i?void 0:i.forceRevalidate)||a&&(u=Boolean(Date.now()-a.createdAt>=s.dedupingInterval||(null===i||void 0===i?void 0:i.forceRevalidate)),!u)?(p.isValidating=!1,[2]):(h=function(){return yt(g,void 0,void 0,(function(){var e,t,n,o;return bt(this,(function(a){switch(a.label){case 0:return e=kt.get(r),e?[3,2]:(t=Array.isArray(r)?r:[r],n=c.apply(void 0,wt(t)),kt.set(r,n,s.dedupingInterval),[4,It(r,n,s.cache,d)]);case 1:return a.sent(),[3,4];case 2:return[4,It(r,e.data,s.cache,d)];case 3:a.sent(),a.label=4;case 4:return p.isValidating=!1,kt.delete(r),void 0!==p.error&&(o=s.shouldRetryOnError&&(!i||i.shouldRetryOnError),o&&Tt(b,i?i.errorRetryCount:1,s)),[2]}}))}))},l&&s.revalidateDebounce?[4,setTimeout((function(){return yt(g,void 0,void 0,(function(){return bt(this,(function(e){switch(e.label){case 0:return o?[3,2]:[4,h()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}),s.revalidateDebounce)]:[3,2])):[2];case 1:return m.sent(),[3,4];case 2:return[4,h()];case 3:m.sent(),m.label=4;case 4:return[2]}}))}))},x=function(){return yt(n,void 0,void 0,(function(){return bt(this,(function(e){return[2,b(null,{shouldRetryOnError:!1})]}))}))},w=null;if(ze((function(){var e=function(){return yt(n,void 0,void 0,(function(){return bt(this,(function(t){switch(t.label){case 0:return p.error||!s.isOnline()?[3,2]:[4,b()];case 1:return t.sent(),[3,3];case 2:w&&clearTimeout(w),t.label=3;case 3:return s.refreshInterval&&!o&&(w=setTimeout(e,s.refreshInterval)),[2]}}))}))};s.refreshInterval&&(w=setTimeout(e,s.refreshInterval)),s.revalidateOnFocus&&(document.addEventListener("visibilitychange",x,!1),window.addEventListener("focus",x,!1))})),Be((function(){o=!0,w&&clearTimeout(w),s.revalidateOnFocus&&(document.removeEventListener("visibilitychange",x,!1),window.removeEventListener("focus",x,!1));var e=St.get(f.value);e&&(e.data=e.data.filter((function(e){return e!==p})))})),u){var _=[];c.$ssrContext&&(_=c.$ssrContext.swrv=c.$ssrContext.swrv||_);var S=_.length;(!c.$vnode||c.$node&&!c.$node.data)&&(c.$vnode={data:{attrs:{"data-swrv-key":S}}});var k=c.$vnode.data.attrs=c.$vnode.data.attrs||{};k["data-swrv-key"]=S,c.$ssrContext&&c.$ssrContext.nuxt&&(c.$ssrContext.nuxt.swrv=_),qe((function(){return yt(n,void 0,void 0,(function(){return bt(this,(function(e){switch(e.label){case 0:return[4,b()];case 1:return e.sent(),_[S]||(_[S]={}),_[S][f.value]={data:p.data,error:p.error,isValidating:p.isValidating},[2]}}))}))}))}try{Qe(f,(function(e){f.value=e,p.key=e,p.isValidating=Boolean(e),At(f.value,p,d),u||a||!f.value||b(),a=!1}),{immediate:!0})}catch(Nt){}var C=vt(vt({},we(p)),{mutate:function(e,t){return b(e,vt(vt({},t),{forceRevalidate:!0}))}});return C}function Pt(e){return null!==e&&"object"===typeof e&&"function"===typeof e.then}const Rt=Et,Lt=Rt},1639:(e,t)=>{"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n}},8910:(e,t,n)=>{"use strict";n.d(t,{p7:()=>nt,r5:()=>W});var i=n(9835),r=n(499);
/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const s="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,o=e=>s?Symbol(e):"_vr_"+e,a=o("rvlm"),l=o("rvd"),c=o("r"),u=o("rl"),h=o("rvl"),d="undefined"!==typeof window;function f(e){return e.__esModule||s&&"Module"===e[Symbol.toStringTag]}const p=Object.assign;function g(e,t){const n={};for(const i in t){const r=t[i];n[i]=Array.isArray(r)?r.map(e):e(r)}return n}const m=()=>{};const v=/\/$/,y=e=>e.replace(v,"");function b(e,t,n="/"){let i,r={},s="",o="";const a=t.indexOf("?"),l=t.indexOf("#",a>-1?a:0);return a>-1&&(i=t.slice(0,a),s=t.slice(a+1,l>-1?l:t.length),r=e(s)),l>-1&&(i=i||t.slice(0,l),o=t.slice(l,t.length)),i=T(null!=i?i:t,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:o}}function x(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function w(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function _(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&S(t.matched[i],n.matched[r])&&k(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function S(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function k(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!C(e[n],t[n]))return!1;return!0}function C(e,t){return Array.isArray(e)?A(e,t):Array.isArray(t)?A(t,e):e===t}function A(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function T(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let r,s,o=n.length-1;for(r=0;r<i.length;r++)if(s=i[r],1!==o&&"."!==s){if(".."!==s)break;o--}return n.slice(0,o).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}var I,E;(function(e){e["pop"]="pop",e["push"]="push"})(I||(I={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(E||(E={}));function P(e){if(!e)if(d){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),y(e)}const R=/^[^#]+#/;function L(e,t){return e.replace(R,"#")+t}function N(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const O=()=>({left:window.pageXOffset,top:window.pageYOffset});function M(e){let t;if("el"in e){const n=e.el,i="string"===typeof n&&n.startsWith("#");0;const r="string"===typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=N(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function D(e,t){const n=history.state?history.state.position-t:-1;return n+e}const F=new Map;function z(e,t){F.set(e,t)}function B(e){const t=F.get(e);return F.delete(e),t}let q=()=>location.protocol+"//"+location.host;function V(e,t){const{pathname:n,search:i,hash:r}=t,s=e.indexOf("#");if(s>-1){let t=r.includes(e.slice(s))?e.slice(s).length:1,n=r.slice(t);return"/"!==n[0]&&(n="/"+n),w(n,"")}const o=w(n,e);return o+i+r}function H(e,t,n,i){let r=[],s=[],o=null;const a=({state:s})=>{const a=V(e,location),l=n.value,c=t.value;let u=0;if(s){if(n.value=a,t.value=s,o&&o===l)return void(o=null);u=c?s.position-c.position:0}else i(a);r.forEach((e=>{e(n.value,l,{delta:u,type:I.pop,direction:u?u>0?E.forward:E.back:E.unknown})}))};function l(){o=n.value}function c(e){r.push(e);const t=()=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)};return s.push(t),t}function u(){const{history:e}=window;e.state&&e.replaceState(p({},e.state,{scroll:O()}),"")}function h(){for(const e of s)e();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:h}}function U(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?O():null}}function j(e){const{history:t,location:n}=window,i={value:V(e,n)},r={value:t.state};function s(i,s,o){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+i:q()+e+i;try{t[o?"replaceState":"pushState"](s,"",l),r.value=s}catch(c){console.error(c),n[o?"replace":"assign"](l)}}function o(e,n){const o=p({},t.state,U(r.value.back,e,r.value.forward,!0),n,{position:r.value.position});s(e,o,!0),i.value=e}function a(e,n){const o=p({},r.value,t.state,{forward:e,scroll:O()});s(o.current,o,!0);const a=p({},U(i.value,e,null),{position:o.position+1},n);s(e,a,!1),i.value=e}return r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:i,state:r,push:a,replace:o}}function Y(e){e=P(e);const t=j(e),n=H(e,t.state,t.location,t.replace);function i(e,t=!0){t||n.pauseListeners(),history.go(e)}const r=p({location:"",base:e,go:i,createHref:L.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function W(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Y(e)}function X(e){return"string"===typeof e||e&&"object"===typeof e}function $(e){return"string"===typeof e||"symbol"===typeof e}const G={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},K=o("nf");var Z;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(Z||(Z={}));function Q(e,t){return p(new Error,{type:e,[K]:!0},t)}function J(e,t){return e instanceof Error&&K in e&&(null==t||!!(e.type&t))}const ee="[^/]+?",te={sensitive:!1,strict:!1,start:!0,end:!0},ne=/[.+*?^${}()[\]/\\]/g;function ie(e,t){const n=p({},te,t),i=[];let r=n.start?"^":"";const s=[];for(const u of e){const e=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let t=0;t<u.length;t++){const i=u[t];let o=40+(n.sensitive?.25:0);if(0===i.type)t||(r+="/"),r+=i.value.replace(ne,"\\$&"),o+=40;else if(1===i.type){const{value:e,repeatable:n,optional:a,regexp:l}=i;s.push({name:e,repeatable:n,optional:a});const h=l||ee;if(h!==ee){o+=10;try{new RegExp(`(${h})`)}catch(c){throw new Error(`Invalid custom RegExp for param "${e}" (${h}): `+c.message)}}let d=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;t||(d=a&&u.length<2?`(?:/${d})`:"/"+d),a&&(d+="?"),r+=d,o+=20,a&&(o+=-8),n&&(o+=-20),".*"===h&&(o+=-50)}e.push(o)}i.push(e)}if(n.strict&&n.end){const e=i.length-1;i[e][i[e].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(e){const t=e.match(o),n={};if(!t)return null;for(let i=1;i<t.length;i++){const e=t[i]||"",r=s[i-1];n[r.name]=e&&r.repeatable?e.split("/"):e}return n}function l(t){let n="",i=!1;for(const r of e){i&&n.endsWith("/")||(n+="/"),i=!1;for(const s of r)if(0===s.type)n+=s.value;else if(1===s.type){const{value:o,repeatable:a,optional:l}=s,c=o in t?t[o]:"";if(Array.isArray(c)&&!a)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const u=Array.isArray(c)?c.join("/"):c;if(!u){if(!l)throw new Error(`Missing required param "${o}"`);r.length<2&&e.length>1&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=u}}return n}return{re:o,score:i,keys:s,parse:a,stringify:l}}function re(e,t){let n=0;while(n<e.length&&n<t.length){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function se(e,t){let n=0;const i=e.score,r=t.score;while(n<i.length&&n<r.length){const e=re(i[n],r[n]);if(e)return e;n++}return r.length-i.length}const oe={type:0,value:""},ae=/[a-zA-Z0-9_]/;function le(e){if(!e)return[[]];if("/"===e)return[[oe]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a,l=0,c="",u="";function h(){c&&(0===n?s.push({type:0,value:c}):1===n||2===n||3===n?(s.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),c="")}function d(){c+=a}while(l<e.length)if(a=e[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&h(),o()):":"===a?(h(),n=1):d();break;case 4:d(),n=i;break;case 1:"("===a?n=2:ae.test(a)?d():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:t("Unknown state");break}else i=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function ce(e,t,n){const i=ie(le(e.path),n);const r=p(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf===!t.record.aliasOf&&t.children.push(r),r}function ue(e,t){const n=[],i=new Map;function r(e){return i.get(e)}function s(e,n,i){const r=!i,a=de(e);a.aliasOf=i&&i.record;const c=me(t,e),u=[a];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(p({},a,{components:i?i.record.components:a.components,path:e,aliasOf:i?i.record:a}))}let h,d;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,i="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&i+u)}if(h=ce(t,n,c),i?i.alias.push(h):(d=d||h,d!==h&&d.alias.push(h),r&&e.name&&!pe(h)&&o(e.name)),"children"in a){const e=a.children;for(let t=0;t<e.length;t++)s(e[t],h,i&&i.children[t])}i=i||h,l(h)}return d?()=>{o(d)}:m}function o(e){if($(e)){const t=i.get(e);t&&(i.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&i.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function a(){return n}function l(e){let t=0;while(t<n.length&&se(e,n[t])>=0&&(e.record.path!==n[t].record.path||!ve(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!pe(e)&&i.set(e.record.name,e)}function c(e,t){let r,s,o,a={};if("name"in e&&e.name){if(r=i.get(e.name),!r)throw Q(1,{location:e});o=r.record.name,a=p(he(t.params,r.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),s=r.stringify(a)}else if("path"in e)s=e.path,r=n.find((e=>e.re.test(s))),r&&(a=r.parse(s),o=r.record.name);else{if(r=t.name?i.get(t.name):n.find((e=>e.re.test(t.path))),!r)throw Q(1,{location:e,currentLocation:t});o=r.record.name,a=p({},t.params,e.params),s=r.stringify(a)}const l=[];let c=r;while(c)l.unshift(c.record),c=c.parent;return{name:o,path:s,params:a,matched:l,meta:ge(l)}}return t=me({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>s(e))),{addRoute:s,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function he(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function de(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:fe(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function fe(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]="boolean"===typeof n?n:n[i];return t}function pe(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ge(e){return e.reduce(((e,t)=>p(e,t.meta)),{})}function me(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function ve(e,t){return t.children.some((t=>t===e||ve(e,t)))}const ye=/#/g,be=/&/g,xe=/\//g,we=/=/g,_e=/\?/g,Se=/\+/g,ke=/%5B/g,Ce=/%5D/g,Ae=/%5E/g,Te=/%60/g,Ie=/%7B/g,Ee=/%7C/g,Pe=/%7D/g,Re=/%20/g;function Le(e){return encodeURI(""+e).replace(Ee,"|").replace(ke,"[").replace(Ce,"]")}function Ne(e){return Le(e).replace(Ie,"{").replace(Pe,"}").replace(Ae,"^")}function Oe(e){return Le(e).replace(Se,"%2B").replace(Re,"+").replace(ye,"%23").replace(be,"%26").replace(Te,"`").replace(Ie,"{").replace(Pe,"}").replace(Ae,"^")}function Me(e){return Oe(e).replace(we,"%3D")}function De(e){return Le(e).replace(ye,"%23").replace(_e,"%3F")}function Fe(e){return null==e?"":De(e).replace(xe,"%2F")}function ze(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Be(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],i=(n?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const e=i[r].replace(Se," "),n=e.indexOf("="),s=ze(n<0?e:e.slice(0,n)),o=n<0?null:ze(e.slice(n+1));if(s in t){let e=t[s];Array.isArray(e)||(e=t[s]=[e]),e.push(o)}else t[s]=o}return t}function qe(e){let t="";for(let n in e){const i=e[n];if(n=Me(n),null==i){void 0!==i&&(t+=(t.length?"&":"")+n);continue}const r=Array.isArray(i)?i.map((e=>e&&Oe(e))):[i&&Oe(i)];r.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Ve(e){const t={};for(const n in e){const i=e[n];void 0!==i&&(t[n]=Array.isArray(i)?i.map((e=>null==e?null:""+e)):null==i?i:""+i)}return t}function He(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Ue(e,t,n,i,r){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise(((o,a)=>{const l=e=>{!1===e?a(Q(4,{from:n,to:t})):e instanceof Error?a(e):X(e)?a(Q(2,{from:t,to:e})):(s&&i.enterCallbacks[r]===s&&"function"===typeof e&&s.push(e),o())},c=e.call(i&&i.instances[r],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch((e=>a(e)))}))}function je(e,t,n,i){const r=[];for(const s of e)for(const e in s.components){let o=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if(Ye(o)){const a=o.__vccOpts||o,l=a[t];l&&r.push(Ue(l,n,i,s,e))}else{let a=o();0,r.push((()=>a.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const o=f(r)?r.default:r;s.components[e]=o;const a=o.__vccOpts||o,l=a[t];return l&&Ue(l,n,i,s,e)()}))))}}return r}function Ye(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function We(e){const t=(0,i.f3)(c),n=(0,i.f3)(u),s=(0,i.Fl)((()=>t.resolve((0,r.SU)(e.to)))),o=(0,i.Fl)((()=>{const{matched:e}=s.value,{length:t}=e,i=e[t-1],r=n.matched;if(!i||!r.length)return-1;const o=r.findIndex(S.bind(null,i));if(o>-1)return o;const a=Ze(e[t-2]);return t>1&&Ze(i)===a&&r[r.length-1].path!==a?r.findIndex(S.bind(null,e[t-2])):o})),a=(0,i.Fl)((()=>o.value>-1&&Ke(n.params,s.value.params))),l=(0,i.Fl)((()=>o.value>-1&&o.value===n.matched.length-1&&k(n.params,s.value.params)));function h(n={}){return Ge(n)?t[(0,r.SU)(e.replace)?"replace":"push"]((0,r.SU)(e.to)).catch(m):Promise.resolve()}return{route:s,href:(0,i.Fl)((()=>s.value.href)),isActive:a,isExactActive:l,navigate:h}}const Xe=(0,i.aZ)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:We,setup(e,{slots:t}){const n=(0,r.qj)(We(e)),{options:s}=(0,i.f3)(c),o=(0,i.Fl)((()=>({[Qe(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Qe(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:(0,i.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),$e=Xe;function Ge(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ke(e,t){for(const n in t){const i=t[n],r=e[n];if("string"===typeof i){if(i!==r)return!1}else if(!Array.isArray(r)||r.length!==i.length||i.some(((e,t)=>e!==r[t])))return!1}return!0}function Ze(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Qe=(e,t,n)=>null!=e?e:null!=t?t:n,Je=(0,i.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=(0,i.f3)(h),o=(0,i.Fl)((()=>e.route||s.value)),c=(0,i.f3)(l,0),u=(0,i.Fl)((()=>o.value.matched[c]));(0,i.JJ)(l,c+1),(0,i.JJ)(a,u),(0,i.JJ)(h,o);const d=(0,r.iH)();return(0,i.YP)((()=>[d.value,u.value,e.name]),(([e,t,n],[i,r,s])=>{t&&(t.instances[n]=e,r&&r!==t&&e&&e===i&&(t.leaveGuards.size||(t.leaveGuards=r.leaveGuards),t.updateGuards.size||(t.updateGuards=r.updateGuards))),!e||!t||r&&S(t,r)&&i||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=o.value,s=u.value,a=s&&s.components[e.name],l=e.name;if(!a)return et(n.default,{Component:a,route:r});const c=s.props[e.name],h=c?!0===c?r.params:"function"===typeof c?c(r):c:null,f=e=>{e.component.isUnmounted&&(s.instances[l]=null)},g=(0,i.h)(a,p({},h,t,{onVnodeUnmounted:f,ref:d}));return et(n.default,{Component:g,route:r})||g}}});function et(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const tt=Je;function nt(e){const t=ue(e.routes,e),n=e.parseQuery||Be,s=e.stringifyQuery||qe,o=e.history;const a=He(),l=He(),f=He(),v=(0,r.XI)(G);let y=G;d&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=g.bind(null,(e=>""+e)),S=g.bind(null,Fe),k=g.bind(null,ze);function C(e,n){let i,r;return $(e)?(i=t.getRecordMatcher(e),r=n):r=e,t.addRoute(r,i)}function A(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function T(){return t.getRoutes().map((e=>e.record))}function E(e){return!!t.getRecordMatcher(e)}function P(e,i){if(i=p({},i||v.value),"string"===typeof e){const r=b(n,e,i.path),s=t.resolve({path:r.path},i),a=o.createHref(r.fullPath);return p(r,s,{params:k(s.params),hash:ze(r.hash),redirectedFrom:void 0,href:a})}let r;if("path"in e)r=p({},e,{path:b(n,e.path,i.path).path});else{const t=p({},e.params);for(const e in t)null==t[e]&&delete t[e];r=p({},e,{params:S(e.params)}),i.params=S(i.params)}const a=t.resolve(r,i),l=e.hash||"";a.params=w(k(a.params));const c=x(s,p({},e,{hash:Ne(l),path:a.path})),u=o.createHref(c);return p({fullPath:c,hash:l,query:s===qe?Ve(e.query):e.query||{}},a,{redirectedFrom:void 0,href:u})}function R(e){return"string"===typeof e?b(n,e,v.value.path):p({},e)}function L(e,t){if(y!==e)return Q(8,{from:t,to:e})}function N(e){return V(e)}function F(e){return N(p(R(e),{replace:!0}))}function q(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let i="function"===typeof n?n(e):n;return"string"===typeof i&&(i=i.includes("?")||i.includes("#")?i=R(i):{path:i},i.params={}),p({query:e.query,hash:e.hash,params:e.params},i)}}function V(e,t){const n=y=P(e),i=v.value,r=e.state,o=e.force,a=!0===e.replace,l=q(n);if(l)return V(p(R(l),{state:r,force:o,replace:a}),t||n);const c=n;let u;return c.redirectedFrom=t,!o&&_(s,i,n)&&(u=Q(16,{to:c,from:i}),re(i,i,!0,!1)),(u?Promise.resolve(u):U(c,i)).catch((e=>J(e)?J(e,2)?e:ie(e):te(e,c,i))).then((e=>{if(e){if(J(e,2))return V(p(R(e.to),{state:r,force:o,replace:a}),t||c)}else e=Y(c,i,!0,a,r);return j(c,i,e),e}))}function H(e,t){const n=L(e,t);return n?Promise.reject(n):Promise.resolve()}function U(e,t){let n;const[i,r,s]=rt(e,t);n=je(i.reverse(),"beforeRouteLeave",e,t);for(const a of i)a.leaveGuards.forEach((i=>{n.push(Ue(i,e,t))}));const o=H.bind(null,e,t);return n.push(o),it(n).then((()=>{n=[];for(const i of a.list())n.push(Ue(i,e,t));return n.push(o),it(n)})).then((()=>{n=je(r,"beforeRouteUpdate",e,t);for(const i of r)i.updateGuards.forEach((i=>{n.push(Ue(i,e,t))}));return n.push(o),it(n)})).then((()=>{n=[];for(const i of e.matched)if(i.beforeEnter&&!t.matched.includes(i))if(Array.isArray(i.beforeEnter))for(const r of i.beforeEnter)n.push(Ue(r,e,t));else n.push(Ue(i.beforeEnter,e,t));return n.push(o),it(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=je(s,"beforeRouteEnter",e,t),n.push(o),it(n)))).then((()=>{n=[];for(const i of l.list())n.push(Ue(i,e,t));return n.push(o),it(n)})).catch((e=>J(e,8)?e:Promise.reject(e)))}function j(e,t,n){for(const i of f.list())i(e,t,n)}function Y(e,t,n,i,r){const s=L(e,t);if(s)return s;const a=t===G,l=d?history.state:{};n&&(i||a?o.replace(e.fullPath,p({scroll:a&&l&&l.scroll},r)):o.push(e.fullPath,r)),v.value=e,re(e,t,n,a),ie()}let W;function X(){W||(W=o.listen(((e,t,n)=>{const i=P(e),r=q(i);if(r)return void V(p(r,{replace:!0}),i).catch(m);y=i;const s=v.value;d&&z(D(s.fullPath,n.delta),O()),U(i,s).catch((e=>J(e,12)?e:J(e,2)?(V(e.to,i).then((e=>{J(e,20)&&!n.delta&&n.type===I.pop&&o.go(-1,!1)})).catch(m),Promise.reject()):(n.delta&&o.go(-n.delta,!1),te(e,i,s)))).then((e=>{e=e||Y(i,s,!1),e&&(n.delta?o.go(-n.delta,!1):n.type===I.pop&&J(e,20)&&o.go(-1,!1)),j(i,s,e)})).catch(m)})))}let K,Z=He(),ee=He();function te(e,t,n){ie(e);const i=ee.list();return i.length?i.forEach((i=>i(e,t,n))):console.error(e),Promise.reject(e)}function ne(){return K&&v.value!==G?Promise.resolve():new Promise(((e,t)=>{Z.add([e,t])}))}function ie(e){return K||(K=!e,X(),Z.list().forEach((([t,n])=>e?n(e):t())),Z.reset()),e}function re(t,n,r,s){const{scrollBehavior:o}=e;if(!d||!o)return Promise.resolve();const a=!r&&B(D(t.fullPath,0))||(s||!r)&&history.state&&history.state.scroll||null;return(0,i.Y3)().then((()=>o(t,n,a))).then((e=>e&&M(e))).catch((e=>te(e,t,n)))}const se=e=>o.go(e);let oe;const ae=new Set,le={currentRoute:v,addRoute:C,removeRoute:A,hasRoute:E,getRoutes:T,resolve:P,options:e,push:N,replace:F,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:a.add,beforeResolve:l.add,afterEach:f.add,onError:ee.add,isReady:ne,install(e){const t=this;e.component("RouterLink",$e),e.component("RouterView",tt),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,r.SU)(v)}),d&&!oe&&v.value===G&&(oe=!0,N(o.location).catch((e=>{0})));const n={};for(const r in G)n[r]=(0,i.Fl)((()=>v.value[r]));e.provide(c,t),e.provide(u,(0,r.qj)(n)),e.provide(h,v);const s=e.unmount;ae.add(e),e.unmount=function(){ae.delete(e),ae.size<1&&(y=G,W&&W(),W=null,v.value=G,oe=!1,K=!1),s()}}};return le}function it(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function rt(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const s=t.matched[o];s&&(e.matched.find((e=>S(e,s)))?i.push(s):n.push(s));const a=e.matched[o];a&&(t.matched.find((e=>S(e,a)))||r.push(a))}return[n,i,r]}},7092:(e,t,n)=>{e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({8875:function(e,t,n){var i,r,s;(function(n,o){r=[],i=o,s="function"===typeof i?i.apply(t,r):i,void 0===s||(e.exports=s)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,i,r,s=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,a=s.exec(f.stack)||o.exec(f.stack),l=a&&a[1]||!1,c=a&&a[2]||!1,u=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");l===u&&(n=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=n.replace(i,"$1").trim());for(var d=0;d<h.length;d++){if("interactive"===h[d].readyState)return h[d];if(h[d].src===l)return h[d];if(l===u&&h[d].innerHTML&&h[d].innerHTML.trim()===r)return h[d]}return null}}return e}))},"8bbf":function(e,t){e.exports=n(9302)},"95e6":function(e,t){e.exports=n(0)},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var i=window.document.currentScript,r=n("8875");i=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var s=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(n.p=s[1])}var o=n("8bbf"),a=n("95e6"),l=n.n(a);const c=["animationEnd","beforeMount","mounted","updated","click","mouseMove","legendClick","markerClick","selection","dataPointSelection","dataPointMouseEnter","dataPointMouseLeave","beforeZoom","beforeResetZoom","zoomed","scrolled","scrolled"],u=Object(o["defineComponent"])({name:"apexchart",props:{options:{type:Object},type:{type:String},series:{type:Array,required:!0},width:{default:"100%"},height:{default:"auto"}},emits:c,setup(e,{emit:t}){const n=Object(o["ref"])(null),i=Object(o["ref"])(null),r=e=>e&&"object"===typeof e&&!Array.isArray(e)&&null!=e,s=(e,t)=>{"function"!==typeof Object.assign&&function(){Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");let t=Object(e);for(let n=1;n<arguments.length;n++){let e=arguments[n];if(void 0!==e&&null!==e)for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}return t}}();let n=Object.assign({},e);return r(e)&&r(t)&&Object.keys(t).forEach((i=>{r(t[i])?i in e?n[i]=s(e[i],t[i]):Object.assign(n,{[i]:t[i]}):Object.assign(n,{[i]:t[i]})})),n},a=async()=>{await Object(o["nextTick"])();const r={chart:{type:e.type||e.options.chart.type||"line",height:e.height,width:e.width,events:{}},series:e.series};c.forEach((e=>{let n=(...n)=>t(e,...n);r.chart.events[e]=n}));const a=s(e.options,r);return i.value=new l.a(n.value,a),i.value.render()},u=()=>(h(),a()),h=()=>{i.value.destroy()},d=(e,t)=>i.value.updateSeries(e,t),f=(e,t,n,r)=>i.value.updateOptions(e,t,n,r),p=e=>i.value.toggleSeries(e),g=e=>{i.value.showSeries(e)},m=e=>{i.value.hideSeries(e)},v=(e,t)=>i.value.appendSeries(e,t),y=()=>{i.value.resetSeries()},b=(e,t)=>{i.value.toggleDataPointSelection(e,t)},x=e=>i.value.appendData(e),w=(e,t)=>i.value.zoomX(e,t),_=()=>i.value.dataURI(),S=(e,t)=>{i.value.addXaxisAnnotation(e,t)},k=(e,t)=>{i.value.addYaxisAnnotation(e,t)},C=(e,t)=>{i.value.addPointAnnotation(e,t)},A=(e,t)=>{i.value.removeAnnotation(e,t)},T=()=>{i.value.clearAnnotations()};Object(o["onBeforeMount"])((()=>{window.ApexCharts=l.a})),Object(o["onMounted"])((()=>{n.value=Object(o["getCurrentInstance"])().proxy.$el,a()})),Object(o["onBeforeUnmount"])((()=>{i.value&&h()}));const I=Object(o["toRefs"])(e);return Object(o["watch"])(I.options,(()=>{!i.value&&e.options?a():i.value.updateOptions(e.options)})),Object(o["watch"])(I.series,(()=>{!i.value&&e.series?a():i.value.updateSeries(e.series)}),{deep:!0}),Object(o["watch"])(I.type,(()=>{u()})),Object(o["watch"])(I.width,(()=>{u()})),Object(o["watch"])(I.height,(()=>{u()})),{chart:i,init:a,refresh:u,destroy:h,updateOptions:f,updateSeries:d,toggleSeries:p,showSeries:g,hideSeries:m,resetSeries:y,zoomX:w,toggleDataPointSelection:b,appendData:x,appendSeries:v,addXaxisAnnotation:S,addYaxisAnnotation:k,addPointAnnotation:C,removeAnnotation:A,clearAnnotations:T,dataURI:_}},render(){return Object(o["h"])("div",{class:"vue-apexcharts"})}});var h=u;const d=e=>{e.component(h.name,h)};h.install=d;var f=h;t["default"]=f}})},9302:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseTransition:()=>i.P$,Comment:()=>i.sv,EffectScope:()=>i.Bj,Fragment:()=>i.HY,KeepAlive:()=>i.Ob,ReactiveEffect:()=>i.qq,Static:()=>i.qG,Suspense:()=>i.n4,Teleport:()=>i.lR,Text:()=>i.xv,Transition:()=>i.uT,TransitionGroup:()=>i.W3,VueElement:()=>i.a2,callWithAsyncErrorHandling:()=>i.$d,callWithErrorHandling:()=>i.KU,camelize:()=>i._A,capitalize:()=>i.kC,cloneVNode:()=>i.Ho,compatUtils:()=>i.ry,compile:()=>r,computed:()=>i.Fl,createApp:()=>i.ri,createBlock:()=>i.j4,createCommentVNode:()=>i.kq,createElementBlock:()=>i.iD,createElementVNode:()=>i._,createHydrationRenderer:()=>i.Eo,createPropsRestProxy:()=>i.p1,createRenderer:()=>i.Us,createSSRApp:()=>i.vr,createSlots:()=>i.Nv,createStaticVNode:()=>i.uE,createTextVNode:()=>i.Uk,createVNode:()=>i.Wm,customRef:()=>i.ZM,defineAsyncComponent:()=>i.RC,defineComponent:()=>i.aZ,defineCustomElement:()=>i.MW,defineEmits:()=>i.Bz,defineExpose:()=>i.WY,defineProps:()=>i.yb,defineSSRCustomElement:()=>i.Ah,devtools:()=>i.mW,effect:()=>i.cE,effectScope:()=>i.B,getCurrentInstance:()=>i.FN,getCurrentScope:()=>i.nZ,getTransitionRawChildren:()=>i.Q6,guardReactiveProps:()=>i.F4,h:()=>i.h,handleError:()=>i.S3,hydrate:()=>i.ZB,initCustomFormatter:()=>i.Mr,initDirectivesForSSR:()=>i.Nd,inject:()=>i.f3,isMemoSame:()=>i.nQ,isProxy:()=>i.X3,isReactive:()=>i.PG,isReadonly:()=>i.$y,isRef:()=>i.dq,isRuntimeOnly:()=>i.of,isShallow:()=>i.yT,isVNode:()=>i.lA,markRaw:()=>i.Xl,mergeDefaults:()=>i.u_,mergeProps:()=>i.dG,nextTick:()=>i.Y3,normalizeClass:()=>i.C_,normalizeProps:()=>i.vs,normalizeStyle:()=>i.j5,onActivated:()=>i.dl,onBeforeMount:()=>i.wF,onBeforeUnmount:()=>i.Jd,onBeforeUpdate:()=>i.Xn,onDeactivated:()=>i.se,onErrorCaptured:()=>i.d1,onMounted:()=>i.bv,onRenderTracked:()=>i.bT,onRenderTriggered:()=>i.Yq,onScopeDispose:()=>i.EB,onServerPrefetch:()=>i.vl,onUnmounted:()=>i.SK,onUpdated:()=>i.ic,openBlock:()=>i.wg,popScopeId:()=>i.Cn,provide:()=>i.JJ,proxyRefs:()=>i.WL,pushScopeId:()=>i.dD,queuePostFlushCb:()=>i.qb,reactive:()=>i.qj,readonly:()=>i.OT,ref:()=>i.iH,registerRuntimeCompiler:()=>i.Y1,render:()=>i.sY,renderList:()=>i.Ko,renderSlot:()=>i.WI,resolveComponent:()=>i.up,resolveDirective:()=>i.Q2,resolveDynamicComponent:()=>i.LL,resolveFilter:()=>i.eq,resolveTransitionHooks:()=>i.U2,setBlockTracking:()=>i.qZ,setDevtoolsHook:()=>i.ec,setTransitionHooks:()=>i.nK,shallowReactive:()=>i.Um,shallowReadonly:()=>i.YS,shallowRef:()=>i.XI,ssrContextKey:()=>i.Uc,ssrUtils:()=>i.G,stop:()=>i.sT,toDisplayString:()=>i.zw,toHandlerKey:()=>i.hR,toHandlers:()=>i.mx,toRaw:()=>i.IU,toRef:()=>i.Vh,toRefs:()=>i.BK,transformVNodeArgs:()=>i.C3,triggerRef:()=>i.oR,unref:()=>i.SU,useAttrs:()=>i.l1,useCssModule:()=>i.fb,useCssVars:()=>i.sj,useSSRContext:()=>i.Zq,useSlots:()=>i.Rr,useTransitionState:()=>i.Y8,vModelCheckbox:()=>i.e8,vModelDynamic:()=>i.YZ,vModelRadio:()=>i.G2,vModelSelect:()=>i.bM,vModelText:()=>i.nr,vShow:()=>i.F8,version:()=>i.i8,warn:()=>i.ZK,watch:()=>i.YP,watchEffect:()=>i.m0,watchPostEffect:()=>i.Rh,watchSyncEffect:()=>i.yX,withAsyncContext:()=>i.mv,withCtx:()=>i.w5,withDefaults:()=>i.b9,withDirectives:()=>i.wy,withKeys:()=>i.D2,withMemo:()=>i.MX,withModifiers:()=>i.iM,withScopeId:()=>i.HX});var i=n(1957);const r=()=>{0}},3340:(e,t,n)=>{"use strict";function i(e){return e}function r(e){return e}n.d(t,{BC:()=>r,xr:()=>i})},9859:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(5505),r=n(3513),s=n(8897),o=n(9795);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new r.wA("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate))))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},c=new i.LL("app-compat","Firebase",l);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u(e){const t={},n={__esModule:!0,initializeApp:a,app:o,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:u,removeApp:r,useAsService:h,modularAPIs:s}};function r(e){delete t[e]}function o(e){if(e=e||s._DEFAULT_ENTRY_NAME,!(0,i.r3)(t,e))throw c.create("no-app",{appName:e});return t[e]}function a(r,o={}){const a=s.initializeApp(r,o);if((0,i.r3)(t,a.name))return t[a.name];const l=new e(a,n);return t[a.name]=l,l}function l(){return Object.keys(t).map((e=>t[e]))}function u(t){const r=t.name,a=r.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=o())=>{if("function"!==typeof e[a])throw c.create("invalid-app-argument",{appName:r});return e[a]()};void 0!==t.serviceProps&&(0,i.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){const n=this._getService.bind(this,r);return n.apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null}function h(e,t){if("serverAuth"===t)return null;const n=t;return n}return n["default"]=n,Object.defineProperty(n,"apps",{get:l}),o["App"]=e,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(){const e=u(a);function t(t){(0,i.ZB)(e,t)}return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:h,extendNamespace:t,createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),e}const d=h(),f=new o.Yd("@firebase/app-compat"),p="@firebase/app-compat",g="0.1.26";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function m(e){(0,s.registerVersion)(p,g,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,i.jU)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const v=d;m()},8897:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>s.ZR,SDK_VERSION:()=>ye,_DEFAULT_ENTRY_NAME:()=>se,_addComponent:()=>ce,_addOrOverwriteComponent:()=>ue,_apps:()=>ae,_clearComponents:()=>pe,_components:()=>le,_getProvider:()=>de,_registerComponent:()=>he,_removeServiceInstance:()=>fe,deleteApp:()=>_e,getApp:()=>xe,getApps:()=>we,initializeApp:()=>be,onLog:()=>ke,registerVersion:()=>Se,setLogLevel:()=>Ce});var i=n(3513),r=n(9795),s=n(5505);const o=(e,t)=>t.some((t=>e instanceof t));let a,l;function c(){return a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u(){return l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakMap;function m(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(_(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&h.set(t,e)})).catch((()=>{})),g.set(t,e),t}function v(e){if(d.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)}));d.set(e,t)}let y={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return d.get(e);if("objectStoreNames"===t)return e.objectStoreNames||f.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function b(e){y=e(y)}function x(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?u().includes(e)?function(...t){return e.apply(S(this),t),_(h.get(this))}:function(...t){return _(e.apply(S(this),t))}:function(t,...n){const i=e.call(S(this),t,...n);return f.set(i,t.sort?t.sort():[t]),_(i)}}function w(e){return"function"===typeof e?x(e):(e instanceof IDBTransaction&&v(e),o(e,c())?new Proxy(e,y):e)}function _(e){if(e instanceof IDBRequest)return m(e);if(p.has(e))return p.get(e);const t=w(e);return t!==e&&(p.set(e,t),g.set(t,e)),t}const S=e=>g.get(e);function k(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=_(o);return i&&o.addEventListener("upgradeneeded",(e=>{i(_(o.result),e.oldVersion,e.newVersion,_(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((e=>{s&&e.addEventListener("close",(()=>s())),r&&e.addEventListener("versionchange",(()=>r()))})).catch((()=>{})),a}const C=["get","getKey","getAll","getAllKeys","count"],A=["put","add","delete","clear"],T=new Map;function I(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(T.get(t))return T.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=A.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!C.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,r?"readwrite":"readonly");let o=s.store;return i&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),r&&s.done]))[0]};return T.set(t,s),s}b((e=>({...e,get:(t,n,i)=>I(t,n)||e.get(t,n,i),has:(t,n)=>!!I(t,n)||e.has(t,n)})));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class E{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map((e=>{if(P(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}function P(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}const R="@firebase/app",L="0.7.25",N=new r.Yd("@firebase/app"),O="@firebase/app-compat",M="@firebase/analytics-compat",D="@firebase/analytics",F="@firebase/app-check-compat",z="@firebase/app-check",B="@firebase/auth",q="@firebase/auth-compat",V="@firebase/database",H="@firebase/database-compat",U="@firebase/functions",j="@firebase/functions-compat",Y="@firebase/installations",W="@firebase/installations-compat",X="@firebase/messaging",$="@firebase/messaging-compat",G="@firebase/performance",K="@firebase/performance-compat",Z="@firebase/remote-config",Q="@firebase/remote-config-compat",J="@firebase/storage",ee="@firebase/storage-compat",te="@firebase/firestore",ne="@firebase/firestore-compat",ie="firebase",re="9.8.2",se="[DEFAULT]",oe={[R]:"fire-core",[O]:"fire-core-compat",[D]:"fire-analytics",[M]:"fire-analytics-compat",[z]:"fire-app-check",[F]:"fire-app-check-compat",[B]:"fire-auth",[q]:"fire-auth-compat",[V]:"fire-rtdb",[H]:"fire-rtdb-compat",[U]:"fire-fn",[j]:"fire-fn-compat",[Y]:"fire-iid",[W]:"fire-iid-compat",[X]:"fire-fcm",[$]:"fire-fcm-compat",[G]:"fire-perf",[K]:"fire-perf-compat",[Z]:"fire-rc",[Q]:"fire-rc-compat",[J]:"fire-gcs",[ee]:"fire-gcs-compat",[te]:"fire-fst",[ne]:"fire-fst-compat","fire-js":"fire-js",[ie]:"fire-js-all"},ae=new Map,le=new Map;function ce(e,t){try{e.container.addComponent(t)}catch(n){N.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ue(e,t){e.container.addOrOverwriteComponent(t)}function he(e){const t=e.name;if(le.has(t))return N.debug(`There were multiple attempts to register component ${t}.`),!1;le.set(t,e);for(const n of ae.values())ce(n,e);return!0}function de(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fe(e,t,n=se){de(e,t).clearInstance(n)}function pe(){le.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},me=new s.LL("app","Firebase",ge);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ve{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw me.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye=re;function be(e,t={}){if("object"!==typeof t){const e=t;t={name:e}}const n=Object.assign({name:se,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw me.create("bad-app-name",{appName:String(r)});const o=ae.get(r);if(o){if((0,s.vZ)(e,o.options)&&(0,s.vZ)(n,o.config))return o;throw me.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of le.values())a.addComponent(i);const l=new ve(e,n,a);return ae.set(r,l),l}function xe(e=se){const t=ae.get(e);if(!t)throw me.create("no-app",{appName:e});return t}function we(){return Array.from(ae.values())}async function _e(e){const t=e.name;ae.has(t)&&(ae.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Se(e,t,n){var r;let s=null!==(r=oe[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void N.warn(e.join(" "))}he(new i.wA(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}function ke(e,t){if(null!==e&&"function"!==typeof e)throw me.create("invalid-log-argument");(0,r.Am)(e,t)}function Ce(e){(0,r.Ub)(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae="firebase-heartbeat-database",Te=1,Ie="firebase-heartbeat-store";let Ee=null;function Pe(){return Ee||(Ee=k(Ae,Te,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ie)}}}).catch((e=>{throw me.create("storage-open",{originalErrorMessage:e.message})}))),Ee}async function Re(e){try{const t=await Pe();return t.transaction(Ie).objectStore(Ie).get(Ne(e))}catch(t){throw me.create("storage-get",{originalErrorMessage:t.message})}}async function Le(e,t){try{const n=await Pe(),i=n.transaction(Ie,"readwrite"),r=i.objectStore(Ie);return await r.put(t,Ne(e)),i.done}catch(n){throw me.create("storage-set",{originalErrorMessage:n.message})}}function Ne(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe=1024,Me=2592e6;class De{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Be(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),n=Fe();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf(),n=Date.now();return n-t<=Me})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Fe(),{heartbeatsToSend:t,unsentEntries:n}=ze(this._heartbeatsCache.heartbeats),i=(0,s.L)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Fe(){const e=new Date;return e.toISOString().substring(0,10)}function ze(e,t=Oe){const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),qe(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),qe(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Be{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.hl)()&&(0,s.eu)().then((()=>!0)).catch((()=>!1))}async read(){const e=await this._canUseIndexedDBPromise;if(e){const e=await Re(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Le(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Le(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function qe(e){return(0,s.L)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(e){he(new i.wA("platform-logger",(e=>new E(e)),"PRIVATE")),he(new i.wA("heartbeat",(e=>new De(e)),"PRIVATE")),Se(R,L,e),Se(R,L,"esm2017"),Se("fire-js","")}Ve("")},3513:(e,t,n)=>{"use strict";n.d(t,{H0:()=>c,wA:()=>r,zt:()=>o});var i=n(5505);class r{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(l(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(e=s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=s){return this.instances.has(e)}getOptions(e=s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,s]of this.instancesDeferred.entries()){const e=this.normalizeInstanceIdentifier(r);n===e&&s.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(i){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}return n||null}normalizeInstanceIdentifier(e=s){return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function a(e){return e===s?void 0:e}function l(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},9795:(e,t,n)=>{"use strict";n.d(t,{Am:()=>h,Ub:()=>u,Yd:()=>c,in:()=>r});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const i=[];var r;(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(r||(r={}));const s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},o=r.INFO,a={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),r=a[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}function u(e){i.forEach((t=>{t.setLogLevel(e)}))}function h(e,t){for(const n of i){let i=null;t&&t.level&&(i=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:r[n].toLowerCase(),message:o,args:s,type:t.name})}}}},8593:e=>{"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}}]);